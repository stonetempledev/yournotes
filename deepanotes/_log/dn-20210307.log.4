2021-03-07 11:06:20,895 [9] INFO dn_lib.tools.log - reload core
2021-03-07 11:06:20,991 [9] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:06:21,000 [9] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:06:21,016 [9] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:06:21,032 [9] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:06:21,057 [9] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:06:21,085 [9] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:06:21,109 [9] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:06:21,125 [9] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:06:21,142 [9] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:06:21,158 [9] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:06:21,158 [9] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:06:21,167 [9] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:06:21,168 [9] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:06:21,168 [9] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:06:21,168 [9] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:06:21,168 [9] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:06:21,168 [9] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:06:21,168 [9] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:06:21,223 [9] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:06:21,231 [9] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:06:21,234 [9] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:06:21,234 [9] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:06:21,234 [9] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:06:21,234 [9] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:06:21,242 [9] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:06:21,242 [9] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:06:21,443 [21] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:06:21,448 [21] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:06:21,450 [21] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:06:21,453 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:06:21,454 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:06:21,454 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:06:21,458 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:06:21,460 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:06:21,460 [21] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:06:21,460 [21] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:06:21,460 [21] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:06:21,460 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:06:21,460 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:06:21,460 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:06:21,468 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:06:21,468 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:06:21,468 [21] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:06:21,468 [21] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:06:21,473 [21] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:06:21,473 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:06:21,473 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:06:21,473 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:06:21,473 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:06:21,473 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:06:21,473 [21] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:06:21,481 [21] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:06:21,609 [18] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:06:21,609 [18] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:06:21,609 [18] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:06:21,609 [18] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:06:21,609 [18] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:06:21,609 [18] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:06:21,617 [18] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:06:21,617 [18] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:06:21,617 [18] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:06:21,617 [18] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:06:21,617 [18] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:06:21,617 [18] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:06:21,622 [18] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:06:21,624 [18] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:06:21,625 [18] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:06:21,625 [18] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:06:21,627 [18] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:06:21,628 [18] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:06:21,629 [18] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:06:21,630 [18] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:06:21,631 [18] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:06:21,632 [18] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:06:21,634 [18] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:06:21,635 [18] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:06:21,636 [18] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:06:21,662 [18] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:06:21,704 [18] DEBUG dn_lib.tools.log - SQL: select task_filter_id, filter_title, filter_notes, filter_def, filter_class
 from dn_tasks_filters order by filter_order
2021-03-07 11:06:21,715 [18] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = 0 and var_name in ('active-task-filter')
2021-03-07 11:06:21,721 [18] DEBUG dn_lib.tools.log - SQL: select ft.tp, ft.synch_folder_id, ft.folder_id, ft.parent_id, ft.title
       , ft.des, ft.http_path, ft.lvl, dbo.folder_path(ft.folder_id) as folder_path
       , (select top 1 1 from dn_tasks where folder_id = ft.folder_id) as is_task
      from dbo.fnc_dn_folders(null, null) ft
      
      order by ft.synch_folder_id, ft.lvl, ft.title
2021-03-07 11:06:21,935 [18] DEBUG dn_lib.tools.log - SQL: select f.synch_folder_id, f.file_id, f.folder_id, f.file_name, f.dt_ins , null as found_file
       from dn_files f
       where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
        
	      where ft.synch_folder_id = f.synch_folder_id 
          and isnull(ft.folder_id, 0) = isnull(f.folder_id, 0))
2021-03-07 11:06:22,076 [18] DEBUG dn_lib.tools.log - SQL: select t3.*
      , tst.stato, tst.[order] as stato_order, isnull(tst.class, 'light') as stato_class, isnull(tst.title_plurale, '') as stato_title_plurale, isnull(tst.title_singolare, '') as stato_title_singolare
      , tp.priorita, tp.[order] as priorita_order, isnull(tp.class, 'light') as priorita_class, isnull(tp.title_plurale, '') as priorita_title_plurale, isnull(tp.title_singolare, '') as priorita_title_singolare
      , tt.tipo, tt.[order] as tipo_order, isnull(tt.class, 'light') as tipo_class, isnull(tt.title_plurale, '') as tipo_title_plurale, isnull(tt.title_singolare, '') as tipo_title_singolare
      , ts.stima, ts.[days] as stima_days, isnull(ts.class, 'light') as stima_class, isnull(ts.title_plurale, '') as stima_title_plurale, isnull(ts.title_singolare, '') as stima_title_singolare
      , (select top 1 1 from dn_tasks_notes where task_id = t3.task_id) as task_notes
      , (select top 1 1 from vw_task_allegati f2 where f2.task_id = t3.task_id 
          and not exists (select top 1 1 from dn_files_info where file_name = f2.file_name)) as task_files
  from (select t2.*, datediff(day, t2.dt_ref, getdate()) as diff_days
    from (select t.task_id, t.synch_folder_id, isnull(t.folder_id, f.folder_id) as folder_id
	   , t.file_id, t.title, t.[user], t.stato, t.priorita, t.tipo, t.stima, t.dt_ins, t.dt_upd
     , t.dt_lwt, (case when isnull(t.dt_ins, 0) > isnull(t.dt_upd, 0) then t.dt_ins else t.dt_upd end) as dt_ref
	  from dn_tasks t
    
	  left join dn_files f on f.file_id = t.file_id
    where (null is null or (null is not null and t.task_id = null)) ) t2
    where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
	    where  ft.synch_folder_id = t2.synch_folder_id 
       and isnull(ft.folder_id, 0) = isnull(t2.folder_id, 0))) t3
   left join dn_task_stato tst on tst.stato = t3.stato
   left join dn_task_priorita tp on tp.priorita = t3.priorita
   left join dn_task_tipo tt on tt.tipo = t3.tipo
   left join dn_task_stima ts on ts.stima = t3.stima
   where 1 = 1 
2021-03-07 11:06:22,432 [18] DEBUG dn_lib.tools.log - SQL: select title_singolare, stato from dn_task_stato order by [order]
2021-03-07 11:06:23,009 [18] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, priorita as [value], [order] from dn_task_priorita
      ) t order by t.[order]
2021-03-07 11:06:23,191 [18] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [days]
       union select title_singolare as title, stima as [value], [days] from dn_task_stima 
       ) t order by t.[days]
2021-03-07 11:06:23,199 [18] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, tipo as [value], [order] from dn_task_tipo
       ) t order by t.[order]
2021-03-07 11:06:23,205 [18] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value]
       union select nome as title, nome as [value] from users
       ) t order by 2
2021-03-07 11:06:31,912 [7] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:06:31,917 [7] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:06:31,917 [7] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:06:31,925 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:06:31,927 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:06:31,927 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:06:31,927 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:06:31,934 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:06:31,934 [7] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:06:31,937 [7] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:06:31,937 [7] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:06:31,937 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:06:31,937 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:06:31,937 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:06:31,937 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:06:31,943 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:06:31,944 [7] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:06:31,944 [7] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:06:31,944 [7] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:06:31,948 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:06:31,949 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:06:31,951 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:06:31,951 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:06:31,951 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:06:31,951 [7] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:06:31,951 [7] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:06:32,030 [21] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:06:32,034 [21] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:06:32,036 [21] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:06:32,037 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:06:32,039 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:06:32,039 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:06:32,039 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:06:32,044 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:06:32,045 [21] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:06:32,045 [21] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:06:32,045 [21] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:06:32,048 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:06:32,048 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:06:32,051 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:06:32,051 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:06:32,051 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:06:32,051 [21] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:06:32,051 [21] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:06:32,051 [21] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:06:32,051 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:06:32,051 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:06:32,059 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:06:32,059 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:06:32,059 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:06:32,059 [21] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:06:32,059 [21] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:06:32,076 [21] DEBUG dn_lib.tools.log - SQL: select task_filter_id, filter_title, filter_notes, filter_def, filter_class
 from dn_tasks_filters order by filter_order
2021-03-07 11:06:32,081 [21] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = 0 and var_name in ('active-task-filter')
2021-03-07 11:06:32,083 [21] DEBUG dn_lib.tools.log - SQL: select ft.tp, ft.synch_folder_id, ft.folder_id, ft.parent_id, ft.title
       , ft.des, ft.http_path, ft.lvl, dbo.folder_path(ft.folder_id) as folder_path
       , (select top 1 1 from dn_tasks where folder_id = ft.folder_id) as is_task
      from dbo.fnc_dn_folders(19, null) ft
      
      order by ft.synch_folder_id, ft.lvl, ft.title
2021-03-07 11:06:32,094 [21] DEBUG dn_lib.tools.log - SQL: select f.synch_folder_id, f.file_id, f.folder_id, f.file_name, f.dt_ins , null as found_file
       from dn_files f
       where exists (select top 1 1 from dbo.fnc_dn_folders(19, null) ft 
        
	      where ft.synch_folder_id = f.synch_folder_id 
          and isnull(ft.folder_id, 0) = isnull(f.folder_id, 0))
2021-03-07 11:06:32,130 [21] DEBUG dn_lib.tools.log - SQL: select t3.*
      , tst.stato, tst.[order] as stato_order, isnull(tst.class, 'light') as stato_class, isnull(tst.title_plurale, '') as stato_title_plurale, isnull(tst.title_singolare, '') as stato_title_singolare
      , tp.priorita, tp.[order] as priorita_order, isnull(tp.class, 'light') as priorita_class, isnull(tp.title_plurale, '') as priorita_title_plurale, isnull(tp.title_singolare, '') as priorita_title_singolare
      , tt.tipo, tt.[order] as tipo_order, isnull(tt.class, 'light') as tipo_class, isnull(tt.title_plurale, '') as tipo_title_plurale, isnull(tt.title_singolare, '') as tipo_title_singolare
      , ts.stima, ts.[days] as stima_days, isnull(ts.class, 'light') as stima_class, isnull(ts.title_plurale, '') as stima_title_plurale, isnull(ts.title_singolare, '') as stima_title_singolare
      , (select top 1 1 from dn_tasks_notes where task_id = t3.task_id) as task_notes
      , (select top 1 1 from vw_task_allegati f2 where f2.task_id = t3.task_id 
          and not exists (select top 1 1 from dn_files_info where file_name = f2.file_name)) as task_files
  from (select t2.*, datediff(day, t2.dt_ref, getdate()) as diff_days
    from (select t.task_id, t.synch_folder_id, isnull(t.folder_id, f.folder_id) as folder_id
	   , t.file_id, t.title, t.[user], t.stato, t.priorita, t.tipo, t.stima, t.dt_ins, t.dt_upd
     , t.dt_lwt, (case when isnull(t.dt_ins, 0) > isnull(t.dt_upd, 0) then t.dt_ins else t.dt_upd end) as dt_ref
	  from dn_tasks t
    
	  left join dn_files f on f.file_id = t.file_id
    where (null is null or (null is not null and t.task_id = null)) ) t2
    where exists (select top 1 1 from dbo.fnc_dn_folders(19, null) ft 
	    where  ft.tp <> 'synch_folder' and  ft.synch_folder_id = t2.synch_folder_id 
       and isnull(ft.folder_id, 0) = isnull(t2.folder_id, 0))) t3
   left join dn_task_stato tst on tst.stato = t3.stato
   left join dn_task_priorita tp on tp.priorita = t3.priorita
   left join dn_task_tipo tt on tt.tipo = t3.tipo
   left join dn_task_stima ts on ts.stima = t3.stima
   where 1 = 1 
2021-03-07 11:06:32,174 [21] DEBUG dn_lib.tools.log - SQL: select title_singolare, stato from dn_task_stato order by [order]
2021-03-07 11:06:32,182 [21] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, priorita as [value], [order] from dn_task_priorita
      ) t order by t.[order]
2021-03-07 11:06:32,185 [21] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [days]
       union select title_singolare as title, stima as [value], [days] from dn_task_stima 
       ) t order by t.[days]
2021-03-07 11:06:32,187 [21] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, tipo as [value], [order] from dn_task_tipo
       ) t order by t.[order]
2021-03-07 11:06:32,187 [21] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value]
       union select nome as title, nome as [value] from users
       ) t order by 2
2021-03-07 11:06:49,856 [7] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:06:49,858 [7] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:06:49,860 [7] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:06:49,861 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:06:49,862 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:06:49,864 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:06:49,865 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:06:49,866 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:06:49,868 [7] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:06:49,869 [7] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:06:49,869 [7] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:06:49,870 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:06:49,872 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:06:49,873 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:06:49,874 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:06:49,874 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:06:49,876 [7] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:06:49,876 [7] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:06:49,877 [7] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:06:49,878 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:06:49,880 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:06:49,880 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:06:49,881 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:06:49,882 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:06:49,882 [7] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:06:49,884 [7] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:06:49,972 [7] DEBUG dn_lib.tools.log - SQL: select sf.local_path + replace(dbo.folder_path(f.folder_id), '/', '\') as local_path, sf.synch_folder_id, f.folder_name as name
 from dn_folders f 
 join synch_folders sf on sf.synch_folder_id = f.synch_folder_id
 where f.folder_id = 19
2021-03-07 11:06:49,976 [7] DEBUG dn_lib.tools.log - SQL: select free_txt, stato, priorita, tipo, stima, (case when [default] = 1 then '1' else '0' end) as [default]
        from dn_task_free_labels 
2021-03-07 11:06:50,001 [7] DEBUG dn_lib.tools.log - SQL: insert into dn_folders (synch_folder_id, parent_id, folder_name, dt_ins, readed, dt_upd)
     select synch_folder_id, folder_id, '210307.rigo starrr.molinero.incorso.urgente.task', convert(datetime, convert(varchar, getdate(), 120), 120), 1, convert(datetime, convert(varchar, getdate(), 120), 120)
      from dn_folders where folder_id = 19;select SCOPE_IDENTITY();
2021-03-07 11:06:50,001 [7] DEBUG dn_lib.tools.log - SQL: insert into dn_tasks (synch_folder_id, folder_id, title, [user], stato, dt_upd, readed, priorita, tipo, stima, dt_ins)
 select synch_folder_id, folder_id, 'rigo starrr', 'molinero', 'in_corso', dt_upd, 1, 'altissima', NULL, NULL, dt_ins
  from dn_folders where folder_id = 415;select SCOPE_IDENTITY();
2021-03-07 11:06:50,149 [21] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:06:50,151 [21] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:06:50,151 [21] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:06:50,151 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:06:50,151 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:06:50,151 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:06:50,151 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:06:50,151 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:06:50,159 [21] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:06:50,160 [21] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:06:50,161 [21] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:06:50,163 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:06:50,163 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:06:50,164 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:06:50,164 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:06:50,164 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:06:50,164 [21] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:06:50,164 [21] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:06:50,164 [21] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:06:50,164 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:06:50,164 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:06:50,173 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:06:50,173 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:06:50,173 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:06:50,173 [21] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:06:50,178 [21] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:06:50,190 [21] DEBUG dn_lib.tools.log - SQL: select task_filter_id, filter_title, filter_notes, filter_def, filter_class
 from dn_tasks_filters order by filter_order
2021-03-07 11:06:50,190 [21] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = 0 and var_name in ('active-task-filter')
2021-03-07 11:06:50,198 [21] DEBUG dn_lib.tools.log - SQL: select ft.tp, ft.synch_folder_id, ft.folder_id, ft.parent_id, ft.title
       , ft.des, ft.http_path, ft.lvl, dbo.folder_path(ft.folder_id) as folder_path
       , (select top 1 1 from dn_tasks where folder_id = ft.folder_id) as is_task
      from dbo.fnc_dn_folders(19, null) ft
      
      order by ft.synch_folder_id, ft.lvl, ft.title
2021-03-07 11:06:50,218 [21] DEBUG dn_lib.tools.log - SQL: select f.synch_folder_id, f.file_id, f.folder_id, f.file_name, f.dt_ins , null as found_file
       from dn_files f
       where exists (select top 1 1 from dbo.fnc_dn_folders(19, null) ft 
        
	      where ft.synch_folder_id = f.synch_folder_id 
          and isnull(ft.folder_id, 0) = isnull(f.folder_id, 0))
2021-03-07 11:06:50,246 [21] DEBUG dn_lib.tools.log - SQL: select t3.*
      , tst.stato, tst.[order] as stato_order, isnull(tst.class, 'light') as stato_class, isnull(tst.title_plurale, '') as stato_title_plurale, isnull(tst.title_singolare, '') as stato_title_singolare
      , tp.priorita, tp.[order] as priorita_order, isnull(tp.class, 'light') as priorita_class, isnull(tp.title_plurale, '') as priorita_title_plurale, isnull(tp.title_singolare, '') as priorita_title_singolare
      , tt.tipo, tt.[order] as tipo_order, isnull(tt.class, 'light') as tipo_class, isnull(tt.title_plurale, '') as tipo_title_plurale, isnull(tt.title_singolare, '') as tipo_title_singolare
      , ts.stima, ts.[days] as stima_days, isnull(ts.class, 'light') as stima_class, isnull(ts.title_plurale, '') as stima_title_plurale, isnull(ts.title_singolare, '') as stima_title_singolare
      , (select top 1 1 from dn_tasks_notes where task_id = t3.task_id) as task_notes
      , (select top 1 1 from vw_task_allegati f2 where f2.task_id = t3.task_id 
          and not exists (select top 1 1 from dn_files_info where file_name = f2.file_name)) as task_files
  from (select t2.*, datediff(day, t2.dt_ref, getdate()) as diff_days
    from (select t.task_id, t.synch_folder_id, isnull(t.folder_id, f.folder_id) as folder_id
	   , t.file_id, t.title, t.[user], t.stato, t.priorita, t.tipo, t.stima, t.dt_ins, t.dt_upd
     , t.dt_lwt, (case when isnull(t.dt_ins, 0) > isnull(t.dt_upd, 0) then t.dt_ins else t.dt_upd end) as dt_ref
	  from dn_tasks t
    
	  left join dn_files f on f.file_id = t.file_id
    where (null is null or (null is not null and t.task_id = null)) ) t2
    where exists (select top 1 1 from dbo.fnc_dn_folders(19, null) ft 
	    where  ft.tp <> 'synch_folder' and  ft.synch_folder_id = t2.synch_folder_id 
       and isnull(ft.folder_id, 0) = isnull(t2.folder_id, 0))) t3
   left join dn_task_stato tst on tst.stato = t3.stato
   left join dn_task_priorita tp on tp.priorita = t3.priorita
   left join dn_task_tipo tt on tt.tipo = t3.tipo
   left join dn_task_stima ts on ts.stima = t3.stima
   where 1 = 1 
2021-03-07 11:06:50,297 [21] DEBUG dn_lib.tools.log - SQL: select title_singolare, stato from dn_task_stato order by [order]
2021-03-07 11:06:50,298 [21] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, priorita as [value], [order] from dn_task_priorita
      ) t order by t.[order]
2021-03-07 11:06:50,305 [21] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [days]
       union select title_singolare as title, stima as [value], [days] from dn_task_stima 
       ) t order by t.[days]
2021-03-07 11:06:50,308 [21] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, tipo as [value], [order] from dn_task_tipo
       ) t order by t.[order]
2021-03-07 11:06:50,310 [21] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value]
       union select nome as title, nome as [value] from users
       ) t order by 2
2021-03-07 11:09:06,899 [21] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:09:06,903 [21] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:09:06,903 [21] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:09:06,907 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:09:06,907 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:09:06,907 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:09:06,907 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:09:06,915 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:09:06,915 [21] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:09:06,915 [21] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:09:06,915 [21] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:09:06,915 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:09:06,922 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:09:06,923 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:09:06,923 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:09:06,923 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:09:06,923 [21] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:09:06,923 [21] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:09:06,923 [21] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:09:06,931 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:09:06,931 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:09:06,931 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:09:06,931 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:09:06,931 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:09:06,931 [21] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:09:06,939 [21] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:09:06,971 [21] DEBUG dn_lib.tools.log - SQL: select content from dn_tasks_notes 
       where task_id = 278
2021-03-07 11:09:06,979 [21] DEBUG dn_lib.tools.log - SQL: select a.file_id, a.file_name, a.extension, a.http_path , null as found_file       
       , (select top 1 1 from dn_tasks where task_id = a.task_id and file_id = a.file_id) as file_task
      from vw_task_allegati a
      where a.task_id = 278
2021-03-07 11:09:10,444 [21] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:09:10,444 [21] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:09:10,444 [21] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:09:10,444 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:09:10,444 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:09:10,444 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:09:10,444 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:09:10,456 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:09:10,456 [21] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:09:10,456 [21] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:09:10,456 [21] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:09:10,456 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:09:10,456 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:09:10,456 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:09:10,456 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:09:10,456 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:09:10,456 [21] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:09:10,456 [21] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:09:10,456 [21] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:09:10,472 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:09:10,472 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:09:10,472 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:09:10,472 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:09:10,472 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:09:10,472 [21] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:09:10,472 [21] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:09:38,710 [21] DEBUG dn_lib.tools.log - SQL: select t.task_id, t.synch_folder_id, t.folder_id, t.file_id, t.title, t.dt_upd, t.dt_readed, sf.local_path as synch_local_path
		    , replace(dbo.folder_path(isnull(t.folder_id, f.folder_id)), '/', '\') as folder_path, f.file_id as file_notes_id, f.file_name
       from dn_tasks t
       join synch_folders sf on sf.synch_folder_id = t.synch_folder_id
       left join dn_files f on f.file_id = t.file_id
	   where t.task_id = 278
2021-03-07 11:09:38,735 [21] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 415 and file_name = 'orco.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 415, 'orco.sql', '.sql', 1, convert(datetime, '2021-03-07 11:09:38', 120), convert(datetime, '2021-03-07 11:09:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-07 11:09:38', 120), dt_lwt = convert(datetime, '2021-03-07 11:09:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-07 11:09:38', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-07 11:09:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 11:09:38,735 [21] DEBUG dn_lib.tools.log - SQL: select distinct lower(nome) as nome from users
2021-03-07 11:09:38,751 [21] DEBUG dn_lib.tools.log - SQL: select free_txt, stato, priorita, tipo, stima, (case when [default] = 1 then '1' else '0' end) as [default]
        from dn_task_free_labels 
2021-03-07 11:09:38,751 [21] DEBUG dn_lib.tools.log - SQL: select file_name, type_info from dn_files_info
2021-03-07 11:09:38,763 [21] DEBUG dn_lib.tools.log - SQL: select extension, des_extension, open_comment, close_comment, type_content from dn_files_types
2021-03-07 11:09:38,763 [21] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 754;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (754, '.sql', @content, convert(datetime, '2021-03-07 11:09:38', 120), convert(datetime, '2021-03-07 11:09:38', 120));
2021-03-07 11:09:42,243 [24] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:09:42,243 [24] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:09:42,243 [24] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:09:42,243 [24] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:09:42,243 [24] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:09:42,243 [24] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:09:42,259 [24] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:09:42,259 [24] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:09:42,259 [24] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:09:42,259 [24] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:09:42,259 [24] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:09:42,259 [24] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:09:42,267 [24] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:09:42,267 [24] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:09:42,267 [24] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:09:42,267 [24] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:09:42,267 [24] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:09:42,267 [24] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:09:42,267 [24] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:09:42,267 [24] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:09:42,267 [24] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:09:42,267 [24] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:09:42,267 [24] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:09:42,267 [24] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:09:42,283 [24] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:09:42,285 [24] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:09:42,291 [24] DEBUG dn_lib.tools.log - SQL: select content from dn_tasks_notes 
       where task_id = 278
2021-03-07 11:09:42,305 [24] DEBUG dn_lib.tools.log - SQL: select a.file_id, a.file_name, a.extension, a.http_path , null as found_file       
       , (select top 1 1 from dn_tasks where task_id = a.task_id and file_id = a.file_id) as file_task
      from vw_task_allegati a
      where a.task_id = 278
2021-03-07 11:10:50,157 [45] INFO dn_lib.tools.log - reload core
2021-03-07 11:10:50,226 [45] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:10:50,230 [45] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:10:50,232 [45] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:10:50,233 [45] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:10:50,235 [45] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:10:50,237 [45] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:10:50,238 [45] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:10:50,240 [45] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:10:50,241 [45] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:10:50,243 [45] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:10:50,246 [45] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:10:50,247 [45] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:10:50,248 [45] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:10:50,251 [45] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:10:50,252 [45] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:10:50,253 [45] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:10:50,256 [45] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:10:50,258 [45] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:10:50,272 [45] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:10:50,277 [45] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:10:50,278 [45] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:10:50,281 [45] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:10:50,283 [45] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:10:50,285 [45] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:10:50,287 [45] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:10:50,290 [45] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:10:50,358 [22] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:10:50,360 [22] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:10:50,361 [22] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:10:50,365 [22] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:10:50,367 [22] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:10:50,368 [22] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:10:50,369 [22] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:10:50,370 [22] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:10:50,371 [22] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:10:50,373 [22] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:10:50,375 [22] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:10:50,376 [22] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:10:50,377 [22] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:10:50,378 [22] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:10:50,378 [22] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:10:50,380 [22] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:10:50,381 [22] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:10:50,381 [22] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:10:50,382 [22] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:10:50,383 [22] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:10:50,384 [22] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:10:50,384 [22] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:10:50,385 [22] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:10:50,387 [22] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:10:50,387 [22] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:10:50,389 [22] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:10:50,455 [19] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:10:50,457 [19] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:10:50,459 [19] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:10:50,461 [19] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:10:50,463 [19] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:10:50,464 [19] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:10:50,465 [19] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:10:50,467 [19] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:10:50,468 [19] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:10:50,469 [19] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:10:50,469 [19] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:10:50,471 [19] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:10:50,473 [19] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:10:50,474 [19] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:10:50,475 [19] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:10:50,477 [19] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:10:50,478 [19] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:10:50,480 [19] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:10:50,481 [19] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:10:50,482 [19] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:10:50,483 [19] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:10:50,484 [19] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:10:50,486 [19] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:10:50,487 [19] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:10:50,488 [19] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:10:50,496 [19] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:10:50,552 [19] DEBUG dn_lib.tools.log - SQL: select task_filter_id, filter_title, filter_notes, filter_def, filter_class
 from dn_tasks_filters order by filter_order
2021-03-07 11:10:50,564 [19] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = 0 and var_name in ('active-task-filter')
2021-03-07 11:10:50,576 [19] DEBUG dn_lib.tools.log - SQL: select ft.tp, ft.synch_folder_id, ft.folder_id, ft.parent_id, ft.title
       , ft.des, ft.http_path, ft.lvl, dbo.folder_path(ft.folder_id) as folder_path
       , (select top 1 1 from dn_tasks where folder_id = ft.folder_id) as is_task
      from dbo.fnc_dn_folders(null, null) ft
      
      order by ft.synch_folder_id, ft.lvl, ft.title
2021-03-07 11:10:50,778 [19] DEBUG dn_lib.tools.log - SQL: select f.synch_folder_id, f.file_id, f.folder_id, f.file_name, f.dt_ins , null as found_file
       from dn_files f
       where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
        
	      where ft.synch_folder_id = f.synch_folder_id 
          and isnull(ft.folder_id, 0) = isnull(f.folder_id, 0))
2021-03-07 11:10:50,929 [19] DEBUG dn_lib.tools.log - SQL: select t3.*
      , tst.stato, tst.[order] as stato_order, isnull(tst.class, 'light') as stato_class, isnull(tst.title_plurale, '') as stato_title_plurale, isnull(tst.title_singolare, '') as stato_title_singolare
      , tp.priorita, tp.[order] as priorita_order, isnull(tp.class, 'light') as priorita_class, isnull(tp.title_plurale, '') as priorita_title_plurale, isnull(tp.title_singolare, '') as priorita_title_singolare
      , tt.tipo, tt.[order] as tipo_order, isnull(tt.class, 'light') as tipo_class, isnull(tt.title_plurale, '') as tipo_title_plurale, isnull(tt.title_singolare, '') as tipo_title_singolare
      , ts.stima, ts.[days] as stima_days, isnull(ts.class, 'light') as stima_class, isnull(ts.title_plurale, '') as stima_title_plurale, isnull(ts.title_singolare, '') as stima_title_singolare
      , (select top 1 1 from dn_tasks_notes where task_id = t3.task_id) as task_notes
      , (select top 1 1 from vw_task_allegati f2 where f2.task_id = t3.task_id 
          and not exists (select top 1 1 from dn_files_info where file_name = f2.file_name)) as task_files
  from (select t2.*, datediff(day, t2.dt_ref, getdate()) as diff_days
    from (select t.task_id, t.synch_folder_id, isnull(t.folder_id, f.folder_id) as folder_id
	   , t.file_id, t.title, t.[user], t.stato, t.priorita, t.tipo, t.stima, t.dt_ins, t.dt_upd
     , t.dt_lwt, (case when isnull(t.dt_ins, 0) > isnull(t.dt_upd, 0) then t.dt_ins else t.dt_upd end) as dt_ref
	  from dn_tasks t
    
	  left join dn_files f on f.file_id = t.file_id
    where (null is null or (null is not null and t.task_id = null)) ) t2
    where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
	    where  ft.synch_folder_id = t2.synch_folder_id 
       and isnull(ft.folder_id, 0) = isnull(t2.folder_id, 0))) t3
   left join dn_task_stato tst on tst.stato = t3.stato
   left join dn_task_priorita tp on tp.priorita = t3.priorita
   left join dn_task_tipo tt on tt.tipo = t3.tipo
   left join dn_task_stima ts on ts.stima = t3.stima
   where 1 = 1 
2021-03-07 11:10:51,243 [19] DEBUG dn_lib.tools.log - SQL: select title_singolare, stato from dn_task_stato order by [order]
2021-03-07 11:10:51,819 [19] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, priorita as [value], [order] from dn_task_priorita
      ) t order by t.[order]
2021-03-07 11:10:51,972 [19] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [days]
       union select title_singolare as title, stima as [value], [days] from dn_task_stima 
       ) t order by t.[days]
2021-03-07 11:10:51,977 [19] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, tipo as [value], [order] from dn_task_tipo
       ) t order by t.[order]
2021-03-07 11:10:51,982 [19] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value]
       union select nome as title, nome as [value] from users
       ) t order by 2
2021-03-07 11:10:58,384 [31] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:10:58,386 [31] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:10:58,388 [31] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:10:58,389 [31] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:10:58,391 [31] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:10:58,393 [31] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:10:58,394 [31] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:10:58,395 [31] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:10:58,397 [31] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:10:58,398 [31] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:10:58,399 [31] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:10:58,401 [31] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:10:58,402 [31] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:10:58,403 [31] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:10:58,405 [31] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:10:58,406 [31] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:10:58,407 [31] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:10:58,409 [31] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:10:58,410 [31] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:10:58,411 [31] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:10:58,413 [31] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:10:58,415 [31] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:10:58,416 [31] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:10:58,417 [31] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:10:58,418 [31] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:10:58,420 [31] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:10:58,526 [31] DEBUG dn_lib.tools.log - SQL: select content from dn_tasks_notes 
       where task_id = 278
2021-03-07 11:10:58,532 [31] DEBUG dn_lib.tools.log - SQL: select a.file_id, a.file_name, a.extension, a.http_path , null as found_file       
       , (select top 1 1 from dn_tasks where task_id = a.task_id and file_id = a.file_id) as file_task
      from vw_task_allegati a
      where a.task_id = 278
2021-03-07 11:11:12,017 [19] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:11:12,020 [19] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:11:12,021 [19] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:11:12,023 [19] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:11:12,025 [19] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:11:12,026 [19] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:11:12,028 [19] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:11:12,030 [19] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:11:12,032 [19] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:11:12,034 [19] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:11:12,037 [19] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:11:12,038 [19] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:11:12,039 [19] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:11:12,041 [19] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:11:12,042 [19] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:11:12,044 [19] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:11:12,045 [19] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:11:12,046 [19] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:11:12,048 [19] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:11:12,050 [19] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:11:12,052 [19] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:11:12,053 [19] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:11:12,055 [19] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:11:12,056 [19] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:11:12,058 [19] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:11:12,059 [19] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:11:12,084 [19] DEBUG dn_lib.tools.log - SQL: select t.task_id, t.synch_folder_id, t.folder_id, t.file_id, t.title, t.dt_upd, t.dt_readed, sf.local_path as synch_local_path
		    , replace(dbo.folder_path(isnull(t.folder_id, f.folder_id)), '/', '\') as folder_path, f.file_id as file_notes_id, f.file_name
       from dn_tasks t
       join synch_folders sf on sf.synch_folder_id = t.synch_folder_id
       left join dn_files f on f.file_id = t.file_id
	   where t.task_id = 278
2021-03-07 11:11:12,125 [19] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 415 and file_name = 'deepalist.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 415, 'deepalist.txt', '.txt', 1, convert(datetime, '2021-03-07 11:11:12', 120), convert(datetime, '2021-03-07 11:11:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-07 11:11:12', 120), dt_lwt = convert(datetime, '2021-03-07 11:11:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-07 11:11:12', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-07 11:11:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 11:11:12,141 [19] DEBUG dn_lib.tools.log - SQL: select distinct lower(nome) as nome from users
2021-03-07 11:11:12,147 [19] DEBUG dn_lib.tools.log - SQL: select free_txt, stato, priorita, tipo, stima, (case when [default] = 1 then '1' else '0' end) as [default]
        from dn_task_free_labels 
2021-03-07 11:11:12,154 [19] DEBUG dn_lib.tools.log - SQL: select file_name, type_info from dn_files_info
2021-03-07 11:11:12,159 [19] DEBUG dn_lib.tools.log - SQL: select extension, des_extension, open_comment, close_comment, type_content from dn_files_types
2021-03-07 11:11:12,165 [19] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 755;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (755, '.txt', @content, convert(datetime, '2021-03-07 11:11:12', 120), convert(datetime, '2021-03-07 11:11:12', 120));
2021-03-07 11:11:12,420 [37] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:11:12,422 [37] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:11:12,423 [37] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:11:12,425 [37] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:11:12,426 [37] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:11:12,427 [37] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:11:12,428 [37] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:11:12,438 [37] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:11:12,439 [37] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:11:12,441 [37] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:11:12,442 [37] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:11:12,443 [37] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:11:12,444 [37] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:11:12,445 [37] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:11:12,446 [37] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:11:12,446 [37] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:11:12,448 [37] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:11:12,448 [37] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:11:12,450 [37] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:11:12,451 [37] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:11:12,453 [37] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:11:12,454 [37] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:11:12,455 [37] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:11:12,456 [37] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:11:12,457 [37] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:11:12,458 [37] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:11:12,477 [37] DEBUG dn_lib.tools.log - SQL: select content from dn_tasks_notes 
       where task_id = 278
2021-03-07 11:11:12,480 [37] DEBUG dn_lib.tools.log - SQL: select a.file_id, a.file_name, a.extension, a.http_path , null as found_file       
       , (select top 1 1 from dn_tasks where task_id = a.task_id and file_id = a.file_id) as file_task
      from vw_task_allegati a
      where a.task_id = 278
2021-03-07 11:13:00,845 [41] INFO dn_lib.tools.log - reload core
2021-03-07 11:13:00,914 [41] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:13:00,918 [41] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:13:00,920 [41] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:13:00,921 [41] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:13:00,923 [41] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:13:00,924 [41] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:13:00,925 [41] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:13:00,926 [41] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:13:00,928 [41] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:13:00,929 [41] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:13:00,931 [41] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:13:00,932 [41] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:13:00,933 [41] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:13:00,935 [41] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:13:00,937 [41] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:13:00,939 [41] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:13:00,939 [41] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:13:00,941 [41] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:13:00,956 [41] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:13:00,960 [41] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:13:00,962 [41] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:13:00,964 [41] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:13:00,967 [41] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:13:00,970 [41] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:13:00,971 [41] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:13:00,975 [41] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:13:01,044 [37] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:13:01,046 [37] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:13:01,047 [37] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:13:01,049 [37] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:13:01,051 [37] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:13:01,052 [37] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:13:01,055 [37] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:13:01,057 [37] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:13:01,059 [37] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:13:01,060 [37] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:13:01,062 [37] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:13:01,062 [37] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:13:01,064 [37] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:13:01,066 [37] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:13:01,066 [37] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:13:01,069 [37] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:13:01,070 [37] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:13:01,072 [37] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:13:01,074 [37] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:13:01,075 [37] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:13:01,076 [37] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:13:01,078 [37] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:13:01,079 [37] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:13:01,081 [37] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:13:01,082 [37] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:13:01,084 [37] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:13:01,162 [18] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:13:01,164 [18] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:13:01,165 [18] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:13:01,166 [18] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:13:01,168 [18] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:13:01,169 [18] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:13:01,172 [18] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:13:01,174 [18] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:13:01,175 [18] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:13:01,177 [18] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:13:01,178 [18] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:13:01,178 [18] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:13:01,179 [18] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:13:01,181 [18] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:13:01,182 [18] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:13:01,182 [18] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:13:01,184 [18] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:13:01,185 [18] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:13:01,186 [18] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:13:01,188 [18] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:13:01,189 [18] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:13:01,190 [18] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:13:01,192 [18] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:13:01,193 [18] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:13:01,194 [18] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:13:01,203 [18] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:13:01,247 [18] DEBUG dn_lib.tools.log - SQL: select task_filter_id, filter_title, filter_notes, filter_def, filter_class
 from dn_tasks_filters order by filter_order
2021-03-07 11:13:01,256 [18] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = 0 and var_name in ('active-task-filter')
2021-03-07 11:13:01,263 [18] DEBUG dn_lib.tools.log - SQL: select ft.tp, ft.synch_folder_id, ft.folder_id, ft.parent_id, ft.title
       , ft.des, ft.http_path, ft.lvl, dbo.folder_path(ft.folder_id) as folder_path
       , (select top 1 1 from dn_tasks where folder_id = ft.folder_id) as is_task
      from dbo.fnc_dn_folders(null, null) ft
      
      order by ft.synch_folder_id, ft.lvl, ft.title
2021-03-07 11:13:01,495 [18] DEBUG dn_lib.tools.log - SQL: select f.synch_folder_id, f.file_id, f.folder_id, f.file_name, f.dt_ins , null as found_file
       from dn_files f
       where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
        
	      where ft.synch_folder_id = f.synch_folder_id 
          and isnull(ft.folder_id, 0) = isnull(f.folder_id, 0))
2021-03-07 11:13:01,660 [18] DEBUG dn_lib.tools.log - SQL: select t3.*
      , tst.stato, tst.[order] as stato_order, isnull(tst.class, 'light') as stato_class, isnull(tst.title_plurale, '') as stato_title_plurale, isnull(tst.title_singolare, '') as stato_title_singolare
      , tp.priorita, tp.[order] as priorita_order, isnull(tp.class, 'light') as priorita_class, isnull(tp.title_plurale, '') as priorita_title_plurale, isnull(tp.title_singolare, '') as priorita_title_singolare
      , tt.tipo, tt.[order] as tipo_order, isnull(tt.class, 'light') as tipo_class, isnull(tt.title_plurale, '') as tipo_title_plurale, isnull(tt.title_singolare, '') as tipo_title_singolare
      , ts.stima, ts.[days] as stima_days, isnull(ts.class, 'light') as stima_class, isnull(ts.title_plurale, '') as stima_title_plurale, isnull(ts.title_singolare, '') as stima_title_singolare
      , (select top 1 1 from dn_tasks_notes where task_id = t3.task_id) as task_notes
      , (select top 1 1 from vw_task_allegati f2 where f2.task_id = t3.task_id 
          and not exists (select top 1 1 from dn_files_info where file_name = f2.file_name)) as task_files
  from (select t2.*, datediff(day, t2.dt_ref, getdate()) as diff_days
    from (select t.task_id, t.synch_folder_id, isnull(t.folder_id, f.folder_id) as folder_id
	   , t.file_id, t.title, t.[user], t.stato, t.priorita, t.tipo, t.stima, t.dt_ins, t.dt_upd
     , t.dt_lwt, (case when isnull(t.dt_ins, 0) > isnull(t.dt_upd, 0) then t.dt_ins else t.dt_upd end) as dt_ref
	  from dn_tasks t
    
	  left join dn_files f on f.file_id = t.file_id
    where (null is null or (null is not null and t.task_id = null)) ) t2
    where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
	    where  ft.synch_folder_id = t2.synch_folder_id 
       and isnull(ft.folder_id, 0) = isnull(t2.folder_id, 0))) t3
   left join dn_task_stato tst on tst.stato = t3.stato
   left join dn_task_priorita tp on tp.priorita = t3.priorita
   left join dn_task_tipo tt on tt.tipo = t3.tipo
   left join dn_task_stima ts on ts.stima = t3.stima
   where 1 = 1 
2021-03-07 11:13:02,013 [18] DEBUG dn_lib.tools.log - SQL: select title_singolare, stato from dn_task_stato order by [order]
2021-03-07 11:13:02,570 [18] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, priorita as [value], [order] from dn_task_priorita
      ) t order by t.[order]
2021-03-07 11:13:02,740 [18] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [days]
       union select title_singolare as title, stima as [value], [days] from dn_task_stima 
       ) t order by t.[days]
2021-03-07 11:13:02,745 [18] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, tipo as [value], [order] from dn_task_tipo
       ) t order by t.[order]
2021-03-07 11:13:02,749 [18] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value]
       union select nome as title, nome as [value] from users
       ) t order by 2
2021-03-07 11:13:05,284 [21] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:13:05,286 [21] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:13:05,287 [21] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:13:05,289 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:13:05,290 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:13:05,292 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:13:05,294 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:13:05,295 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:13:05,296 [21] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:13:05,298 [21] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:13:05,299 [21] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:13:05,300 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:13:05,301 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:13:05,303 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:13:05,304 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:13:05,305 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:13:05,307 [21] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:13:05,308 [21] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:13:05,309 [21] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:13:05,311 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:13:05,312 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:13:05,313 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:13:05,314 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:13:05,315 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:13:05,317 [21] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:13:05,319 [21] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:13:05,419 [21] DEBUG dn_lib.tools.log - SQL: select content from dn_tasks_notes 
       where task_id = 278
2021-03-07 11:13:05,425 [21] DEBUG dn_lib.tools.log - SQL: select a.file_id, a.file_name, a.extension, a.http_path , null as found_file       
       , (select top 1 1 from dn_tasks where task_id = a.task_id and file_id = a.file_id) as file_task
      from vw_task_allegati a
      where a.task_id = 278
2021-03-07 11:13:10,153 [45] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:13:10,155 [45] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:13:10,156 [45] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:13:10,158 [45] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:13:10,159 [45] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:13:10,160 [45] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:13:10,162 [45] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:13:10,164 [45] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:13:10,165 [45] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:13:10,167 [45] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:13:10,168 [45] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:13:10,170 [45] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:13:10,171 [45] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:13:10,172 [45] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:13:10,173 [45] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:13:10,175 [45] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:13:10,176 [45] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:13:10,177 [45] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:13:10,178 [45] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:13:10,180 [45] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:13:10,181 [45] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:13:10,183 [45] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:13:10,189 [45] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:13:10,190 [45] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:13:10,192 [45] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:13:10,193 [45] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:13:10,219 [45] DEBUG dn_lib.tools.log - SQL: select f.folder_id, replace((select local_path from synch_folders where synch_folder_id = f.synch_folder_id) 
        + isnull(dbo.folder_path(f.folder_id), '\') + f.file_name , '/', '\') as file_path
       from dn_files f where f.file_id = 754
2021-03-07 11:13:10,227 [45] DEBUG dn_lib.tools.log - SQL: delete from dn_files where file_id = 754;
      delete from dn_files_contents where [file_id] = 754;
      
      delete dn from dn_tasks dn
       where file_id is not null and not exists (select top 1 1 from dn_files where file_id = dn.file_id);
  
      delete dn from dn_tasks_notes dn
       where not exists (select top 1 1 from dn_tasks where task_id = dn.task_id);
2021-03-07 11:13:13,533 [21] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:13:13,536 [21] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:13:13,537 [21] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:13:13,538 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:13:13,540 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:13:13,542 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:13:13,543 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:13:13,545 [21] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:13:13,546 [21] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:13:13,548 [21] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:13:13,549 [21] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:13:13,550 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:13:13,552 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:13:13,553 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:13:13,554 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:13:13,555 [21] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:13:13,556 [21] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:13:13,558 [21] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:13:13,559 [21] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:13:13,561 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:13:13,562 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:13:13,563 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:13:13,565 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:13:13,567 [21] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:13:13,568 [21] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:13:13,570 [21] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:13:13,593 [21] DEBUG dn_lib.tools.log - SQL: select f.folder_id, replace((select local_path from synch_folders where synch_folder_id = f.synch_folder_id) 
        + isnull(dbo.folder_path(f.folder_id), '\') + f.file_name , '/', '\') as file_path
       from dn_files f where f.file_id = 755
2021-03-07 11:13:13,600 [21] DEBUG dn_lib.tools.log - SQL: delete from dn_files where file_id = 755;
      delete from dn_files_contents where [file_id] = 755;
      
      delete dn from dn_tasks dn
       where file_id is not null and not exists (select top 1 1 from dn_files where file_id = dn.file_id);
  
      delete dn from dn_tasks_notes dn
       where not exists (select top 1 1 from dn_tasks where task_id = dn.task_id);
2021-03-07 11:13:24,396 [19] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:13:24,399 [19] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:13:24,401 [19] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:13:24,402 [19] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:13:24,422 [19] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:13:24,424 [19] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:13:24,426 [19] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:13:24,428 [19] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:13:24,429 [19] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:13:24,431 [19] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:13:24,432 [19] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:13:24,434 [19] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:13:24,435 [19] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:13:24,437 [19] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:13:24,438 [19] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:13:24,440 [19] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:13:24,440 [19] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:13:24,441 [19] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:13:24,442 [19] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:13:24,444 [19] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:13:24,446 [19] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:13:24,447 [19] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:13:24,448 [19] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:13:24,449 [19] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:13:24,452 [19] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:13:24,453 [19] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:13:24,478 [19] DEBUG dn_lib.tools.log - SQL: select t.task_id, t.synch_folder_id, t.folder_id, t.file_id, t.title, t.dt_upd, t.dt_readed, sf.local_path as synch_local_path
		    , replace(dbo.folder_path(isnull(t.folder_id, f.folder_id)), '/', '\') as folder_path, f.file_id as file_notes_id, f.file_name
       from dn_tasks t
       join synch_folders sf on sf.synch_folder_id = t.synch_folder_id
       left join dn_files f on f.file_id = t.file_id
	   where t.task_id = 278
2021-03-07 11:13:24,497 [19] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 415 and file_name = 'orco.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 415, 'orco.sql', '.sql', 1, convert(datetime, '2021-03-07 11:13:24', 120), convert(datetime, '2021-03-07 11:13:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-07 11:13:24', 120), dt_lwt = convert(datetime, '2021-03-07 11:13:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-07 11:13:24', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-07 11:13:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 11:13:24,519 [19] DEBUG dn_lib.tools.log - SQL: select distinct lower(nome) as nome from users
2021-03-07 11:13:24,525 [19] DEBUG dn_lib.tools.log - SQL: select free_txt, stato, priorita, tipo, stima, (case when [default] = 1 then '1' else '0' end) as [default]
        from dn_task_free_labels 
2021-03-07 11:13:24,531 [19] DEBUG dn_lib.tools.log - SQL: select file_name, type_info from dn_files_info
2021-03-07 11:13:24,536 [19] DEBUG dn_lib.tools.log - SQL: select extension, des_extension, open_comment, close_comment, type_content from dn_files_types
2021-03-07 11:13:24,541 [19] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 756;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (756, '.sql', @content, convert(datetime, '2021-03-07 11:13:24', 120), convert(datetime, '2021-03-07 11:13:24', 120));
2021-03-07 11:13:24,802 [24] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:13:24,803 [24] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:13:24,805 [24] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:13:24,806 [24] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:13:24,808 [24] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:13:24,809 [24] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:13:24,811 [24] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:13:24,812 [24] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:13:24,814 [24] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:13:24,815 [24] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:13:24,816 [24] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:13:24,816 [24] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:13:24,817 [24] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:13:24,819 [24] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:13:24,821 [24] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:13:24,822 [24] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:13:24,823 [24] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:13:24,823 [24] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:13:24,825 [24] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:13:24,826 [24] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:13:24,827 [24] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:13:24,827 [24] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:13:24,829 [24] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:13:24,830 [24] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:13:24,831 [24] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:13:24,832 [24] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:13:24,849 [24] DEBUG dn_lib.tools.log - SQL: select content from dn_tasks_notes 
       where task_id = 278
2021-03-07 11:13:24,853 [24] DEBUG dn_lib.tools.log - SQL: select a.file_id, a.file_name, a.extension, a.http_path , null as found_file       
       , (select top 1 1 from dn_tasks where task_id = a.task_id and file_id = a.file_id) as file_task
      from vw_task_allegati a
      where a.task_id = 278
2021-03-07 11:14:02,144 [41] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:14:02,145 [41] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:14:02,147 [41] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:14:02,148 [41] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:14:02,149 [41] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:14:02,150 [41] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:14:02,151 [41] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:14:02,152 [41] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:14:02,154 [41] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:14:02,155 [41] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:14:02,156 [41] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:14:02,158 [41] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:14:02,159 [41] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:14:02,161 [41] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:14:02,161 [41] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:14:02,162 [41] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:14:02,163 [41] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:14:02,164 [41] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:14:02,164 [41] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:14:02,166 [41] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:14:02,167 [41] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:14:02,168 [41] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:14:02,169 [41] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:14:02,170 [41] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:14:02,170 [41] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:14:02,172 [41] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:14:02,214 [41] DEBUG dn_lib.tools.log - SQL: select task_filter_id, filter_title, filter_notes, filter_def, filter_class
 from dn_tasks_filters order by filter_order
2021-03-07 11:14:02,217 [41] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = 0 and var_name in ('active-task-filter')
2021-03-07 11:14:02,220 [41] DEBUG dn_lib.tools.log - SQL: select ft.tp, ft.synch_folder_id, ft.folder_id, ft.parent_id, ft.title
       , ft.des, ft.http_path, ft.lvl, dbo.folder_path(ft.folder_id) as folder_path
       , (select top 1 1 from dn_tasks where folder_id = ft.folder_id) as is_task
      from dbo.fnc_dn_folders(null, null) ft
      
      order by ft.synch_folder_id, ft.lvl, ft.title
2021-03-07 11:14:02,414 [41] DEBUG dn_lib.tools.log - SQL: select f.synch_folder_id, f.file_id, f.folder_id, f.file_name, f.dt_ins , null as found_file
       from dn_files f
       where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
        
	      where ft.synch_folder_id = f.synch_folder_id 
          and isnull(ft.folder_id, 0) = isnull(f.folder_id, 0))
2021-03-07 11:14:02,581 [41] DEBUG dn_lib.tools.log - SQL: select t3.*
      , tst.stato, tst.[order] as stato_order, isnull(tst.class, 'light') as stato_class, isnull(tst.title_plurale, '') as stato_title_plurale, isnull(tst.title_singolare, '') as stato_title_singolare
      , tp.priorita, tp.[order] as priorita_order, isnull(tp.class, 'light') as priorita_class, isnull(tp.title_plurale, '') as priorita_title_plurale, isnull(tp.title_singolare, '') as priorita_title_singolare
      , tt.tipo, tt.[order] as tipo_order, isnull(tt.class, 'light') as tipo_class, isnull(tt.title_plurale, '') as tipo_title_plurale, isnull(tt.title_singolare, '') as tipo_title_singolare
      , ts.stima, ts.[days] as stima_days, isnull(ts.class, 'light') as stima_class, isnull(ts.title_plurale, '') as stima_title_plurale, isnull(ts.title_singolare, '') as stima_title_singolare
      , (select top 1 1 from dn_tasks_notes where task_id = t3.task_id) as task_notes
      , (select top 1 1 from vw_task_allegati f2 where f2.task_id = t3.task_id 
          and not exists (select top 1 1 from dn_files_info where file_name = f2.file_name)) as task_files
  from (select t2.*, datediff(day, t2.dt_ref, getdate()) as diff_days
    from (select t.task_id, t.synch_folder_id, isnull(t.folder_id, f.folder_id) as folder_id
	   , t.file_id, t.title, t.[user], t.stato, t.priorita, t.tipo, t.stima, t.dt_ins, t.dt_upd
     , t.dt_lwt, (case when isnull(t.dt_ins, 0) > isnull(t.dt_upd, 0) then t.dt_ins else t.dt_upd end) as dt_ref
	  from dn_tasks t
    
	  left join dn_files f on f.file_id = t.file_id
    where (null is null or (null is not null and t.task_id = null)) ) t2
    where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
	    where  ft.synch_folder_id = t2.synch_folder_id 
       and isnull(ft.folder_id, 0) = isnull(t2.folder_id, 0))) t3
   left join dn_task_stato tst on tst.stato = t3.stato
   left join dn_task_priorita tp on tp.priorita = t3.priorita
   left join dn_task_tipo tt on tt.tipo = t3.tipo
   left join dn_task_stima ts on ts.stima = t3.stima
   where 1 = 1 
2021-03-07 11:14:02,925 [41] DEBUG dn_lib.tools.log - SQL: select title_singolare, stato from dn_task_stato order by [order]
2021-03-07 11:14:03,502 [41] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, priorita as [value], [order] from dn_task_priorita
      ) t order by t.[order]
2021-03-07 11:14:03,506 [41] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [days]
       union select title_singolare as title, stima as [value], [days] from dn_task_stima 
       ) t order by t.[days]
2021-03-07 11:14:03,511 [41] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, tipo as [value], [order] from dn_task_tipo
       ) t order by t.[order]
2021-03-07 11:14:03,514 [41] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value]
       union select nome as title, nome as [value] from users
       ) t order by 2
2021-03-07 11:14:15,568 [24] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:14:15,571 [24] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:14:15,574 [24] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:14:15,576 [24] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:14:15,577 [24] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:14:15,580 [24] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:14:15,581 [24] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:14:15,583 [24] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:14:15,584 [24] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:14:15,586 [24] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:14:15,588 [24] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:14:15,590 [24] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:14:15,592 [24] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:14:15,593 [24] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:14:15,594 [24] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:14:15,595 [24] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:14:15,596 [24] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:14:15,598 [24] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:14:15,599 [24] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:14:15,600 [24] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:14:15,601 [24] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:14:15,603 [24] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:14:15,604 [24] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:14:15,606 [24] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:14:15,607 [24] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:14:15,609 [24] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:14:15,629 [24] DEBUG dn_lib.tools.log - SQL: select t.task_id, t.synch_folder_id, t.folder_id, t.file_id, t.title, t.dt_upd, t.dt_readed, sf.local_path as synch_local_path
		    , replace(dbo.folder_path(isnull(t.folder_id, f.folder_id)), '/', '\') as folder_path, f.file_id as file_notes_id, f.file_name
       from dn_tasks t
       join synch_folders sf on sf.synch_folder_id = t.synch_folder_id
       left join dn_files f on f.file_id = t.file_id
	   where t.task_id = 278
2021-03-07 11:14:15,648 [24] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 415 and file_name = 'deepalist.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 415, 'deepalist.txt', '.txt', 1, convert(datetime, '2021-03-07 11:14:15', 120), convert(datetime, '2021-03-07 11:14:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-07 11:14:15', 120), dt_lwt = convert(datetime, '2021-03-07 11:14:15', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-07 11:14:15', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-07 11:14:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 11:14:15,666 [24] DEBUG dn_lib.tools.log - SQL: select distinct lower(nome) as nome from users
2021-03-07 11:14:15,669 [24] DEBUG dn_lib.tools.log - SQL: select free_txt, stato, priorita, tipo, stima, (case when [default] = 1 then '1' else '0' end) as [default]
        from dn_task_free_labels 
2021-03-07 11:14:15,671 [24] DEBUG dn_lib.tools.log - SQL: select file_name, type_info from dn_files_info
2021-03-07 11:14:15,675 [24] DEBUG dn_lib.tools.log - SQL: select extension, des_extension, open_comment, close_comment, type_content from dn_files_types
2021-03-07 11:14:15,677 [24] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 757;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (757, '.txt', @content, convert(datetime, '2021-03-07 11:14:15', 120), convert(datetime, '2021-03-07 11:14:15', 120));
2021-03-07 11:14:15,949 [37] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:14:15,951 [37] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:14:15,952 [37] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:14:15,953 [37] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:14:15,954 [37] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:14:15,956 [37] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:14:15,957 [37] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:14:15,959 [37] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:14:15,960 [37] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:14:15,961 [37] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:14:15,962 [37] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:14:15,964 [37] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:14:15,964 [37] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:14:15,964 [37] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:14:15,965 [37] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:14:15,967 [37] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:14:15,967 [37] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:14:15,968 [37] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:14:15,969 [37] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:14:15,971 [37] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:14:15,972 [37] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:14:15,973 [37] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:14:15,974 [37] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:14:15,974 [37] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:14:15,975 [37] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:14:15,975 [37] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:14:15,994 [37] DEBUG dn_lib.tools.log - SQL: select content from dn_tasks_notes 
       where task_id = 278
2021-03-07 11:14:15,995 [37] DEBUG dn_lib.tools.log - SQL: select a.file_id, a.file_name, a.extension, a.http_path , null as found_file       
       , (select top 1 1 from dn_tasks where task_id = a.task_id and file_id = a.file_id) as file_task
      from vw_task_allegati a
      where a.task_id = 278
2021-03-07 11:14:22,147 [45] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:14:22,150 [45] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:14:22,151 [45] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:14:22,153 [45] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:14:22,155 [45] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:14:22,157 [45] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:14:22,160 [45] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:14:22,161 [45] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:14:22,162 [45] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:14:22,164 [45] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:14:22,165 [45] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:14:22,167 [45] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:14:22,168 [45] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:14:22,169 [45] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:14:22,171 [45] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:14:22,172 [45] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:14:22,174 [45] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:14:22,175 [45] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:14:22,177 [45] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:14:22,178 [45] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:14:22,180 [45] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:14:22,181 [45] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:14:22,182 [45] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:14:22,184 [45] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:14:22,185 [45] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:14:22,186 [45] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:14:22,206 [45] DEBUG dn_lib.tools.log - SQL: select f.folder_id, replace((select local_path from synch_folders where synch_folder_id = f.synch_folder_id) 
        + isnull(dbo.folder_path(f.folder_id), '\') + f.file_name , '/', '\') as file_path
       from dn_files f where f.file_id = 757
2021-03-07 11:14:22,218 [45] DEBUG dn_lib.tools.log - SQL: delete from dn_files where file_id = 757;
      delete from dn_files_contents where [file_id] = 757;
      
      delete dn from dn_tasks dn
       where file_id is not null and not exists (select top 1 1 from dn_files where file_id = dn.file_id);
  
      delete dn from dn_tasks_notes dn
       where not exists (select top 1 1 from dn_tasks where task_id = dn.task_id);
2021-03-07 11:14:27,462 [18] INFO dn_lib.tools.log - reload config docs
2021-03-07 11:14:27,464 [18] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:14:27,465 [18] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:14:27,468 [18] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:14:27,469 [18] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:14:27,471 [18] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:14:27,474 [18] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:14:27,475 [18] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:14:27,477 [18] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:14:27,478 [18] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:14:27,480 [18] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:14:27,481 [18] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:14:27,482 [18] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:14:27,483 [18] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:14:27,485 [18] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:14:27,486 [18] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:14:27,487 [18] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:14:27,489 [18] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 11:14:27,490 [18] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 11:14:27,492 [18] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 11:14:27,493 [18] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 11:14:27,494 [18] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 11:14:27,496 [18] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 11:14:27,497 [18] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 11:14:27,499 [18] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 11:14:27,500 [18] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 11:14:27,519 [18] DEBUG dn_lib.tools.log - SQL: select f.folder_id, replace((select local_path from synch_folders where synch_folder_id = f.synch_folder_id) 
        + isnull(dbo.folder_path(f.folder_id), '\') + f.file_name , '/', '\') as file_path
       from dn_files f where f.file_id = 756
2021-03-07 11:14:27,527 [18] DEBUG dn_lib.tools.log - SQL: delete from dn_files where file_id = 756;
      delete from dn_files_contents where [file_id] = 756;
      
      delete dn from dn_tasks dn
       where file_id is not null and not exists (select top 1 1 from dn_files where file_id = dn.file_id);
  
      delete dn from dn_tasks_notes dn
       where not exists (select top 1 1 from dn_tasks where task_id = dn.task_id);
2021-03-07 18:12:02,135 [25] INFO dn_lib.tools.log - reload core
2021-03-07 18:12:02,167 [25] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:12:02,169 [25] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:12:02,170 [25] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:12:02,171 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:12:02,172 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:12:02,173 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:12:02,174 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:12:02,175 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:12:02,176 [25] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:12:02,176 [25] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:12:02,178 [25] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:12:02,178 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:12:02,179 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:12:02,179 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:12:02,180 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:12:02,180 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:12:02,181 [25] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:12:02,181 [25] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:12:02,187 [25] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:12:02,189 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:12:02,190 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:12:02,191 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:12:02,192 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:12:02,193 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:12:02,193 [25] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:12:02,194 [25] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:12:02,224 [49] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:12:02,225 [49] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:12:02,226 [49] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:12:02,227 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:12:02,227 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:12:02,228 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:12:02,229 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:12:02,230 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:12:02,230 [49] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:12:02,231 [49] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:12:02,232 [49] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:12:02,232 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:12:02,233 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:12:02,233 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:12:02,234 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:12:02,234 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:12:02,235 [49] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:12:02,235 [49] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:12:02,235 [49] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:12:02,236 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:12:02,236 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:12:02,237 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:12:02,238 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:12:02,239 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:12:02,240 [49] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:12:02,240 [49] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:12:02,271 [56] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:12:02,272 [56] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:12:02,273 [56] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:12:02,274 [56] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:12:02,275 [56] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:12:02,276 [56] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:12:02,277 [56] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:12:02,278 [56] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:12:02,278 [56] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:12:02,279 [56] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:12:02,280 [56] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:12:02,280 [56] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:12:02,281 [56] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:12:02,282 [56] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:12:02,282 [56] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:12:02,283 [56] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:12:02,284 [56] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:12:02,284 [56] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:12:02,285 [56] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:12:02,285 [56] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:12:02,286 [56] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:12:02,286 [56] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:12:02,287 [56] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:12:02,288 [56] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:12:02,288 [56] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:12:02,291 [56] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:12:02,313 [56] DEBUG dn_lib.tools.log - SQL: select task_filter_id, filter_title, filter_notes, filter_def, filter_class
 from dn_tasks_filters order by filter_order
2021-03-07 18:12:02,318 [56] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = 0 and var_name in ('active-task-filter')
2021-03-07 18:12:02,324 [56] DEBUG dn_lib.tools.log - SQL: select ft.tp, ft.synch_folder_id, ft.folder_id, ft.parent_id, ft.title
       , ft.des, ft.http_path, ft.lvl, dbo.folder_path(ft.folder_id) as folder_path
       , (select top 1 1 from dn_tasks where folder_id = ft.folder_id) as is_task
      from dbo.fnc_dn_folders(null, null) ft
      
      order by ft.synch_folder_id, ft.lvl, ft.title
2021-03-07 18:12:02,416 [56] DEBUG dn_lib.tools.log - SQL: select f.synch_folder_id, f.file_id, f.folder_id, f.file_name, f.dt_ins , null as found_file
       from dn_files f
       where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
        
	      where ft.synch_folder_id = f.synch_folder_id 
          and isnull(ft.folder_id, 0) = isnull(f.folder_id, 0))
2021-03-07 18:12:02,482 [56] DEBUG dn_lib.tools.log - SQL: select t3.*
      , tst.stato, tst.[order] as stato_order, isnull(tst.class, 'light') as stato_class, isnull(tst.title_plurale, '') as stato_title_plurale, isnull(tst.title_singolare, '') as stato_title_singolare
      , tp.priorita, tp.[order] as priorita_order, isnull(tp.class, 'light') as priorita_class, isnull(tp.title_plurale, '') as priorita_title_plurale, isnull(tp.title_singolare, '') as priorita_title_singolare
      , tt.tipo, tt.[order] as tipo_order, isnull(tt.class, 'light') as tipo_class, isnull(tt.title_plurale, '') as tipo_title_plurale, isnull(tt.title_singolare, '') as tipo_title_singolare
      , ts.stima, ts.[days] as stima_days, isnull(ts.class, 'light') as stima_class, isnull(ts.title_plurale, '') as stima_title_plurale, isnull(ts.title_singolare, '') as stima_title_singolare
      , (select top 1 1 from dn_tasks_notes where task_id = t3.task_id) as task_notes
      , (select top 1 1 from vw_task_allegati f2 where f2.task_id = t3.task_id 
          and not exists (select top 1 1 from dn_files_info where file_name = f2.file_name)) as task_files
  from (select t2.*, datediff(day, t2.dt_ref, getdate()) as diff_days
    from (select t.task_id, t.synch_folder_id, isnull(t.folder_id, f.folder_id) as folder_id
	   , t.file_id, t.title, t.[user], t.stato, t.priorita, t.tipo, t.stima, t.dt_ins, t.dt_upd
     , t.dt_lwt, (case when isnull(t.dt_ins, 0) > isnull(t.dt_upd, 0) then t.dt_ins else t.dt_upd end) as dt_ref
	  from dn_tasks t
    
	  left join dn_files f on f.file_id = t.file_id
    where (null is null or (null is not null and t.task_id = null)) ) t2
    where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
	    where  ft.synch_folder_id = t2.synch_folder_id 
       and isnull(ft.folder_id, 0) = isnull(t2.folder_id, 0))) t3
   left join dn_task_stato tst on tst.stato = t3.stato
   left join dn_task_priorita tp on tp.priorita = t3.priorita
   left join dn_task_tipo tt on tt.tipo = t3.tipo
   left join dn_task_stima ts on ts.stima = t3.stima
   where 1 = 1 
2021-03-07 18:12:02,642 [56] DEBUG dn_lib.tools.log - SQL: select title_singolare, stato from dn_task_stato order by [order]
2021-03-07 18:12:02,908 [56] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, priorita as [value], [order] from dn_task_priorita
      ) t order by t.[order]
2021-03-07 18:12:02,986 [56] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [days]
       union select title_singolare as title, stima as [value], [days] from dn_task_stima 
       ) t order by t.[days]
2021-03-07 18:12:02,990 [56] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, tipo as [value], [order] from dn_task_tipo
       ) t order by t.[order]
2021-03-07 18:12:02,992 [56] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value]
       union select nome as title, nome as [value] from users
       ) t order by 2
2021-03-07 18:12:18,381 [54] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:12:18,382 [54] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:12:18,383 [54] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:12:18,384 [54] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:12:18,385 [54] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:12:18,386 [54] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:12:18,386 [54] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:12:18,387 [54] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:12:18,387 [54] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:12:18,388 [54] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:12:18,388 [54] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:12:18,389 [54] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:12:18,389 [54] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:12:18,389 [54] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:12:18,390 [54] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:12:18,390 [54] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:12:18,391 [54] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:12:18,391 [54] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:12:18,392 [54] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:12:18,392 [54] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:12:18,393 [54] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:12:18,393 [54] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:12:18,393 [54] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:12:18,394 [54] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:12:18,394 [54] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:12:18,395 [54] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:12:18,441 [54] DEBUG dn_lib.tools.log - SQL: select t2.task_id, t2.title, t2.folder_id, t2.file_id, t2.rel_path, t2.folder_name, t2.task_name
          , (case when t2.folder_id is not null then t2.folder_path else t2.file_path end) as folder_path
       from ( select t.task_id, t.title
         , t.folder_id, sf.local_path + isnull(replace(dbo.folder_path(fo.parent_id), '/', '\'), '') as folder_path
         , t.file_id, sf.local_path + isnull(replace(dbo.folder_path(f.folder_id), '/', '\'), '') as file_path
         , isnull(f.file_name, fo.folder_name) as folder_name, t.title as task_name
         , sf.title + isnull(isnull(dbo.folder_path(f.folder_id), dbo.folder_path(fo.parent_id)), '') as rel_path
        from dn_tasks t
        left join synch_folders sf on sf.synch_folder_id = t.synch_folder_id
        left join dn_files f on f.file_id = t.file_id
        left join dn_folders fo on fo.folder_id = t.folder_id 
        where t.task_id = 278 ) t2
2021-03-07 18:12:18,455 [54] DEBUG dn_lib.tools.log - SQL: delete from dn_folders where folder_id = 415;
      
        delete f from dn_files f
          where file_id is not null and not exists (select top 1 1 from dn_folders where folder_id = f.file_id);
          
        delete dn from dn_files_contents dn
          where file_id is not null and not exists (select top 1 1 from dn_files where file_id = dn.file_id);

        delete dn from dn_tasks dn
         where folder_id is not null and not exists (select top 1 1 from dn_folders where folder_id = dn.folder_id);

        delete dn from dn_tasks dn
         where file_id is not null and not exists (select top 1 1 from dn_files where file_id = dn.file_id);
  
        delete dn from dn_tasks_notes dn
         where not exists (select top 1 1 from dn_tasks where task_id = dn.task_id);
2021-03-07 18:12:18,543 [56] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:12:18,544 [56] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:12:18,544 [56] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:12:18,545 [56] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:12:18,546 [56] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:12:18,547 [56] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:12:18,547 [56] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:12:18,548 [56] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:12:18,548 [56] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:12:18,549 [56] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:12:18,549 [56] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:12:18,550 [56] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:12:18,550 [56] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:12:18,552 [56] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:12:18,553 [56] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:12:18,553 [56] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:12:18,555 [56] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:12:18,556 [56] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:12:18,556 [56] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:12:18,557 [56] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:12:18,557 [56] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:12:18,558 [56] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:12:18,559 [56] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:12:18,559 [56] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:12:18,560 [56] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:12:18,560 [56] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:12:18,568 [56] DEBUG dn_lib.tools.log - SQL: select task_filter_id, filter_title, filter_notes, filter_def, filter_class
 from dn_tasks_filters order by filter_order
2021-03-07 18:12:18,570 [56] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = 0 and var_name in ('active-task-filter')
2021-03-07 18:12:18,571 [56] DEBUG dn_lib.tools.log - SQL: select ft.tp, ft.synch_folder_id, ft.folder_id, ft.parent_id, ft.title
       , ft.des, ft.http_path, ft.lvl, dbo.folder_path(ft.folder_id) as folder_path
       , (select top 1 1 from dn_tasks where folder_id = ft.folder_id) as is_task
      from dbo.fnc_dn_folders(null, null) ft
      
      order by ft.synch_folder_id, ft.lvl, ft.title
2021-03-07 18:12:18,659 [56] DEBUG dn_lib.tools.log - SQL: select f.synch_folder_id, f.file_id, f.folder_id, f.file_name, f.dt_ins , null as found_file
       from dn_files f
       where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
        
	      where ft.synch_folder_id = f.synch_folder_id 
          and isnull(ft.folder_id, 0) = isnull(f.folder_id, 0))
2021-03-07 18:12:18,719 [56] DEBUG dn_lib.tools.log - SQL: select t3.*
      , tst.stato, tst.[order] as stato_order, isnull(tst.class, 'light') as stato_class, isnull(tst.title_plurale, '') as stato_title_plurale, isnull(tst.title_singolare, '') as stato_title_singolare
      , tp.priorita, tp.[order] as priorita_order, isnull(tp.class, 'light') as priorita_class, isnull(tp.title_plurale, '') as priorita_title_plurale, isnull(tp.title_singolare, '') as priorita_title_singolare
      , tt.tipo, tt.[order] as tipo_order, isnull(tt.class, 'light') as tipo_class, isnull(tt.title_plurale, '') as tipo_title_plurale, isnull(tt.title_singolare, '') as tipo_title_singolare
      , ts.stima, ts.[days] as stima_days, isnull(ts.class, 'light') as stima_class, isnull(ts.title_plurale, '') as stima_title_plurale, isnull(ts.title_singolare, '') as stima_title_singolare
      , (select top 1 1 from dn_tasks_notes where task_id = t3.task_id) as task_notes
      , (select top 1 1 from vw_task_allegati f2 where f2.task_id = t3.task_id 
          and not exists (select top 1 1 from dn_files_info where file_name = f2.file_name)) as task_files
  from (select t2.*, datediff(day, t2.dt_ref, getdate()) as diff_days
    from (select t.task_id, t.synch_folder_id, isnull(t.folder_id, f.folder_id) as folder_id
	   , t.file_id, t.title, t.[user], t.stato, t.priorita, t.tipo, t.stima, t.dt_ins, t.dt_upd
     , t.dt_lwt, (case when isnull(t.dt_ins, 0) > isnull(t.dt_upd, 0) then t.dt_ins else t.dt_upd end) as dt_ref
	  from dn_tasks t
    
	  left join dn_files f on f.file_id = t.file_id
    where (null is null or (null is not null and t.task_id = null)) ) t2
    where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
	    where  ft.synch_folder_id = t2.synch_folder_id 
       and isnull(ft.folder_id, 0) = isnull(t2.folder_id, 0))) t3
   left join dn_task_stato tst on tst.stato = t3.stato
   left join dn_task_priorita tp on tp.priorita = t3.priorita
   left join dn_task_tipo tt on tt.tipo = t3.tipo
   left join dn_task_stima ts on ts.stima = t3.stima
   where 1 = 1 
2021-03-07 18:12:18,850 [56] DEBUG dn_lib.tools.log - SQL: select title_singolare, stato from dn_task_stato order by [order]
2021-03-07 18:12:19,084 [56] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, priorita as [value], [order] from dn_task_priorita
      ) t order by t.[order]
2021-03-07 18:12:19,086 [56] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [days]
       union select title_singolare as title, stima as [value], [days] from dn_task_stima 
       ) t order by t.[days]
2021-03-07 18:12:19,087 [56] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, tipo as [value], [order] from dn_task_tipo
       ) t order by t.[order]
2021-03-07 18:12:19,088 [56] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value]
       union select nome as title, nome as [value] from users
       ) t order by 2
2021-03-07 18:12:24,834 [54] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:12:24,835 [54] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:12:24,836 [54] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:12:24,838 [54] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:12:24,839 [54] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:12:24,840 [54] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:12:24,841 [54] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:12:24,842 [54] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:12:24,842 [54] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:12:24,843 [54] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:12:24,844 [54] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:12:24,844 [54] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:12:24,845 [54] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:12:24,845 [54] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:12:24,846 [54] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:12:24,846 [54] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:12:24,847 [54] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:12:24,847 [54] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:12:24,848 [54] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:12:24,848 [54] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:12:24,849 [54] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:12:24,849 [54] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:12:24,850 [54] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:12:24,851 [54] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:12:24,852 [54] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:12:24,852 [54] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:12:24,864 [25] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:12:24,865 [25] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:12:24,866 [25] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:12:24,866 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:12:24,868 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:12:24,868 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:12:24,869 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:12:24,870 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:12:24,870 [25] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:12:24,871 [25] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:12:24,871 [25] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:12:24,872 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:12:24,872 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:12:24,873 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:12:24,873 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:12:24,873 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:12:24,874 [25] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:12:24,874 [25] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:12:24,875 [25] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:12:24,876 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:12:24,876 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:12:24,877 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:12:24,877 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:12:24,878 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:12:24,878 [25] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:12:24,879 [25] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:12:24,886 [25] DEBUG dn_lib.tools.log - SQL: select task_filter_id, filter_title, filter_notes, filter_def, filter_class
 from dn_tasks_filters order by filter_order
2021-03-07 18:12:24,888 [25] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = 0 and var_name in ('active-task-filter')
2021-03-07 18:12:24,888 [25] DEBUG dn_lib.tools.log - SQL: select ft.tp, ft.synch_folder_id, ft.folder_id, ft.parent_id, ft.title
       , ft.des, ft.http_path, ft.lvl, dbo.folder_path(ft.folder_id) as folder_path
       , (select top 1 1 from dn_tasks where folder_id = ft.folder_id) as is_task
      from dbo.fnc_dn_folders(19, null) ft
      
      order by ft.synch_folder_id, ft.lvl, ft.title
2021-03-07 18:12:24,896 [25] DEBUG dn_lib.tools.log - SQL: select f.synch_folder_id, f.file_id, f.folder_id, f.file_name, f.dt_ins , null as found_file
       from dn_files f
       where exists (select top 1 1 from dbo.fnc_dn_folders(19, null) ft 
        
	      where ft.synch_folder_id = f.synch_folder_id 
          and isnull(ft.folder_id, 0) = isnull(f.folder_id, 0))
2021-03-07 18:12:24,907 [25] DEBUG dn_lib.tools.log - SQL: select t3.*
      , tst.stato, tst.[order] as stato_order, isnull(tst.class, 'light') as stato_class, isnull(tst.title_plurale, '') as stato_title_plurale, isnull(tst.title_singolare, '') as stato_title_singolare
      , tp.priorita, tp.[order] as priorita_order, isnull(tp.class, 'light') as priorita_class, isnull(tp.title_plurale, '') as priorita_title_plurale, isnull(tp.title_singolare, '') as priorita_title_singolare
      , tt.tipo, tt.[order] as tipo_order, isnull(tt.class, 'light') as tipo_class, isnull(tt.title_plurale, '') as tipo_title_plurale, isnull(tt.title_singolare, '') as tipo_title_singolare
      , ts.stima, ts.[days] as stima_days, isnull(ts.class, 'light') as stima_class, isnull(ts.title_plurale, '') as stima_title_plurale, isnull(ts.title_singolare, '') as stima_title_singolare
      , (select top 1 1 from dn_tasks_notes where task_id = t3.task_id) as task_notes
      , (select top 1 1 from vw_task_allegati f2 where f2.task_id = t3.task_id 
          and not exists (select top 1 1 from dn_files_info where file_name = f2.file_name)) as task_files
  from (select t2.*, datediff(day, t2.dt_ref, getdate()) as diff_days
    from (select t.task_id, t.synch_folder_id, isnull(t.folder_id, f.folder_id) as folder_id
	   , t.file_id, t.title, t.[user], t.stato, t.priorita, t.tipo, t.stima, t.dt_ins, t.dt_upd
     , t.dt_lwt, (case when isnull(t.dt_ins, 0) > isnull(t.dt_upd, 0) then t.dt_ins else t.dt_upd end) as dt_ref
	  from dn_tasks t
    
	  left join dn_files f on f.file_id = t.file_id
    where (null is null or (null is not null and t.task_id = null)) ) t2
    where exists (select top 1 1 from dbo.fnc_dn_folders(19, null) ft 
	    where  ft.tp <> 'synch_folder' and  ft.synch_folder_id = t2.synch_folder_id 
       and isnull(ft.folder_id, 0) = isnull(t2.folder_id, 0))) t3
   left join dn_task_stato tst on tst.stato = t3.stato
   left join dn_task_priorita tp on tp.priorita = t3.priorita
   left join dn_task_tipo tt on tt.tipo = t3.tipo
   left join dn_task_stima ts on ts.stima = t3.stima
   where 1 = 1 
2021-03-07 18:12:24,928 [25] DEBUG dn_lib.tools.log - SQL: select title_singolare, stato from dn_task_stato order by [order]
2021-03-07 18:12:24,933 [25] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, priorita as [value], [order] from dn_task_priorita
      ) t order by t.[order]
2021-03-07 18:12:24,934 [25] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [days]
       union select title_singolare as title, stima as [value], [days] from dn_task_stima 
       ) t order by t.[days]
2021-03-07 18:12:24,935 [25] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, tipo as [value], [order] from dn_task_tipo
       ) t order by t.[order]
2021-03-07 18:12:24,936 [25] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value]
       union select nome as title, nome as [value] from users
       ) t order by 2
2021-03-07 18:12:42,954 [52] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:12:42,956 [52] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:12:42,957 [52] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:12:42,958 [52] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:12:42,959 [52] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:12:42,959 [52] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:12:42,960 [52] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:12:42,961 [52] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:12:42,962 [52] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:12:42,962 [52] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:12:42,963 [52] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:12:42,963 [52] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:12:42,964 [52] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:12:42,964 [52] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:12:42,965 [52] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:12:42,965 [52] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:12:42,966 [52] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:12:42,966 [52] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:12:42,967 [52] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:12:42,967 [52] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:12:42,968 [52] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:12:42,968 [52] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:12:42,969 [52] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:12:42,969 [52] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:12:42,969 [52] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:12:42,970 [52] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:12:42,979 [52] DEBUG dn_lib.tools.log - SQL: select sf.local_path + replace(dbo.folder_path(f.folder_id), '/', '\') as local_path, sf.synch_folder_id, f.folder_name as name
 from dn_folders f 
 join synch_folders sf on sf.synch_folder_id = f.synch_folder_id
 where f.folder_id = 19
2021-03-07 18:12:42,984 [52] DEBUG dn_lib.tools.log - SQL: select free_txt, stato, priorita, tipo, stima, (case when [default] = 1 then '1' else '0' end) as [default]
        from dn_task_free_labels 
2021-03-07 18:12:43,006 [52] ERROR dn_lib.tools.log - error
System.ArgumentException: Formato del percorso non valido.
   in System.IO.Path.LegacyNormalizePath(String path, Boolean fullCheck, Int32 maxPathLength, Boolean expandShortPaths)
   in System.IO.Path.GetFullPathInternal(String path)
   in System.IO.FileInfo.Init(String fileName, Boolean checkHost)
   in dn_lib.doc_task.save(String path) in C:\root\todd\git\dn\dn_lib\notes\doc_task.cs:riga 24
   in deepanotes.notes.add_task(Int32 synch_folder_id, Int32 folder_id, Nullable`1 search_id, String stato, String title, String assegna, String priorita, String tipo, String stima) in c:\root\todd\git\dn\deepanotes\App_Code\notes.cs:riga 550
   in _notes.OnInit(EventArgs e) in c:\root\todd\git\dn\deepanotes\notes.aspx.cs:riga 137
2021-03-07 18:13:44,063 [7] INFO dn_lib.tools.log - reload core
2021-03-07 18:13:44,095 [7] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:13:44,097 [7] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:13:44,098 [7] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:13:44,099 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:13:44,100 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:13:44,100 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:13:44,101 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:13:44,102 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:13:44,103 [7] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:13:44,103 [7] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:13:44,105 [7] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:13:44,106 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:13:44,107 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:13:44,108 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:13:44,108 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:13:44,109 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:13:44,110 [7] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:13:44,110 [7] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:13:44,117 [7] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:13:44,119 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:13:44,121 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:13:44,122 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:13:44,123 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:13:44,124 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:13:44,125 [7] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:13:44,126 [7] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:13:44,156 [54] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:13:44,157 [54] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:13:44,158 [54] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:13:44,159 [54] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:13:44,160 [54] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:13:44,160 [54] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:13:44,161 [54] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:13:44,162 [54] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:13:44,162 [54] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:13:44,163 [54] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:13:44,164 [54] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:13:44,164 [54] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:13:44,165 [54] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:13:44,166 [54] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:13:44,166 [54] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:13:44,167 [54] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:13:44,167 [54] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:13:44,168 [54] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:13:44,168 [54] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:13:44,169 [54] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:13:44,169 [54] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:13:44,169 [54] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:13:44,170 [54] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:13:44,171 [54] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:13:44,172 [54] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:13:44,173 [54] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:13:44,205 [52] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:13:44,206 [52] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:13:44,207 [52] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:13:44,207 [52] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:13:44,208 [52] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:13:44,209 [52] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:13:44,210 [52] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:13:44,210 [52] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:13:44,211 [52] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:13:44,212 [52] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:13:44,212 [52] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:13:44,213 [52] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:13:44,214 [52] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:13:44,214 [52] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:13:44,215 [52] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:13:44,215 [52] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:13:44,216 [52] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:13:44,216 [52] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:13:44,217 [52] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:13:44,217 [52] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:13:44,218 [52] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:13:44,218 [52] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:13:44,219 [52] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:13:44,219 [52] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:13:44,220 [52] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:13:44,224 [52] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:13:44,248 [52] DEBUG dn_lib.tools.log - SQL: select task_filter_id, filter_title, filter_notes, filter_def, filter_class
 from dn_tasks_filters order by filter_order
2021-03-07 18:13:44,253 [52] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = 0 and var_name in ('active-task-filter')
2021-03-07 18:13:44,259 [52] DEBUG dn_lib.tools.log - SQL: select ft.tp, ft.synch_folder_id, ft.folder_id, ft.parent_id, ft.title
       , ft.des, ft.http_path, ft.lvl, dbo.folder_path(ft.folder_id) as folder_path
       , (select top 1 1 from dn_tasks where folder_id = ft.folder_id) as is_task
      from dbo.fnc_dn_folders(null, null) ft
      
      order by ft.synch_folder_id, ft.lvl, ft.title
2021-03-07 18:13:44,348 [52] DEBUG dn_lib.tools.log - SQL: select f.synch_folder_id, f.file_id, f.folder_id, f.file_name, f.dt_ins , null as found_file
       from dn_files f
       where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
        
	      where ft.synch_folder_id = f.synch_folder_id 
          and isnull(ft.folder_id, 0) = isnull(f.folder_id, 0))
2021-03-07 18:13:44,413 [52] DEBUG dn_lib.tools.log - SQL: select t3.*
      , tst.stato, tst.[order] as stato_order, isnull(tst.class, 'light') as stato_class, isnull(tst.title_plurale, '') as stato_title_plurale, isnull(tst.title_singolare, '') as stato_title_singolare
      , tp.priorita, tp.[order] as priorita_order, isnull(tp.class, 'light') as priorita_class, isnull(tp.title_plurale, '') as priorita_title_plurale, isnull(tp.title_singolare, '') as priorita_title_singolare
      , tt.tipo, tt.[order] as tipo_order, isnull(tt.class, 'light') as tipo_class, isnull(tt.title_plurale, '') as tipo_title_plurale, isnull(tt.title_singolare, '') as tipo_title_singolare
      , ts.stima, ts.[days] as stima_days, isnull(ts.class, 'light') as stima_class, isnull(ts.title_plurale, '') as stima_title_plurale, isnull(ts.title_singolare, '') as stima_title_singolare
      , (select top 1 1 from dn_tasks_notes where task_id = t3.task_id) as task_notes
      , (select top 1 1 from vw_task_allegati f2 where f2.task_id = t3.task_id 
          and not exists (select top 1 1 from dn_files_info where file_name = f2.file_name)) as task_files
  from (select t2.*, datediff(day, t2.dt_ref, getdate()) as diff_days
    from (select t.task_id, t.synch_folder_id, isnull(t.folder_id, f.folder_id) as folder_id
	   , t.file_id, t.title, t.[user], t.stato, t.priorita, t.tipo, t.stima, t.dt_ins, t.dt_upd
     , t.dt_lwt, (case when isnull(t.dt_ins, 0) > isnull(t.dt_upd, 0) then t.dt_ins else t.dt_upd end) as dt_ref
	  from dn_tasks t
    
	  left join dn_files f on f.file_id = t.file_id
    where (null is null or (null is not null and t.task_id = null)) ) t2
    where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
	    where  ft.synch_folder_id = t2.synch_folder_id 
       and isnull(ft.folder_id, 0) = isnull(t2.folder_id, 0))) t3
   left join dn_task_stato tst on tst.stato = t3.stato
   left join dn_task_priorita tp on tp.priorita = t3.priorita
   left join dn_task_tipo tt on tt.tipo = t3.tipo
   left join dn_task_stima ts on ts.stima = t3.stima
   where 1 = 1 
2021-03-07 18:13:44,532 [52] DEBUG dn_lib.tools.log - SQL: select title_singolare, stato from dn_task_stato order by [order]
2021-03-07 18:13:44,772 [52] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, priorita as [value], [order] from dn_task_priorita
      ) t order by t.[order]
2021-03-07 18:13:44,854 [52] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [days]
       union select title_singolare as title, stima as [value], [days] from dn_task_stima 
       ) t order by t.[days]
2021-03-07 18:13:44,857 [52] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, tipo as [value], [order] from dn_task_tipo
       ) t order by t.[order]
2021-03-07 18:13:44,859 [52] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value]
       union select nome as title, nome as [value] from users
       ) t order by 2
2021-03-07 18:13:54,579 [7] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:13:54,580 [7] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:13:54,582 [7] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:13:54,584 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:13:54,584 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:13:54,585 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:13:54,587 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:13:54,588 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:13:54,588 [7] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:13:54,589 [7] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:13:54,590 [7] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:13:54,590 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:13:54,590 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:13:54,591 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:13:54,592 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:13:54,592 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:13:54,593 [7] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:13:54,593 [7] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:13:54,593 [7] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:13:54,594 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:13:54,595 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:13:54,595 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:13:54,595 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:13:54,596 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:13:54,596 [7] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:13:54,597 [7] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:13:54,608 [49] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:13:54,609 [49] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:13:54,610 [49] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:13:54,611 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:13:54,611 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:13:54,612 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:13:54,613 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:13:54,613 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:13:54,614 [49] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:13:54,615 [49] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:13:54,615 [49] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:13:54,616 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:13:54,616 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:13:54,617 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:13:54,617 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:13:54,618 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:13:54,618 [49] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:13:54,619 [49] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:13:54,620 [49] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:13:54,621 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:13:54,622 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:13:54,622 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:13:54,622 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:13:54,623 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:13:54,623 [49] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:13:54,624 [49] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:13:54,632 [49] DEBUG dn_lib.tools.log - SQL: select task_filter_id, filter_title, filter_notes, filter_def, filter_class
 from dn_tasks_filters order by filter_order
2021-03-07 18:13:54,633 [49] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = 0 and var_name in ('active-task-filter')
2021-03-07 18:13:54,634 [49] DEBUG dn_lib.tools.log - SQL: select ft.tp, ft.synch_folder_id, ft.folder_id, ft.parent_id, ft.title
       , ft.des, ft.http_path, ft.lvl, dbo.folder_path(ft.folder_id) as folder_path
       , (select top 1 1 from dn_tasks where folder_id = ft.folder_id) as is_task
      from dbo.fnc_dn_folders(19, null) ft
      
      order by ft.synch_folder_id, ft.lvl, ft.title
2021-03-07 18:13:54,642 [49] DEBUG dn_lib.tools.log - SQL: select f.synch_folder_id, f.file_id, f.folder_id, f.file_name, f.dt_ins , null as found_file
       from dn_files f
       where exists (select top 1 1 from dbo.fnc_dn_folders(19, null) ft 
        
	      where ft.synch_folder_id = f.synch_folder_id 
          and isnull(ft.folder_id, 0) = isnull(f.folder_id, 0))
2021-03-07 18:13:54,654 [49] DEBUG dn_lib.tools.log - SQL: select t3.*
      , tst.stato, tst.[order] as stato_order, isnull(tst.class, 'light') as stato_class, isnull(tst.title_plurale, '') as stato_title_plurale, isnull(tst.title_singolare, '') as stato_title_singolare
      , tp.priorita, tp.[order] as priorita_order, isnull(tp.class, 'light') as priorita_class, isnull(tp.title_plurale, '') as priorita_title_plurale, isnull(tp.title_singolare, '') as priorita_title_singolare
      , tt.tipo, tt.[order] as tipo_order, isnull(tt.class, 'light') as tipo_class, isnull(tt.title_plurale, '') as tipo_title_plurale, isnull(tt.title_singolare, '') as tipo_title_singolare
      , ts.stima, ts.[days] as stima_days, isnull(ts.class, 'light') as stima_class, isnull(ts.title_plurale, '') as stima_title_plurale, isnull(ts.title_singolare, '') as stima_title_singolare
      , (select top 1 1 from dn_tasks_notes where task_id = t3.task_id) as task_notes
      , (select top 1 1 from vw_task_allegati f2 where f2.task_id = t3.task_id 
          and not exists (select top 1 1 from dn_files_info where file_name = f2.file_name)) as task_files
  from (select t2.*, datediff(day, t2.dt_ref, getdate()) as diff_days
    from (select t.task_id, t.synch_folder_id, isnull(t.folder_id, f.folder_id) as folder_id
	   , t.file_id, t.title, t.[user], t.stato, t.priorita, t.tipo, t.stima, t.dt_ins, t.dt_upd
     , t.dt_lwt, (case when isnull(t.dt_ins, 0) > isnull(t.dt_upd, 0) then t.dt_ins else t.dt_upd end) as dt_ref
	  from dn_tasks t
    
	  left join dn_files f on f.file_id = t.file_id
    where (null is null or (null is not null and t.task_id = null)) ) t2
    where exists (select top 1 1 from dbo.fnc_dn_folders(19, null) ft 
	    where  ft.tp <> 'synch_folder' and  ft.synch_folder_id = t2.synch_folder_id 
       and isnull(ft.folder_id, 0) = isnull(t2.folder_id, 0))) t3
   left join dn_task_stato tst on tst.stato = t3.stato
   left join dn_task_priorita tp on tp.priorita = t3.priorita
   left join dn_task_tipo tt on tt.tipo = t3.tipo
   left join dn_task_stima ts on ts.stima = t3.stima
   where 1 = 1 
2021-03-07 18:13:54,673 [49] DEBUG dn_lib.tools.log - SQL: select title_singolare, stato from dn_task_stato order by [order]
2021-03-07 18:13:54,676 [49] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, priorita as [value], [order] from dn_task_priorita
      ) t order by t.[order]
2021-03-07 18:13:54,678 [49] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [days]
       union select title_singolare as title, stima as [value], [days] from dn_task_stima 
       ) t order by t.[days]
2021-03-07 18:13:54,679 [49] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, tipo as [value], [order] from dn_task_tipo
       ) t order by t.[order]
2021-03-07 18:13:54,680 [49] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value]
       union select nome as title, nome as [value] from users
       ) t order by 2
2021-03-07 18:14:02,617 [54] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:14:02,618 [54] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:14:02,619 [54] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:14:02,619 [54] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:14:02,619 [54] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:14:02,620 [54] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:14:02,620 [54] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:14:02,621 [54] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:14:02,621 [54] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:14:02,622 [54] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:14:02,622 [54] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:14:02,622 [54] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:14:02,623 [54] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:14:02,623 [54] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:14:02,624 [54] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:14:02,624 [54] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:14:02,624 [54] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:14:02,625 [54] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:14:02,625 [54] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:14:02,625 [54] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:14:02,626 [54] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:14:02,626 [54] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:14:02,627 [54] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:14:02,627 [54] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:14:02,627 [54] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:14:02,628 [54] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:14:02,641 [25] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:14:02,642 [25] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:14:02,643 [25] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:14:02,643 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:14:02,644 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:14:02,645 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:14:02,646 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:14:02,646 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:14:02,647 [25] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:14:02,647 [25] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:14:02,648 [25] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:14:02,648 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:14:02,649 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:14:02,649 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:14:02,650 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:14:02,650 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:14:02,651 [25] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:14:02,651 [25] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:14:02,652 [25] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:14:02,653 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:14:02,654 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:14:02,654 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:14:02,655 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:14:02,655 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:14:02,656 [25] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:14:02,656 [25] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:14:02,668 [55] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:14:02,669 [55] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:14:02,670 [55] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:14:02,670 [55] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:14:02,671 [55] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:14:02,671 [55] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:14:02,672 [55] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:14:02,672 [55] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:14:02,672 [55] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:14:02,673 [55] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:14:02,673 [55] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:14:02,674 [55] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:14:02,674 [55] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:14:02,675 [55] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:14:02,675 [55] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:14:02,676 [55] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:14:02,676 [55] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:14:02,677 [55] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:14:02,677 [55] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:14:02,677 [55] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:14:02,678 [55] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:14:02,678 [55] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:14:02,679 [55] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:14:02,679 [55] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:14:02,679 [55] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:14:02,680 [55] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:14:03,238 [49] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:14:03,239 [49] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:14:03,240 [49] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:14:03,240 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:14:03,241 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:14:03,242 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:14:03,243 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:14:03,244 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:14:03,245 [49] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:14:03,246 [49] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:14:03,246 [49] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:14:03,247 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:14:03,247 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:14:03,248 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:14:03,248 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:14:03,249 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:14:03,249 [49] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:14:03,250 [49] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:14:03,250 [49] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:14:03,251 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:14:03,251 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:14:03,252 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:14:03,252 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:14:03,253 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:14:03,253 [49] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:14:03,254 [49] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:14:03,297 [49] DEBUG dn_lib.tools.log - SQL: select distinct lower(nome) as nome from users
2021-03-07 18:14:03,300 [49] DEBUG dn_lib.tools.log - SQL: select free_txt, stato, priorita, tipo, stima, (case when [default] = 1 then '1' else '0' end) as [default]
        from dn_task_free_labels 
2021-03-07 18:14:03,303 [49] DEBUG dn_lib.tools.log - SQL: select file_name, type_info from dn_files_info
2021-03-07 18:14:03,305 [49] DEBUG dn_lib.tools.log - SQL: select extension, des_extension, open_comment, close_comment, type_content from dn_files_types
2021-03-07 18:14:03,307 [49] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = -1 and var_name in ('synch-files')
2021-03-07 18:14:03,309 [49] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = -1 and var_name in ('synch-folders')
2021-03-07 18:14:03,310 [49] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = -1 and var_name in ('synch-lwt')
2021-03-07 18:14:03,312 [49] DEBUG dn_lib.tools.log - SQL: select sf.synch_folder_id, sf.pc_name, sf.[title], sf.[des], sf.local_path, sf.http_path, sf.[user], sf.[password]
        from synch_folders sf where sf.pc_name = 'MOLINOVO' order by sf.[title]
2021-03-07 18:14:03,499 [49] DEBUG dn_lib.tools.log - elenco cartelle da sincronizzare
2021-03-07 18:14:03,500 [49] DEBUG dn_lib.tools.log - SQL: select sf.synch_folder_id, sf.pc_name, sf.[title], sf.[des], sf.local_path, sf.http_path, sf.[user], sf.[password]
        from synch_folders sf where sf.pc_name = 'MOLINOVO' order by sf.[title]
2021-03-07 18:14:03,501 [49] DEBUG dn_lib.tools.log -    - cartella di sincronizzazione 'dipa notess' - Deepa Notes, path: C:\root\todd\_test\dn
2021-03-07 18:14:03,503 [49] DEBUG dn_lib.tools.log - SQL: update dn_folders set readed = null;
      update dn_files set readed = null;
      update dn_tasks set readed = null;
2021-03-07 18:14:03,511 [49] DEBUG dn_lib.tools.log - elaboro la cartella C:\root\todd\_test\dn...
2021-03-07 18:14:03,512 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'aggiornamento dati';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'aggiornamento dati', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,519 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 2 
        and folder_name = 'via i prezzi custom di mapfre.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 2, 'via i prezzi custom di mapfre.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,532 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 3 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 3, null, left('via i prezzi custom di mapfre', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('via i prezzi custom di mapfre', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:35', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('via i prezzi custom di mapfre', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,539 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 3 and file_name = 'via i prezzi mapfre custom.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 3, 'via i prezzi mapfre custom.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-26 16:00:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-26 16:00:11', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-26 16:00:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,544 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 2) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:03,553 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'cauzioni';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'cauzioni', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,557 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'condizione particolare tecnodue .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'condizione particolare tecnodue .task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,566 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 5 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 5, null, left('condizione particolare tecnodue ', 150)
            , 'molina', convert(datetime, '2020-07-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', NULL, convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-30 00:00:00', 120), dt_upd = NULL
         , title = left('condizione particolare tecnodue ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('condizione particolare tecnodue ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,572 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 5 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 5, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 10:08:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-30 10:08:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 10:08:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,576 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 5 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 5, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 11:50:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-30 11:50:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 11:50:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,581 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 3) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:03,587 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'elimina note interne dopo invio mail.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'elimina note interne dopo invio mail.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,597 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 6 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 6, null, left('elimina note interne dopo invio mail', 150)
            , 'molina', convert(datetime, '2020-07-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-29 00:00:00', 120), dt_upd = NULL
         , title = left('elimina note interne dopo invio mail', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('elimina note interne dopo invio mail', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,603 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 6 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 6, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 16:10:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-29 16:10:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 16:10:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,606 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 4) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:03,613 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'errore - riferimento a un oggetto non impostato sul rientro.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'errore - riferimento a un oggetto non impostato sul rientro.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,623 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 7 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 7, null, left('errore - riferimento a un oggetto non impostato sul rientro', 150)
            , 'molina', convert(datetime, '2020-07-27 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-27 00:00:00', 120), dt_upd = NULL
         , title = left('errore - riferimento a un oggetto non impostato sul rientro', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('errore - riferimento a un oggetto non impostato sul rientro', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,629 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 7 and file_name = 'dipa-20200727.log';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 7, 'dipa-20200727.log', '.log', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 12:18:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-27 12:18:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 12:18:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,632 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 7 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 7, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 15:33:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-27 15:33:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 15:33:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,636 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 7 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 7, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 15:30:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-27 15:30:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 15:30:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,641 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 5) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:03,647 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'etichette automatiche arrivi resi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'etichette automatiche arrivi resi.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,657 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 8 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 8, null, left('etichette automatiche arrivi resi', 150)
            , 'molina', convert(datetime, '2020-09-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-23 00:00:00', 120), dt_upd = NULL
         , title = left('etichette automatiche arrivi resi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('etichette automatiche arrivi resi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,663 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 8 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 8, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-23 14:50:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-23 14:50:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-23 14:50:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,667 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 6) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:03,676 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'filtro anno e altre cosette.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'filtro anno e altre cosette.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,685 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 9 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 9, null, left('filtro anno e altre cosette', 150)
            , 'molina', convert(datetime, '2020-11-16 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-16 00:00:00', 120), dt_upd = NULL
         , title = left('filtro anno e altre cosette', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-16 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('filtro anno e altre cosette', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,691 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 9 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 9, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-16 08:43:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-16 08:43:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-16 08:43:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,695 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 7) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:03,702 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'mail in automatico al cliente per le garanzie anticipate.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'mail in automatico al cliente per le garanzie anticipate.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,711 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 10 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 10, null, left('mail in automatico al cliente per le garanzie anticipate', 150)
            , 'molina', convert(datetime, '2020-07-07 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-07 00:00:00', 120), dt_upd = NULL
         , title = left('mail in automatico al cliente per le garanzie anticipate', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:35', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-07 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('mail in automatico al cliente per le garanzie anticipate', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,717 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 10 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 10, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-07 09:55:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-07 09:55:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-07 09:55:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,721 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 8) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:03,729 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'non voglio pi vedere la pratica.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'non voglio pi vedere la pratica.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,736 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 11 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 11, null, left('non voglio pi vedere la pratica', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('non voglio pi vedere la pratica', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('non voglio pi vedere la pratica', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,742 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 11 and file_name = 'i.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 11, 'i.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-26 16:30:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-26 16:30:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 16:30:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,747 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 11 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 11, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-29 08:37:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-29 08:37:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 08:37:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,751 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 9) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:03,758 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'pagina magento reso carcassa.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'pagina magento reso carcassa.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,767 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 12 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 12, null, left('pagina magento reso carcassa', 150)
            , 'molina', convert(datetime, '2020-09-24 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'settimana', convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-24 00:00:00', 120), dt_upd = NULL
         , title = left('pagina magento reso carcassa', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'settimana', dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('pagina magento reso carcassa', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('settimana', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,772 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 12 
        and folder_name = 'bck';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 12, 'bck', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,777 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 13 and file_name = 'mysql.bck.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 13, 'mysql.bck.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-24 12:33:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-24 12:33:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-24 12:33:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,781 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 13 and file_name = 'rpc-index.bck.php';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 13, 'rpc-index.bck.php', '.php', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-24 11:00:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-24 11:00:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-24 11:00:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,786 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 13 and file_name = 'scheduler.bck.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 13, 'scheduler.bck.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-24 10:57:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-24 10:57:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-24 10:57:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,790 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 10) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:03,797 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 12 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 12, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-19 11:12:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-19 11:12:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-19 11:12:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,801 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 12 and file_name = 'mysql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 12, 'mysql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-25 14:33:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-25 14:33:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-25 14:33:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,805 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 12 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 12, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-08 14:54:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-08 14:54:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-08 14:54:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,810 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 10) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:03,811 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'revisione cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'revisione cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,820 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 14 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 14, null, left('revisione cauzioni', 150)
            , 'molina', convert(datetime, '2020-09-04 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'giornata', convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-04 00:00:00', 120), dt_upd = NULL
         , title = left('revisione cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-04 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,826 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 14 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 14, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-11 16:52:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-11 16:52:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-11 16:52:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,830 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 14 and file_name = 'lavs_resi.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 14, 'lavs_resi.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-08 17:20:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-08 17:20:41', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-08 17:20:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,835 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 11) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:03,842 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'revisione colonne griglia cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'revisione colonne griglia cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,850 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 15 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 15, null, left('revisione colonne griglia cauzioni', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('revisione colonne griglia cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione colonne griglia cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,856 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 15 and file_name = 'img.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 15, 'img.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-26 11:53:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-26 11:53:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 11:53:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,860 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 12) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:03,867 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'ricerca lavorazioni e gestione note.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'ricerca lavorazioni e gestione note.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,875 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 16 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 16, null, left('ricerca lavorazioni e gestione note', 150)
            , 'molina', convert(datetime, '2020-09-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'giornata', convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-17 00:00:00', 120), dt_upd = NULL
         , title = left('ricerca lavorazioni e gestione note', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ricerca lavorazioni e gestione note', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,881 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 13) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:03,888 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'ritocchi cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'ritocchi cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,897 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 17 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 17, null, left('ritocchi cauzioni', 150)
            , 'molina', convert(datetime, '2020-09-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-21 00:00:00', 120), dt_upd = NULL
         , title = left('ritocchi cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ritocchi cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,903 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 17 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 17, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-21 09:13:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-21 09:13:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-21 09:13:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,908 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 14) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:03,916 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'SI-NO-URGENTE nella griglia cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'SI-NO-URGENTE nella griglia cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,925 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 18 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 18, null, left('SI-NO-URGENTE nella griglia cauzioni', 150)
            , 'molina', convert(datetime, '2020-09-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-14 00:00:00', 120), dt_upd = NULL
         , title = left('SI-NO-URGENTE nella griglia cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('SI-NO-URGENTE nella griglia cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,931 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 18 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 18, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-15 14:12:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-15 14:12:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-15 14:12:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,935 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 15) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:03,943 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'crm';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'crm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-07 18:13:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-07 18:13:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-07 18:13:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,948 [49] DEBUG dn_lib.tools.log - aggiornato folder nel database: C:\root\todd\_test\dn\crm
2021-03-07 18:14:03,948 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 19 
        and folder_name = 'gestione codici pi ricercati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 19, 'gestione codici pi ricercati.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,957 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 20 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 20, null, left('gestione codici pi ricercati', 150)
            , 'molina', convert(datetime, '2020-11-02 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-02 00:00:00', 120), dt_upd = NULL
         , title = left('gestione codici pi ricercati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione codici pi ricercati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,962 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 20 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 20, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-02 16:32:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-02 16:32:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-02 16:32:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,967 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 16) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:03,974 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 19 
        and folder_name = 'pulizia crm.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 19, 'pulizia crm.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,983 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 21 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 21, null, left('pulizia crm', 150)
            , 'molina', convert(datetime, '2020-05-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-05-26 00:00:00', 120), dt_upd = NULL
         , title = left('pulizia crm', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-05-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('pulizia crm', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,988 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 21 
        and folder_name = '_oldies';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 21, '_oldies', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,993 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'App_Code';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'App_Code', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:03,997 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 23 and file_name = 'backup.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 23, 'backup.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-12-13 15:11:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-12-13 15:11:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-12-13 15:11:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,001 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 23 and file_name = 'db_utilities.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 23, 'db_utilities.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-26 10:47:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-26 10:47:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-26 10:47:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,006 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,013 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'pages';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'pages', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,017 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'recovery.aspx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'recovery.aspx', '.aspx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-10-20 17:46:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-10-20 17:46:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-20 17:46:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,021 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'recovery.aspx.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'recovery.aspx.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-26 10:46:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-26 10:46:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-26 10:46:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,025 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'rifs.aspx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'rifs.aspx', '.aspx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-05-08 14:05:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-05-08 14:05:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-05-08 14:05:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,030 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'rifs.aspx.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'rifs.aspx.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-09-16 17:25:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-09-16 17:25:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-09-16 17:25:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,035 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'sys.css';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'sys.css', '.css', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,040 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'tables.aspx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'tables.aspx', '.aspx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-05-08 14:05:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-05-08 14:05:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-05-08 14:05:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,045 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'tables.aspx.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'tables.aspx.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2018-09-21 17:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2018-09-21 17:44:37', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-09-21 17:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,050 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,051 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'pages_xml';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'pages_xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,056 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 25 and file_name = 'pageBackup.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 25, 'pageBackup.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,061 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 25 and file_name = 'pageBackupImport.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 25, 'pageBackupImport.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,066 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 25 and file_name = 'pageBackups.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 25, 'pageBackups.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-25 17:12:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-25 17:12:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-25 17:12:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,071 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 25 and file_name = 'pageImport.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 25, 'pageImport.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-10-16 14:49:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-10-16 14:49:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-16 14:49:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,076 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,077 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'schemas';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'schemas', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,082 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td19_metaq1.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td19_metaq1.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-06-27 17:35:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-06-27 17:35:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-06-27 17:35:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,087 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td19_schemaq1.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td19_schemaq1.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-06-27 17:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-06-27 17:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-06-27 17:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,092 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'tdsql_metaq3.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'tdsql_metaq3.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-05-13 07:49:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-05-13 07:49:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-05-13 07:49:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,096 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'tdsql_schemaq3.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'tdsql_schemaq3.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-05-13 08:52:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-05-13 08:52:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-05-13 08:52:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,102 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_metaq1.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_metaq1.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:05:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:05:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:05:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,107 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_metaq2.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_metaq2.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:05:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:05:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:05:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,112 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_metaq3.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_metaq3.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:05:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:05:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:05:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,118 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_schemaq1.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_schemaq1.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:04:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:04:57', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:04:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,123 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_schemaq2.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_schemaq2.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:06:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:06:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:06:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,128 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_schemaq3.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_schemaq3.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-07 16:41:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-07 16:41:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-07 16:41:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,133 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'web_meta2016.05.01.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'web_meta2016.05.01.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-10-04 10:03:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-10-04 10:03:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-10-04 10:03:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,138 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'web_schema2016.05.01.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'web_schema2016.05.01.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-08 10:20:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-08 10:20:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-08 10:20:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,143 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,145 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'scripts';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'scripts', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,151 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'clean_all.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'clean_all.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,156 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'clean_cache.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'clean_cache.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,161 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'clean_zz.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'clean_zz.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,166 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'initweb.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'initweb.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,171 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_codici_attivo.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_codici_attivo.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-22 10:16:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-22 10:16:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-22 10:16:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,176 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_enums.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_enums.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2018-09-21 15:17:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2018-09-21 15:17:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-09-21 15:17:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,181 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_ricerche.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_ricerche.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-11-09 16:11:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-11-09 16:11:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-11-09 16:11:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,186 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_tpusers.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_tpusers.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,191 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_users.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_users.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,196 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'resetdb.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'resetdb.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,201 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,203 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,204 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,206 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'ditex';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'ditex', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,211 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 28 
        and folder_name = 'struttura base, pagine web, tabelle.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 28, 'struttura base, pagine web, tabelle.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,221 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 29 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 29, null, left('struttura base, pagine web, tabelle', 150)
            , 'molina', convert(datetime, '2020-12-04 00:00:00', 120), NULL, 1
            , 'sospeso', NULL, 'aggiunta', 'settimana', convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-12-04 00:00:00', 120), dt_upd = NULL
         , title = left('struttura base, pagine web, tabelle', 150), [user] = 'molina'
         , stato = 'sospeso', priorita = NULL
         , tipo = 'aggiunta', stima = 'settimana', dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-12-04 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('struttura base, pagine web, tabelle', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('sospeso', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('settimana', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,229 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 29 and file_name = 'Circolare 4E Agenzia Entrate Iperammortamento 30-03-2017.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 29, 'Circolare 4E Agenzia Entrate Iperammortamento 30-03-2017.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-20 16:01:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-20 16:01:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-20 16:01:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,233 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 29 and file_name = 'ditex.msg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 29, 'ditex.msg', '.msg', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-20 16:01:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-20 16:01:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-20 16:01:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,238 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 29 and file_name = 'ERAGON-COMMESSE.doc';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 29, 'ERAGON-COMMESSE.doc', '.doc', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-20 16:01:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-20 16:01:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-20 16:01:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,244 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 29 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 29, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-12-14 11:06:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-12-14 11:06:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-12-14 11:06:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,249 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 18) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,257 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'estrazioni';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'estrazioni', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,262 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 30 
        and folder_name = 'estrazione dati kromeda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 30, 'estrazione dati kromeda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,271 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 31 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 31, null, left('estrazione dati kromeda', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('estrazione dati kromeda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('estrazione dati kromeda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,279 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 31 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 31, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 12:24:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 12:24:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 12:24:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,283 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 19) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,290 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'lavorazioni';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'lavorazioni', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:45:44', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:44', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:44', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,295 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'accetta lavorazione senza invio mail.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'accetta lavorazione senza invio mail.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,307 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 33 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 33, null, left('accetta lavorazione senza invio mail', 150)
            , 'molina', convert(datetime, '2020-07-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-08 00:00:00', 120), dt_upd = NULL
         , title = left('accetta lavorazione senza invio mail', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('accetta lavorazione senza invio mail', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,312 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 33 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 33, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-09 10:09:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-09 10:09:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-09 10:09:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,317 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 20) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,325 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'aggiunto passaggio da ritirare.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'aggiunto passaggio da ritirare.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,334 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 34 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 34, null, left('aggiunto passaggio da ritirare', 150)
            , 'molina', convert(datetime, '2020-09-01 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezzora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-01 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunto passaggio da ritirare', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-01 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunto passaggio da ritirare', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,341 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 34 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 34, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-01 11:06:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-01 11:06:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-01 11:06:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,345 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 34 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 34, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-01 11:07:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-01 11:07:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-01 11:07:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,349 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 21) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,358 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'controlli uploat sito.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'controlli uploat sito.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,367 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 35 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 35, null, left('controlli uploat sito', 150)
            , 'molina', convert(datetime, '2020-10-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-09 00:00:00', 120), dt_upd = NULL
         , title = left('controlli uploat sito', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('controlli uploat sito', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,373 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 35 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 35, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-09 16:42:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-09 16:42:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-09 16:42:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,377 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 22) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,385 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'data aggiornamento lavorazioni sul sito.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'data aggiornamento lavorazioni sul sito.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,394 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 36 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 36, null, left('data aggiornamento lavorazioni sul sito', 150)
            , 'molina', convert(datetime, '2020-09-03 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezzora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-03 00:00:00', 120), dt_upd = NULL
         , title = left('data aggiornamento lavorazioni sul sito', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-03 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('data aggiornamento lavorazioni sul sito', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,400 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 36 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 36, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 10:37:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-03 10:37:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-03 10:37:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,405 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 23) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,412 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'facilitare l''uso del reso no rip.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'facilitare l''uso del reso no rip.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,421 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 37 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 37, null, left('facilitare l''uso del reso no rip', 150)
            , 'molina', convert(datetime, '2020-07-01 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', 'mezza', convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-01 00:00:00', 120), dt_upd = NULL
         , title = left('facilitare l''uso del reso no rip', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:40:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-01 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('facilitare l''uso del reso no rip', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,427 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 37 and file_name = '1.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 37, '1.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-01 16:41:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-01 16:41:08', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-01 16:41:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,433 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 37 and file_name = '2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 37, '2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-01 16:41:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-01 16:41:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-01 16:41:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,437 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 37 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 37, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-02 14:27:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-02 14:27:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 14:27:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,441 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 24) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,452 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'gestione porta lui.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'gestione porta lui.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,461 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 38 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 38, null, left('gestione porta lui', 150)
            , 'molina', convert(datetime, '2020-09-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'facile', 'ora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-15 00:00:00', 120), dt_upd = NULL
         , title = left('gestione porta lui', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione porta lui', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,467 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 25) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,473 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'gestione tasto INVIO note cliente.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'gestione tasto INVIO note cliente.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,482 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 39 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 39, null, left('gestione tasto INVIO note cliente', 150)
            , 'molina', convert(datetime, '2020-09-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-14 00:00:00', 120), dt_upd = NULL
         , title = left('gestione tasto INVIO note cliente', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione tasto INVIO note cliente', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,489 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 39 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 39, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-14 15:58:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-14 15:58:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-14 15:58:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,493 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 26) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,500 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'lavorazioni - mail inchiodata.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'lavorazioni - mail inchiodata.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,509 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 40 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 40, null, left('lavorazioni - mail inchiodata', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('lavorazioni - mail inchiodata', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('lavorazioni - mail inchiodata', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,515 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 40 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 40, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-27 10:27:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-27 10:27:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-27 10:27:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,519 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 27) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,526 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'ma i numeri di telefono da dove arrivano.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'ma i numeri di telefono da dove arrivano.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:41', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,532 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 41 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 41, null, left('ma i numeri di telefono da dove arrivano', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ma i numeri di telefono da dove arrivano', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:41', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ma i numeri di telefono da dove arrivano', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,538 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 41 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 41, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 09:24:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 09:24:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 09:24:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,542 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 41 and file_name = 'tel lav.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 41, 'tel lav.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-09 17:47:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-09 17:47:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-09 17:47:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,546 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 41 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 41, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-20 15:06:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-20 15:06:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-20 15:06:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,550 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 28) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,558 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'mail - prenota ritiri errata.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'mail - prenota ritiri errata.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,564 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 42 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 42, null, left('mail - prenota ritiri errata', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('mail - prenota ritiri errata', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('mail - prenota ritiri errata', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,570 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 42 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 42, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 09:29:44', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-05 09:29:44', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 09:29:44', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,574 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 29) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,582 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'modifica codici scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'modifica codici scheda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,591 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 43 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 43, null, left('modifica codici scheda', 150)
            , 'molina', convert(datetime, '2020-09-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-29 00:00:00', 120), dt_upd = NULL
         , title = left('modifica codici scheda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('modifica codici scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,597 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 43 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 43, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-29 17:55:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-29 17:55:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-29 17:55:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,601 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 30) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,609 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'nuova scheda - aggiungere anche il reso.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'nuova scheda - aggiungere anche il reso.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,618 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 44 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 44, null, left('nuova scheda - aggiungere anche il reso', 150)
            , 'molina', convert(datetime, '2020-07-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-08 00:00:00', 120), dt_upd = NULL
         , title = left('nuova scheda - aggiungere anche il reso', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuova scheda - aggiungere anche il reso', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,624 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 31) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,631 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'nuovo campo no spese.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'nuovo campo no spese.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,640 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 45 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 45, null, left('nuovo campo no spese', 150)
            , 'molina', convert(datetime, '2021-01-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezzora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-15 00:00:00', 120), dt_upd = NULL
         , title = left('nuovo campo no spese', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuovo campo no spese', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,646 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 45 and file_name = '1.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 45, '1.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 17:35:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-15 17:35:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 17:35:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,651 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 45 and file_name = '2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 45, '2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 17:35:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-15 17:35:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 17:35:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,655 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 45 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 45, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 17:34:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-15 17:34:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 17:34:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,659 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 32) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,666 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'nuovo ordine RESO NON ACCETTATO.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'nuovo ordine RESO NON ACCETTATO.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,677 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 46 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 46, null, left('nuovo ordine RESO NON ACCETTATO', 150)
            , 'molina', convert(datetime, '2020-09-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-28 00:00:00', 120), dt_upd = NULL
         , title = left('nuovo ordine RESO NON ACCETTATO', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuovo ordine RESO NON ACCETTATO', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,682 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 46 and file_name = 'task.spese di gestione.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 46, 'task.spese di gestione.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-28 15:16:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-28 15:16:15', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-28 15:16:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,688 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 33) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,694 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'nuovo tipo di lavorazione RESO DA CLIENTE.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'nuovo tipo di lavorazione RESO DA CLIENTE.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,703 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 47 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 47, null, left('nuovo tipo di lavorazione RESO DA CLIENTE', 150)
            , 'molina', convert(datetime, '2020-07-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', NULL, convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-08 00:00:00', 120), dt_upd = NULL
         , title = left('nuovo tipo di lavorazione RESO DA CLIENTE', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuovo tipo di lavorazione RESO DA CLIENTE', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,709 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 47 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 47, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-08 15:29:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-08 15:29:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-08 15:29:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,713 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 34) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,720 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'pdf lavorazione senza intestazione cliente.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'pdf lavorazione senza intestazione cliente.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,730 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 48 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 48, null, left('pdf lavorazione senza intestazione cliente', 150)
            , 'molina', convert(datetime, '2020-06-24 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'facile', NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-24 00:00:00', 120), dt_upd = NULL
         , title = left('pdf lavorazione senza intestazione cliente', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('pdf lavorazione senza intestazione cliente', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,736 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 35) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,743 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'poter cambiare una lavorazione da GAR a LAV.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'poter cambiare una lavorazione da GAR a LAV.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,752 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 49 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 49, null, left('poter cambiare una lavorazione da GAR a LAV', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('poter cambiare una lavorazione da GAR a LAV', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('poter cambiare una lavorazione da GAR a LAV', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,758 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 49 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 49, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-24 15:46:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-24 15:46:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-24 15:46:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,763 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 49 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 49, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,767 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 36) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,775 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'poter inserire anche files pdf o altro oltre alle immagini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'poter inserire anche files pdf o altro oltre alle immagini.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:41', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,781 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 50 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 50, null, left('poter inserire anche files pdf o altro oltre alle immagini', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('poter inserire anche files pdf o altro oltre alle immagini', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:41', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('poter inserire anche files pdf o altro oltre alle immagini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,787 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 37) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,794 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'poter scaricare le immagini dalla scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'poter scaricare le immagini dalla scheda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:41', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,799 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 51 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 51, null, left('poter scaricare le immagini dalla scheda', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('poter scaricare le immagini dalla scheda', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:41', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('poter scaricare le immagini dalla scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,805 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 38) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,812 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'revisione ritiri in rosso.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'revisione ritiri in rosso.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,820 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 52 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 52, null, left('revisione ritiri in rosso', 150)
            , 'molina', convert(datetime, '2020-09-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezzora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-09 00:00:00', 120), dt_upd = NULL
         , title = left('revisione ritiri in rosso', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione ritiri in rosso', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,828 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 52 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 52, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-09 09:52:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-09 09:52:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-09 09:52:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,833 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 39) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,840 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rinomina DIP.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rinomina DIP.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:41', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,849 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 53 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 53, null, left('rinomina DIP', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('rinomina DIP', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:41', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rinomina DIP', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,854 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 53 and file_name = '1.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 53, '1.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-03 17:42:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-03 17:42:57', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-03 17:42:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,860 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 53 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 53, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-03 18:06:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-03 18:06:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-03 18:06:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,864 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 53 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 53, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-05 23:11:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-05 23:11:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-05 23:11:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,868 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 40) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,875 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'ritiri rossi in errore.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'ritiri rossi in errore.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,884 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 54 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 54, null, left('ritiri rossi in errore', 150)
            , 'molina', convert(datetime, '2020-07-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-29 00:00:00', 120), dt_upd = NULL
         , title = left('ritiri rossi in errore', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ritiri rossi in errore', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,890 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 54 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 54, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 17:13:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-29 17:13:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 17:13:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,894 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 54 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 54, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 17:11:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-29 17:11:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 17:11:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,899 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 41) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,907 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rivisitazione colonna lavorazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rivisitazione colonna lavorazioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,916 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 55 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 55, null, left('rivisitazione colonna lavorazioni', 150)
            , 'molina', convert(datetime, '2021-02-04 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-02-04 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione colonna lavorazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-02-04 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione colonna lavorazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,922 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 55 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 55, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-05 14:29:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-05 14:29:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-05 14:29:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,926 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 55 and file_name = 'lavs.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 55, 'lavs.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-04 15:24:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-04 15:24:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-04 15:24:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,931 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 42) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,939 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rivisitazione flusso schede.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rivisitazione flusso schede.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,948 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 56 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 56, null, left('rivisitazione flusso schede', 150)
            , 'molina', convert(datetime, '2020-08-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-28 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione flusso schede', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione flusso schede', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,954 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 56 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 56, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 08:20:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-31 08:20:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-31 08:20:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,959 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 43) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,965 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rivisitazione lavorazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rivisitazione lavorazioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,975 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 57 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 57, null, left('rivisitazione lavorazioni', 150)
            , 'molina', convert(datetime, '2020-08-27 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezza', convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-27 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione lavorazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione lavorazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,980 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 57 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 57, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-28 10:57:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-28 10:57:53', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-28 10:57:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:04,985 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 44) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:04,992 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rivisitazione telefoni scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rivisitazione telefoni scheda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,001 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 58 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 58, null, left('rivisitazione telefoni scheda', 150)
            , 'molina', convert(datetime, '2020-10-01 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-01 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione telefoni scheda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-01 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione telefoni scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,008 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 58 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 58, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-01 16:25:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-01 16:25:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-01 16:25:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,012 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 45) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,019 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'selezione da sito dell''indirizzo ritiro lavorazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'selezione da sito dell''indirizzo ritiro lavorazioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,029 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 59 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 59, null, left('selezione da sito dell''indirizzo ritiro lavorazioni', 150)
            , 'molina', convert(datetime, '2020-06-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-15 00:00:00', 120), dt_upd = NULL
         , title = left('selezione da sito dell''indirizzo ritiro lavorazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('selezione da sito dell''indirizzo ritiro lavorazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,035 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 59 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 59, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 17:49:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-29 17:49:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 17:49:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,040 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 59 and file_name = 'img.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 59, 'img.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-15 08:31:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-15 08:31:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-15 08:31:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,044 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 59 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 59, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-08 14:51:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-08 14:51:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-08 14:51:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,048 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 59 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 59, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-15 08:34:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-15 08:34:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-15 08:34:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,052 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 46) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,060 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'stampa etichette codice scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'stampa etichette codice scheda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,069 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 60 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 60, null, left('stampa etichette codice scheda', 150)
            , 'molina', convert(datetime, '2020-09-16 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-16 00:00:00', 120), dt_upd = NULL
         , title = left('stampa etichette codice scheda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-16 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('stampa etichette codice scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,075 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 60 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 60, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-16 16:51:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-16 16:51:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-16 16:51:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,079 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 47) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,087 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'visualizzare telefono - mail nelle domande.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'visualizzare telefono - mail nelle domande.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,093 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 61 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 61, null, left('visualizzare telefono - mail nelle domande', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('visualizzare telefono - mail nelle domande', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('visualizzare telefono - mail nelle domande', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,098 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 61 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 61, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 11:26:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 11:26:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 11:26:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,103 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 61 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 61, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 11:26:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 11:26:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 11:26:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,108 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 48) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,114 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'magazzino';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'magazzino', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,119 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'bertello - melo refresci.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'bertello - melo refresci.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,128 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 63 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 63, null, left('bertello - melo refresci', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', 'alta', 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('bertello - melo refresci', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:47', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('bertello - melo refresci', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,134 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 63 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 63, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 08:39:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-15 08:39:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 08:39:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,139 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 49) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,146 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'carico dei codici DIP nel pedonale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'carico dei codici DIP nel pedonale.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,155 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 64 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 64, null, left('carico dei codici DIP nel pedonale', 150)
            , 'molina', convert(datetime, '2020-07-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-30 00:00:00', 120), dt_upd = NULL
         , title = left('carico dei codici DIP nel pedonale', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('carico dei codici DIP nel pedonale', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,161 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 64 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 64, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 14:22:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-30 14:22:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 14:22:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,165 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 50) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,172 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'gestione nuovo magazzino pallets.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'gestione nuovo magazzino pallets.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,181 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 65 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 65, null, left('gestione nuovo magazzino pallets', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'aggiunta', 'tre_giorni', convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('gestione nuovo magazzino pallets', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'tre_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione nuovo magazzino pallets', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('tre_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,187 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 65 and file_name = 'dipaQuoteXY_trl2.xlsx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 65, 'dipaQuoteXY_trl2.xlsx', '.xlsx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-07 16:34:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-07 16:34:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-07 16:34:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,192 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 65 and file_name = 'patch.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 65, 'patch.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-08 09:26:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-08 09:26:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-08 09:26:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,196 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 65 and file_name = 'script_bck.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 65, 'script_bck.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-07 12:22:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-07 12:22:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-07 12:22:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,200 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 65 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 65, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-08 09:25:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-08 09:25:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-08 09:25:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,204 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 51) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,211 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'gli ordini in viola li deve processare nino .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'gli ordini in viola li deve processare nino .task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,220 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 66 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 66, null, left('gli ordini in viola li deve processare nino ', 150)
            , 'molina', convert(datetime, '2020-07-06 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', 'due_ore', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-06 00:00:00', 120), dt_upd = NULL
         , title = left('gli ordini in viola li deve processare nino ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-06 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gli ordini in viola li deve processare nino ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,227 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 66 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 66, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-06 09:30:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-06 09:30:11', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-06 09:30:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,231 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 52) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,238 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'leds magazzino elettronico.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'leds magazzino elettronico.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,247 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 67 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 67, null, left('leds magazzino elettronico', 150)
            , 'molina', convert(datetime, '2020-01-24 00:00:00', 120), convert(datetime, '2021-03-03 14:40:35', 120), 1
            , 'in_corso', NULL, 'aggiunta', 'settimana', convert(datetime, '2021-03-03 14:40:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-01-24 00:00:00', 120), dt_upd = convert(datetime, '2021-03-03 14:40:35', 120)
         , title = left('leds magazzino elettronico', 150), [user] = 'molina'
         , stato = 'in_corso', priorita = NULL
         , tipo = 'aggiunta', stima = 'settimana', dt_lwt_index = convert(datetime, '2021-03-03 14:40:35', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-01-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(convert(datetime, '2021-03-03 14:40:35', 120), getdate())
          or isnull(title, '') <> isnull('leds magazzino elettronico', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('in_corso', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('settimana', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,253 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 67 
        and folder_name = 'PickToLight';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 67, 'PickToLight', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,258 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 68 
        and folder_name = 'cs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 68, 'cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,261 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 69 
        and folder_name = 'LsSample1a';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 69, 'LsSample1a', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,266 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 70 
        and folder_name = '.vs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 70, '.vs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,271 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 71 
        and folder_name = 'LsSample1a';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 71, 'LsSample1a', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,275 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 72 
        and folder_name = 'v15';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 72, 'v15', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,279 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 73 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 73, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,284 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 74 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 74, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,289 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 75 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 75, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,294 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 75 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 75, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,298 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 75 and file_name = 'storage.ide-shm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 75, 'storage.ide-shm', '.ide-shm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,303 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 75 and file_name = 'storage.ide-wal';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 75, 'storage.ide-wal', '.ide-wal', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,307 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,314 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,315 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 73 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 73, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:00:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:00:37', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:00:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,320 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,320 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 72 
        and folder_name = 'v16';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 72, 'v16', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,325 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 76 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 76, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,329 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 77 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 77, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,335 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 78 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 78, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,340 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 78 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 78, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:04:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:04:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:04:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,344 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,345 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,347 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 76 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 76, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:04:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:04:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:04:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,351 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,353 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,354 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,355 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 70 
        and folder_name = 'Backup';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 70, 'Backup', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,359 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 79 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 79, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,363 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 80 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 80, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,368 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 80 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 80, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,373 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 80 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 80, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,378 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 80 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 80, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,383 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 80 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 80, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,387 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,389 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 79 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 79, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:38:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:38:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:38:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,392 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 79 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 79, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:38:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:38:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:38:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,398 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 79 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 79, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:38:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:38:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:38:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,402 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 79 and file_name = 'LsSample1a.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 79, 'LsSample1a.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-11 16:03:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-11 16:03:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-11 16:03:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,407 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 79 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 79, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,412 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,413 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 70 
        and folder_name = 'bin';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 70, 'bin', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,418 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 81 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 81, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,422 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 82 and file_name = 'AioiSystems.Lightstep.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 82, 'AioiSystems.Lightstep.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-22 16:39:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-22 16:39:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-22 16:39:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,426 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 82 and file_name = 'AioiSystems.Lightstep.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 82, 'AioiSystems.Lightstep.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2012-06-29 10:53:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2012-06-29 10:53:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2012-06-29 10:53:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,432 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 82 and file_name = 'LsSample1a.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 82, 'LsSample1a.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,436 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 82 and file_name = 'LsSample1a.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 82, 'LsSample1a.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,441 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,443 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,444 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 70 
        and folder_name = 'obj';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 70, 'obj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,448 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 83 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 83, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,452 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 84 
        and folder_name = 'TempPE';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 84, 'TempPE', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,457 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 85 and file_name = 'Properties.Resources.Designer.cs.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 85, 'Properties.Resources.Designer.cs.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,462 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,464 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'DesignTimeResolveAssemblyReferences.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'DesignTimeResolveAssemblyReferences.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 17:39:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 17:39:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 17:39:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,470 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'DesignTimeResolveAssemblyReferencesInput.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'DesignTimeResolveAssemblyReferencesInput.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:33:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:33:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:33:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,474 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.csproj.CopyComplete';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.csproj.CopyComplete', '.copycomplete', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,478 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.csproj.CoreCompileInputs.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.csproj.CoreCompileInputs.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,483 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.csproj.FileListAbsolute.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.csproj.FileListAbsolute.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,488 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.csproj.GenerateResource.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.csproj.GenerateResource.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,493 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.csprojAssemblyReference.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.csprojAssemblyReference.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,498 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,502 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.Form1.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.Form1.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,508 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,511 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.Properties.Resources.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.Properties.Resources.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,516 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,518 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,519 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 70 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 70, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,524 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 86 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 86, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,529 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 86 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 86, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,534 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 86 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 86, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,538 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 86 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 86, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,542 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 86 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 86, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,547 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,548 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,553 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,557 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,561 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'LsSample1a.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'LsSample1a.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,566 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'LsSample1a.sln';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'LsSample1a.sln', '.sln', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,570 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,574 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'UpgradeLog.htm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'UpgradeLog.htm', '.htm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,580 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,581 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 69 
        and folder_name = 'LsSample1b';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 69, 'LsSample1b', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,585 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 87 
        and folder_name = '.vs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 87, '.vs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,590 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 88 
        and folder_name = 'LsSample1b';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 88, 'LsSample1b', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,595 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 89 
        and folder_name = 'v15';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 89, 'v15', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,598 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 90 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 90, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,604 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 91 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 91, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,608 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 92 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 92, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,613 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 92 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 92, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,617 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 92 and file_name = 'storage.ide-shm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 92, 'storage.ide-shm', '.ide-shm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,621 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 92 and file_name = 'storage.ide-wal';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 92, 'storage.ide-wal', '.ide-wal', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,627 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,628 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,629 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 90 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 90, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:02:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:02:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:02:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,634 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,635 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 89 
        and folder_name = 'v16';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 89, 'v16', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,639 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 93 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 93, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,644 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 94 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 94, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,649 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 95 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 95, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,654 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 95 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 95, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,658 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,659 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,660 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 93 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 93, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 18:15:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 18:15:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 18:15:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,665 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,666 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,667 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,669 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 87 
        and folder_name = 'Backup';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 87, 'Backup', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,674 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 96 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 96, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,678 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 97 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 97, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,683 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 97 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 97, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 17:35:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 17:35:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 17:35:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,688 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 97 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 97, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,693 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 97 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 97, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 17:35:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 17:35:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 17:35:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,696 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 97 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 97, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,702 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,703 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 96 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 96, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,708 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 96 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 96, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,712 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 96 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 96, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,716 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 96 and file_name = 'LsSample1b.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 96, 'LsSample1b.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-11 16:04:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-11 16:04:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-11 16:04:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,720 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 96 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 96, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 17:35:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 17:35:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 17:35:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,726 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,727 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 87 
        and folder_name = 'bin';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 87, 'bin', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,731 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 98 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 98, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,736 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 99 and file_name = 'AioiSystems.Lightstep.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 99, 'AioiSystems.Lightstep.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-22 16:39:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-22 16:39:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-22 16:39:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,741 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 99 and file_name = 'AioiSystems.Lightstep.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 99, 'AioiSystems.Lightstep.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2012-06-29 10:53:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2012-06-29 10:53:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2012-06-29 10:53:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,746 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 99 and file_name = 'LsSample1b.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 99, 'LsSample1b.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,750 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 99 and file_name = 'LsSample1b.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 99, 'LsSample1b.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,755 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,755 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,757 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 87 
        and folder_name = 'obj';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 87, 'obj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,761 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 100 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 100, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,765 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 101 
        and folder_name = 'TempPE';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 101, 'TempPE', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,770 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 102 and file_name = 'Properties.Resources.Designer.cs.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 102, 'Properties.Resources.Designer.cs.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,774 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,776 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'DesignTimeResolveAssemblyReferences.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'DesignTimeResolveAssemblyReferences.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 18:11:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 18:11:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 18:11:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,780 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'DesignTimeResolveAssemblyReferencesInput.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'DesignTimeResolveAssemblyReferencesInput.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,785 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.csproj.CopyComplete';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.csproj.CopyComplete', '.copycomplete', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,790 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.csproj.CoreCompileInputs.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.csproj.CoreCompileInputs.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,795 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.csproj.FileListAbsolute.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.csproj.FileListAbsolute.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,801 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.csproj.GenerateResource.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.csproj.GenerateResource.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,807 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.csprojAssemblyReference.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.csprojAssemblyReference.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,811 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,815 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.Form1.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.Form1.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 18:11:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 18:11:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 18:11:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,819 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,823 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.Properties.Resources.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.Properties.Resources.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 18:11:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 18:11:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 18:11:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,828 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,829 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,830 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 87 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 87, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,835 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 103 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 103, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,840 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 103 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 103, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,845 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 103 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 103, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,849 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 103 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 103, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,854 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 103 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 103, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,858 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,860 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,864 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,869 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,873 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'LsSample1b.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'LsSample1b.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,878 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'LsSample1b.sln';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'LsSample1b.sln', '.sln', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,883 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 17:35:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 17:35:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 17:35:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,888 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'UpgradeLog.htm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'UpgradeLog.htm', '.htm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,892 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,893 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 69 
        and folder_name = 'LsSample2';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 69, 'LsSample2', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,898 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 104 
        and folder_name = '.vs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 104, '.vs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,903 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 105 
        and folder_name = 'LsSample2';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 105, 'LsSample2', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,906 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 106 
        and folder_name = 'v15';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 106, 'v15', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,911 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 107 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 107, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,915 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 108 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 108, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,920 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 109 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 109, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,925 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 109 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 109, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,930 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 109 and file_name = 'storage.ide-shm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 109, 'storage.ide-shm', '.ide-shm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,933 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 109 and file_name = 'storage.ide-wal';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 109, 'storage.ide-wal', '.ide-wal', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,938 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,939 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,941 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 107 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 107, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,945 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,946 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 106 
        and folder_name = 'v16';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 106, 'v16', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,951 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 110 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 110, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,955 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 111 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 111, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,959 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 112 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 112, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,963 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 112 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 112, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,968 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,969 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,970 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 110 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 110, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 18:11:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 18:11:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 18:11:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,974 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,976 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,977 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:05,979 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 104 
        and folder_name = 'Backup';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 104, 'Backup', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,983 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 113 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 113, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,987 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 114 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 114, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:08', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,991 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 114 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 114, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:05,996 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 114 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 114, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,001 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 114 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 114, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,005 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 114 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 114, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:08', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,010 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,011 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'Declare.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'Declare.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-29 16:14:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-29 16:14:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-29 16:14:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,015 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:42:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:42:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:42:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,019 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 15:29:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 15:29:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 15:29:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,024 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 15:29:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 15:29:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 15:29:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,028 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'LsSample2.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'LsSample2.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-11 16:05:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-11 16:05:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-11 16:05:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,032 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,037 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'Workspace.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'Workspace.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:42:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:42:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:42:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,041 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'WorkUnit.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'WorkUnit.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-09-22 14:23:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-09-22 14:23:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-09-22 14:23:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,045 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,047 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 104 
        and folder_name = 'bin';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 104, 'bin', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,051 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 115 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 115, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,055 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 116 and file_name = 'AioiSystems.Lightstep.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 116, 'AioiSystems.Lightstep.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-22 16:39:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-22 16:39:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-22 16:39:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,059 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 116 and file_name = 'AioiSystems.Lightstep.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 116, 'AioiSystems.Lightstep.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2012-06-29 10:53:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2012-06-29 10:53:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2012-06-29 10:53:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,064 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 116 and file_name = 'LsSample2.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 116, 'LsSample2.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,068 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 116 and file_name = 'LsSample2.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 116, 'LsSample2.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,072 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,074 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,075 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 104 
        and folder_name = 'obj';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 104, 'obj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,079 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 117 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 117, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,084 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 118 
        and folder_name = 'TempPE';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 118, 'TempPE', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,088 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 119 and file_name = 'Properties.Resources.Designer.cs.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 119, 'Properties.Resources.Designer.cs.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,092 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,094 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'DesignTimeResolveAssemblyReferences.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'DesignTimeResolveAssemblyReferences.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 18:10:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 18:10:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 18:10:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,098 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'DesignTimeResolveAssemblyReferencesInput.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'DesignTimeResolveAssemblyReferencesInput.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,102 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.csproj.CopyComplete';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.csproj.CopyComplete', '.copycomplete', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,107 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.csproj.CoreCompileInputs.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.csproj.CoreCompileInputs.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,111 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.csproj.FileListAbsolute.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.csproj.FileListAbsolute.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,115 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.csproj.GenerateResource.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.csproj.GenerateResource.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,119 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.csprojAssemblyReference.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.csprojAssemblyReference.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,124 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,128 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.Form1.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.Form1.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,133 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,138 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.Properties.Resources.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.Properties.Resources.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,142 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,143 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,144 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 104 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 104, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,148 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 120 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 120, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:08', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,154 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 120 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 120, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,158 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 120 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 120, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,163 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 120 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 120, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,167 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 120 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 120, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:08', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,172 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,173 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'Declare.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'Declare.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-29 16:14:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-29 16:14:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-29 16:14:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,178 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:42:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:42:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:42:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,183 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 15:29:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 15:29:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 15:29:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,187 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 15:29:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 15:29:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 15:29:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,191 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'LsSample2.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'LsSample2.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,196 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'LsSample2.sln';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'LsSample2.sln', '.sln', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,200 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,206 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'UpgradeLog.htm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'UpgradeLog.htm', '.htm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,210 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'Workspace.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'Workspace.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:42:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:42:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:42:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,215 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'WorkUnit.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'WorkUnit.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-09-22 14:23:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-09-22 14:23:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-09-22 14:23:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,220 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,220 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,222 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 68 
        and folder_name = 'Flowlight';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 68, 'Flowlight', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,227 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 121 
        and folder_name = 'Flowlight15E_Setup_x64';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 121, 'Flowlight15E_Setup_x64', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,231 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 122 and file_name = 'Flowlight15E_Setup_x64.msi';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 122, 'Flowlight15E_Setup_x64.msi', '.msi', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-04-19 16:09:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-04-19 16:09:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-04-19 16:09:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,237 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,238 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 121 
        and folder_name = 'Flowlight15E_Setup_x86';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 121, 'Flowlight15E_Setup_x86', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,243 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 123 and file_name = 'Flowlight15E_Setup_x86.msi';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 123, 'Flowlight15E_Setup_x86.msi', '.msi', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,249 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,251 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,252 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 68 
        and folder_name = 'Lightstep104e';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 68, 'Lightstep104e', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:17', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,257 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 124 
        and folder_name = 'Manual';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 124, 'Manual', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:17', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,262 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 125 and file_name = 'Lightstep10_PG30E.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 125, 'Lightstep10_PG30E.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,267 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,269 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 124 and file_name = 'Lightstep10E_Setup_x64.msi';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 124, 'Lightstep10E_Setup_x64.msi', '.msi', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,273 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 124 and file_name = 'Lightstep10E_Setup_x86.msi';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 124, 'Lightstep10E_Setup_x86.msi', '.msi', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,279 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 124 and file_name = 'Read_at_the_beginning.rtf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 124, 'Read_at_the_beginning.rtf', '.rtf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,284 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 124 and file_name = 'Revision_history.rtf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 124, 'Revision_history.rtf', '.rtf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,289 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,291 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 68 
        and folder_name = 'Reflexer1.2.5e';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 68, 'Reflexer1.2.5e', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,295 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 126 
        and folder_name = 'Manual';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 126, 'Manual', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:17', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,301 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 127 and file_name = 'ReflexerUM12e.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 127, 'ReflexerUM12e.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:45:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,306 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,307 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 126 
        and folder_name = 'x64';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 126, 'x64', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,312 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 128 and file_name = 'Reflexer12E_LE_Setup_x64.msi';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 128, 'Reflexer12E_LE_Setup_x64.msi', '.msi', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:45:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,317 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 128 and file_name = 'setup.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 128, 'setup.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:45:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,322 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,324 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 126 
        and folder_name = 'x86';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 126, 'x86', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,329 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 129 and file_name = 'Reflexer12E_LE_Setup_x86.msi';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 129, 'Reflexer12E_LE_Setup_x86.msi', '.msi', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:45:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,334 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 129 and file_name = 'setup.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 129, 'setup.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:45:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,339 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,341 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 126 and file_name = 'readme.rtf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 126, 'readme.rtf', '.rtf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:45:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,345 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,347 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 68 
        and folder_name = 'Software development manual and software package';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 68, 'Software development manual and software package', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,351 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 130 
        and folder_name = '7 Color light';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 130, '7 Color light', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,356 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 131 and file_name = 'PP505 command creating process.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 131, 'PP505 command creating process.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,362 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 131 and file_name = 'PP505 command examples for 7 colors.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 131, 'PP505 command examples for 7 colors.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,366 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 131 and file_name = 'PP505 command manual description.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 131, 'PP505 command manual description.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,372 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,374 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 130 
        and folder_name = 'MWU2414';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 130, 'MWU2414', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,379 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 132 and file_name = 'MWU2414 Commands V1.1.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 132, 'MWU2414 Commands V1.1.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,383 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,385 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 130 
        and folder_name = 'Reflexer';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 130, 'Reflexer', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,390 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 133 and file_name = 'Reflexer.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 133, 'Reflexer.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,395 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,397 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 130 and file_name = 'S- Key.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 130, 'S- Key.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,402 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 130 and file_name = 'TCP_IP Command Reference V6.0.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 130, 'TCP_IP Command Reference V6.0.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,407 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,409 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 68 and file_name = 'How to configure the DPDs with Flowlight.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 68, 'How to configure the DPDs with Flowlight.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:11:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:11:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:11:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,413 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 68 and file_name = 'MWU series installation user manual.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 68, 'MWU series installation user manual.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:11:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:11:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:11:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,418 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 68 and file_name = 'PTL system communication overview.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 68, 'PTL system communication overview.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:10:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:10:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:10:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,423 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,425 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 67 
        and folder_name = 'ptl';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 67, 'ptl', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,429 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 134 
        and folder_name = '.vs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 134, '.vs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,435 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 135 
        and folder_name = 'LsSample1a';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 135, 'LsSample1a', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,439 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 136 
        and folder_name = 'v15';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 136, 'v15', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,444 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 137 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 137, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,449 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 138 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 138, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,453 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 139 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 139, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:04:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:04:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:04:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,458 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 139 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 139, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:04:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:04:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:04:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,463 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 139 and file_name = 'storage.ide-shm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 139, 'storage.ide-shm', '.ide-shm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:04:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:04:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:04:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,468 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 139 and file_name = 'storage.ide-wal';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 139, 'storage.ide-wal', '.ide-wal', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:07:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:07:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:07:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,472 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,474 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,475 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 137 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 137, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:37:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:37:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:37:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,480 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,481 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,482 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 135 
        and folder_name = 'ptl';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 135, 'ptl', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,486 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 140 
        and folder_name = 'v15';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 140, 'v15', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,491 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 141 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 141, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,496 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 142 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 142, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,500 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 143 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 143, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:39:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:39:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:39:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,505 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 143 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 143, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:39:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:39:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:39:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,510 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 143 and file_name = 'storage.ide-shm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 143, 'storage.ide-shm', '.ide-shm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:39:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:39:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:39:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,515 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 143 and file_name = 'storage.ide-wal';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 143, 'storage.ide-wal', '.ide-wal', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-29 10:50:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-29 10:50:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-29 10:50:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,520 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,520 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,522 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 141 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 141, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-04 09:54:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-02-04 09:54:15', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-02-04 09:54:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,526 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,528 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,529 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,530 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 134 
        and folder_name = 'bin';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 134, 'bin', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,535 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 144 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 144, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,540 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 145 and file_name = 'AioiSystems.Lightstep.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 145, 'AioiSystems.Lightstep.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-24 13:50:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-24 13:50:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-24 13:50:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,544 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 145 and file_name = 'AioiSystems.Lightstep.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 145, 'AioiSystems.Lightstep.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2012-06-29 11:53:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2012-06-29 11:53:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2012-06-29 11:53:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,549 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 145 and file_name = 'LsSample1a.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 145, 'LsSample1a.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,554 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 145 and file_name = 'LsSample1a.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 145, 'LsSample1a.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,559 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,560 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,562 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 134 
        and folder_name = 'obj';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 134, 'obj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,566 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 146 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 146, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,571 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 147 
        and folder_name = 'TempPE';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 147, 'TempPE', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,575 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 148 and file_name = 'Properties.Resources.Designer.cs.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 148, 'Properties.Resources.Designer.cs.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,579 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,581 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'DesignTimeResolveAssemblyReferences.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'DesignTimeResolveAssemblyReferences.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 17:39:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 17:39:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 17:39:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,585 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'DesignTimeResolveAssemblyReferencesInput.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'DesignTimeResolveAssemblyReferencesInput.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:00:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:00:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:00:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,590 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.csproj.CopyComplete';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.csproj.CopyComplete', '.copycomplete', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,595 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.csproj.CoreCompileInputs.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.csproj.CoreCompileInputs.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:04:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:04:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:04:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,600 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.csproj.FileListAbsolute.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.csproj.FileListAbsolute.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,604 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.csproj.GenerateResource.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.csproj.GenerateResource.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,608 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.csprojAssemblyReference.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.csprojAssemblyReference.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:04:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:04:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:04:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,613 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,618 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.Form1.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.Form1.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,623 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.frm_main.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.frm_main.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,627 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,632 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.Properties.Resources.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.Properties.Resources.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,636 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'ptl.csproj.CopyComplete';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'ptl.csproj.CopyComplete', '.copycomplete', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,641 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'ptl.csproj.CoreCompileInputs.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'ptl.csproj.CoreCompileInputs.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:00:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:00:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:00:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,646 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'ptl.csproj.FileListAbsolute.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'ptl.csproj.FileListAbsolute.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:45:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,651 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'ptl.csproj.GenerateResource.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'ptl.csproj.GenerateResource.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:52:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:52:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:52:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,656 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'ptl.csprojAssemblyReference.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'ptl.csprojAssemblyReference.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:39:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:39:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:39:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,660 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,661 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,662 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 134 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 134, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,668 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 149 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 149, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,673 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 149 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 149, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,679 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 149 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 149, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,684 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 149 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 149, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,689 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 149 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 149, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,693 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,695 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 134 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 134, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:52:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:52:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:52:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,700 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 134 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 134, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:52:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:52:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:52:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,706 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 134 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 134, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:52:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:52:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:52:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,711 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 134 and file_name = 'pick_to_light.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 134, 'pick_to_light.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,716 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 134 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 134, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:40:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:40:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:40:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,722 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 134 and file_name = 'ptl.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 134, 'ptl.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:57', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,727 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 134 and file_name = 'ptl.sln';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 134, 'ptl.sln', '.sln', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:38:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:38:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:38:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,732 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 134 and file_name = 'UpgradeLog.htm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 134, 'UpgradeLog.htm', '.htm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,737 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,738 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 67 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 67, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-03 14:02:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-03 14:02:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-03 14:02:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,743 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,744 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'magazzino inchiodato.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'magazzino inchiodato.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,755 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 150 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 150, null, left('magazzino inchiodato', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('magazzino inchiodato', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:47', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('magazzino inchiodato', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,762 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 150 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 150, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-06 15:23:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-06 15:23:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-06 15:23:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,766 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 54) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,774 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'stato aggiuntivo casse - semi piena - molto piena.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'stato aggiuntivo casse - semi piena - molto piena.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,781 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 151 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 151, null, left('stato aggiuntivo casse - semi piena - molto piena', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('stato aggiuntivo casse - semi piena - molto piena', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:47', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('stato aggiuntivo casse - semi piena - molto piena', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,787 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 55) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,795 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'svuota cassa.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'svuota cassa.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,804 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 152 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 152, null, left('svuota cassa', 150)
            , 'molina', convert(datetime, '2021-02-22 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-02-22 00:00:00', 120), dt_upd = NULL
         , title = left('svuota cassa', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-02-22 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('svuota cassa', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,811 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 152 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 152, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-22 10:16:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-22 10:16:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-22 10:16:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,816 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 152 and file_name = 'svuota la cassa.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 152, 'svuota la cassa.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-22 10:15:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-22 10:15:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-22 10:15:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,821 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 56) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,829 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'manager';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'manager', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,834 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 153 
        and folder_name = 'griglia articoli .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 153, 'griglia articoli .task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,843 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 154 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 154, null, left('griglia articoli ', 150)
            , 'molina', convert(datetime, '2020-09-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-21 00:00:00', 120), dt_upd = NULL
         , title = left('griglia articoli ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('griglia articoli ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,850 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 154 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 154, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-21 14:46:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-21 14:46:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-21 14:46:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,857 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 57) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,864 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 153 
        and folder_name = 'restyling maschera principale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 153, 'restyling maschera principale.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,874 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 155 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 155, null, left('restyling maschera principale', 150)
            , NULL, convert(datetime, '2020-09-02 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-02 00:00:00', 120), dt_upd = NULL
         , title = left('restyling maschera principale', 150), [user] = NULL
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('restyling maschera principale', '') or isnull([user], '') <> isnull(NULL, '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,880 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 155 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 155, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-02 09:19:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-02 09:19:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-02 09:19:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,885 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 58) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,892 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'obelisk';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'obelisk', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,897 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'aggiornamento numero K.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'aggiornamento numero K.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,907 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 157 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 157, null, left('aggiornamento numero K', 150)
            , 'molina', convert(datetime, '2020-08-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'facile', 'ora', convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-25 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornamento numero K', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:47', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornamento numero K', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,914 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 157 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 157, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-25 09:06:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-25 09:06:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-25 09:06:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,919 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 59) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,926 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'Aggiugnere campo ricerca nel carrellino nero.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'Aggiugnere campo ricerca nel carrellino nero.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:49', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,936 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 158 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 158, null, left('Aggiugnere campo ricerca nel carrellino nero', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('Aggiugnere campo ricerca nel carrellino nero', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:49', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('Aggiugnere campo ricerca nel carrellino nero', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,943 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 158 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 158, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-18 09:31:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-18 09:31:15', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-18 09:31:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,948 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 158 and file_name = 'untitled.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 158, 'untitled.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-17 08:28:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-17 08:28:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-17 08:28:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,952 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 60) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,960 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'aggiunta colonna nota operatore.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'aggiunta colonna nota operatore.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,970 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 159 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 159, null, left('aggiunta colonna nota operatore', 150)
            , 'molina', convert(datetime, '2020-09-03 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'facile', 'ora', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-03 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta colonna nota operatore', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-03 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta colonna nota operatore', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,977 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 159 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 159, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 12:11:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-03 12:11:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-03 12:11:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,982 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 61) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:06,989 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'aggiunta DEVONO ARRIVARE al tooltip.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'aggiunta DEVONO ARRIVARE al tooltip.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:06,998 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 160 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 160, null, left('aggiunta DEVONO ARRIVARE al tooltip', 150)
            , 'molina', convert(datetime, '2020-09-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezzora', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-17 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta DEVONO ARRIVARE al tooltip', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta DEVONO ARRIVARE al tooltip', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,003 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 62) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,010 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'aggiunta marca alle info prodotto.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'aggiunta marca alle info prodotto.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,020 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 161 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 161, null, left('aggiunta marca alle info prodotto', 150)
            , 'molina', convert(datetime, '2020-08-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-21 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta marca alle info prodotto', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:47', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta marca alle info prodotto', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,026 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 63) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,033 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'aggiunta ordinamento ricerca prodotti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'aggiunta ordinamento ricerca prodotti.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,042 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 162 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 162, null, left('aggiunta ordinamento ricerca prodotti', 150)
            , 'molina', convert(datetime, '2020-08-31 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', 'mezzora', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-31 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta ordinamento ricerca prodotti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-31 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta ordinamento ricerca prodotti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,048 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 162 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 162, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 18:31:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-31 18:31:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-31 18:31:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,053 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 64) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,060 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'carrello nero - filtri.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'carrello nero - filtri.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:49', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,067 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 163 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 163, null, left('carrello nero - filtri', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('carrello nero - filtri', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:49', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('carrello nero - filtri', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,072 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 163 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 163, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-12 11:11:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-12 11:11:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-12 11:11:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,077 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 65) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,084 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'check tooltip prevista consegna.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'check tooltip prevista consegna.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:49', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,093 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 164 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 164, null, left('check tooltip prevista consegna', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('check tooltip prevista consegna', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:49', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('check tooltip prevista consegna', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,100 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 164 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 164, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-24 14:30:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-24 14:30:53', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-24 14:30:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,104 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 66) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,111 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'codici CA in obelisk.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'codici CA in obelisk.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,121 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 165 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 165, null, left('codici CA in obelisk', 150)
            , 'molina', convert(datetime, '2020-09-22 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-22 00:00:00', 120), dt_upd = NULL
         , title = left('codici CA in obelisk', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-22 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('codici CA in obelisk', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,126 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 165 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 165, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-22 13:54:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-22 13:54:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-22 13:54:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,131 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 67) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,139 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'impostazione porta com scanner lavorazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'impostazione porta com scanner lavorazioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,147 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 166 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 166, null, left('impostazione porta com scanner lavorazioni', 150)
            , 'molina', convert(datetime, '2020-07-27 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'ora', convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-27 00:00:00', 120), dt_upd = NULL
         , title = left('impostazione porta com scanner lavorazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('impostazione porta com scanner lavorazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,153 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 166 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 166, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 17:56:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-27 17:56:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 17:56:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,158 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 68) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,166 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'Made in PRC sulle etichette.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'Made in PRC sulle etichette.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,172 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 167 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 167, null, left('Made in PRC sulle etichette', 150)
            , 'molina', convert(datetime, '2020-09-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-14 00:00:00', 120), dt_upd = NULL
         , title = left('Made in PRC sulle etichette', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('Made in PRC sulle etichette', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,178 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 167 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 167, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-14 15:43:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-14 15:43:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-14 15:43:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,183 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 167 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 167, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-14 13:54:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-14 13:54:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-14 13:54:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,188 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 69) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,196 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'nuova griglia domande risposte per codice.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'nuova griglia domande risposte per codice.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,204 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 168 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 168, null, left('nuova griglia domande risposte per codice', 150)
            , 'molina', convert(datetime, '2020-11-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-26 00:00:00', 120), dt_upd = NULL
         , title = left('nuova griglia domande risposte per codice', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuova griglia domande risposte per codice', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,211 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 70) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,219 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'prodotti compatibili lunghissimi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'prodotti compatibili lunghissimi.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,228 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 169 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 169, null, left('prodotti compatibili lunghissimi', 150)
            , 'molina', convert(datetime, '2020-07-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-28 00:00:00', 120), dt_upd = NULL
         , title = left('prodotti compatibili lunghissimi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('prodotti compatibili lunghissimi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,234 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 169 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 169, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-28 18:16:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-28 18:16:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 18:16:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,239 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 71) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,246 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'revisione carrello nero.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'revisione carrello nero.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:49', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,255 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 170 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 170, null, left('revisione carrello nero', 150)
            , 'molina', convert(datetime, '2021-02-05 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-02-05 00:00:00', 120), dt_upd = NULL
         , title = left('revisione carrello nero', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:49', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-02-05 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione carrello nero', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,262 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 170 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 170, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-08 16:12:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-08 16:12:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-08 16:12:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,266 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 72) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,273 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'revisione cross segnalati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'revisione cross segnalati.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,282 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 171 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 171, null, left('revisione cross segnalati', 150)
            , 'molina', convert(datetime, '2020-09-03 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-03 00:00:00', 120), dt_upd = NULL
         , title = left('revisione cross segnalati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-03 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione cross segnalati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,289 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 171 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 171, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 17:52:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-03 17:52:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-03 17:52:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,294 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 73) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,301 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'revisione ricerca prodotti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'revisione ricerca prodotti.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,310 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 172 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 172, null, left('revisione ricerca prodotti', 150)
            , 'molina', convert(datetime, '2020-08-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-28 00:00:00', 120), dt_upd = NULL
         , title = left('revisione ricerca prodotti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:47', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione ricerca prodotti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,316 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 172 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 172, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 14:50:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-31 14:50:37', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-31 14:50:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,322 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 74) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,329 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'ricerca clienti web.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'ricerca clienti web.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,336 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 173 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 173, null, left('ricerca clienti web', 150)
            , 'molina', convert(datetime, '2020-09-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-21 00:00:00', 120), dt_upd = NULL
         , title = left('ricerca clienti web', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ricerca clienti web', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,342 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 173 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 173, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-21 17:43:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-21 17:43:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-21 17:43:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,348 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 75) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,356 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'ricerca prodotti per marca - modello - versione.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'ricerca prodotti per marca - modello - versione.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,366 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 174 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 174, null, left('ricerca prodotti per marca - modello - versione', 150)
            , 'molina', convert(datetime, '2020-10-27 00:00:00', 120), NULL, 1
            , 'sospeso', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-27 00:00:00', 120), dt_upd = NULL
         , title = left('ricerca prodotti per marca - modello - versione', 150), [user] = 'molina'
         , stato = 'sospeso', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ricerca prodotti per marca - modello - versione', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('sospeso', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,371 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'ComboBoxClienti.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'ComboBoxClienti.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-27 17:47:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-27 17:47:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-27 17:47:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,376 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'ComboBoxMarche.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'ComboBoxMarche.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 15:36:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 15:36:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 15:36:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,381 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'ComboBoxModelli.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'ComboBoxModelli.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 15:59:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 15:59:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 15:59:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,388 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'ComboBoxSpecial.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'ComboBoxSpecial.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 15:48:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 15:48:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 15:48:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,392 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'ComboBoxVersioni.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'ComboBoxVersioni.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 16:04:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 16:04:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 16:04:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,398 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'FormMain.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'FormMain.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 16:13:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 16:13:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 16:13:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,403 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 17:21:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 17:21:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 17:21:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,408 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'marca.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'marca.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 15:42:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 15:42:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 15:42:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,413 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'modello.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'modello.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 16:01:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 16:01:37', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 16:01:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,418 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'refresh.crm.export-car-parts.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'refresh.crm.export-car-parts.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-28 16:22:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-28 16:22:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-28 16:22:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,423 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'refresh.crm.export-td-defs.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'refresh.crm.export-td-defs.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-27 16:49:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-27 16:49:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-27 16:49:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,429 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'task.ricerca per marca.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'task.ricerca per marca.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 16:12:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 16:12:15', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 16:12:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,434 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'versione.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'versione.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 16:02:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 16:02:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 16:02:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,439 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 76) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,446 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'sistemata alla griglia del fatturato - non si vedono i totali.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'sistemata alla griglia del fatturato - non si vedono i totali.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,456 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 175 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 175, null, left('sistemata alla griglia del fatturato - non si vedono i totali', 150)
            , 'molina', convert(datetime, '2020-07-31 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-31 00:00:00', 120), dt_upd = NULL
         , title = left('sistemata alla griglia del fatturato - non si vedono i totali', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-31 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('sistemata alla griglia del fatturato - non si vedono i totali', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,462 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 77) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,469 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'stampa pdf con acrobat.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'stampa pdf con acrobat.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,481 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 176 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 176, null, left('stampa pdf con acrobat', 150)
            , 'molina', convert(datetime, '2020-09-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-30 00:00:00', 120), dt_upd = NULL
         , title = left('stampa pdf con acrobat', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('stampa pdf con acrobat', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,486 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 78) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,493 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'supporto 3CX.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'supporto 3CX.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:49', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,503 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 177 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 177, null, left('supporto 3CX', 150)
            , 'molina', convert(datetime, '2020-12-18 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-12-18 00:00:00', 120), dt_upd = NULL
         , title = left('supporto 3CX', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:49', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-12-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('supporto 3CX', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,510 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 177 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 177, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-12-18 09:43:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-12-18 09:43:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-12-18 09:43:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,515 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 79) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,523 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'tab cross per gestione aggiunta (o eliminazione) cross.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'tab cross per gestione aggiunta (o eliminazione) cross.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,533 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 178 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 178, null, left('tab cross per gestione aggiunta (o eliminazione) cross', 150)
            , 'molina', convert(datetime, '2020-08-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'ora', convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-21 00:00:00', 120), dt_upd = NULL
         , title = left('tab cross per gestione aggiunta (o eliminazione) cross', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:47', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('tab cross per gestione aggiunta (o eliminazione) cross', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,539 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 178 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 178, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-26 18:19:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-26 18:19:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-26 18:19:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,544 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 178 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 178, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-24 12:33:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-24 12:33:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-24 12:33:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,549 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 80) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,558 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'tooltip obelisk consegna prevista.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'tooltip obelisk consegna prevista.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,565 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 179 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 179, null, left('tooltip obelisk consegna prevista', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('tooltip obelisk consegna prevista', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:50', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('tooltip obelisk consegna prevista', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,571 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 179 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 179, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 12:46:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-05 12:46:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 12:46:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,576 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 81) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,583 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'obsolete';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'obsolete', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,588 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 180 
        and folder_name = 'ECUFILE.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 180, 'ECUFILE.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,598 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 181 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 181, null, left('ECUFILE', 150)
            , 'molina', convert(datetime, '2019-10-04 00:00:00', 120), NULL, 1
            , NULL, NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2019-10-04 00:00:00', 120), dt_upd = NULL
         , title = left('ECUFILE', 150), [user] = 'molina'
         , stato = NULL, priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2019-10-04 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ECUFILE', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull(NULL, '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,604 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 181 and file_name = 'mysql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 181, 'mysql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-10-04 09:23:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-10-04 09:23:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-10-04 09:23:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,609 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 181 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 181, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-10-04 09:21:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-10-04 09:21:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-10-04 09:21:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,613 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 82) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,621 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 180 
        and folder_name = 'remsa nota.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 180, 'remsa nota.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,632 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 182 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 182, null, left('remsa nota', 150)
            , 'molina', convert(datetime, '2019-09-13 00:00:00', 120), NULL, 1
            , NULL, NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2019-09-13 00:00:00', 120), dt_upd = NULL
         , title = left('remsa nota', 150), [user] = 'molina'
         , stato = NULL, priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2019-09-13 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('remsa nota', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull(NULL, '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,638 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 182 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 182, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-09-16 10:27:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-09-16 10:27:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-09-16 10:27:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,642 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 83) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,650 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 180 
        and folder_name = 'reso funzionante.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 180, 'reso funzionante.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,660 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 183 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 183, null, left('reso funzionante', 150)
            , 'molina', convert(datetime, '2020-02-19 00:00:00', 120), NULL, 1
            , NULL, NULL, NULL, NULL, convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-02-19 00:00:00', 120), dt_upd = NULL
         , title = left('reso funzionante', 150), [user] = 'molina'
         , stato = NULL, priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-02-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('reso funzionante', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull(NULL, '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,666 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 183 and file_name = 'documenti.xlsx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 183, 'documenti.xlsx', '.xlsx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-20 15:27:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-02-20 15:27:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-02-20 15:27:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,671 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 183 and file_name = 'I problemi magazzino 2.msg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 183, 'I problemi magazzino 2.msg', '.msg', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-19 17:30:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-02-19 17:30:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-02-19 17:30:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,676 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 183 and file_name = 'I problemi magazzino 3.msg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 183, 'I problemi magazzino 3.msg', '.msg', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-19 17:30:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-02-19 17:30:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-02-19 17:30:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,680 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 183 and file_name = 'partitario.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 183, 'partitario.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-20 12:32:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-02-20 12:32:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-02-20 12:32:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,685 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 183 and file_name = 'reso.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 183, 'reso.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-20 15:06:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-02-20 15:06:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-02-20 15:06:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,690 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 183 and file_name = 'SPMG_ELABPARTITARI.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 183, 'SPMG_ELABPARTITARI.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-20 12:32:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-02-20 12:32:53', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-02-20 12:32:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,696 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 183 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 183, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-20 15:23:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-02-20 15:23:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-02-20 15:23:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,701 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 84) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,709 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'ordini fornitori';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'ordini fornitori', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,713 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'Aggiunta colonna Disp CA.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'Aggiunta colonna Disp CA.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,723 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 185 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 185, null, left('Aggiunta colonna Disp CA', 150)
            , 'molina', convert(datetime, '2021-01-18 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezzora', convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-18 00:00:00', 120), dt_upd = NULL
         , title = left('Aggiunta colonna Disp CA', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('Aggiunta colonna Disp CA', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,729 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 85) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,735 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'aggiunta colonna resi fornitori.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'aggiunta colonna resi fornitori.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,747 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 186 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 186, null, left('aggiunta colonna resi fornitori', 150)
            , 'molina', convert(datetime, '2020-08-31 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezzora', convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-31 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta colonna resi fornitori', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:50', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-31 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta colonna resi fornitori', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,753 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 186 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 186, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 17:21:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-31 17:21:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-31 17:21:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,758 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 86) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,765 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'aggiunta selezione marca .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'aggiunta selezione marca .task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,775 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 187 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 187, null, left('aggiunta selezione marca ', 150)
            , 'molina', convert(datetime, '2020-08-18 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-18 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta selezione marca ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta selezione marca ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,781 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 187 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 187, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-18 14:03:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-18 14:03:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 14:03:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,786 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 87) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,793 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'aggiunte informazioni sul fornitore al carrello.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'aggiunte informazioni sul fornitore al carrello.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,803 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 188 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 188, null, left('aggiunte informazioni sul fornitore al carrello', 150)
            , 'molina', convert(datetime, '2020-08-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-21 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunte informazioni sul fornitore al carrello', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunte informazioni sul fornitore al carrello', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,809 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 88) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,816 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'fornitore non presente ordini di acquisto.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'fornitore non presente ordini di acquisto.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,826 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 189 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 189, null, left('fornitore non presente ordini di acquisto', 150)
            , 'molina', convert(datetime, '2021-01-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'ora', convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-14 00:00:00', 120), dt_upd = NULL
         , title = left('fornitore non presente ordini di acquisto', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('fornitore non presente ordini di acquisto', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,832 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 189 and file_name = 'acq fornitori.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 189, 'acq fornitori.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-14 14:18:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-14 14:18:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-14 14:18:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,837 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 189 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 189, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-14 14:18:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-14 14:18:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-14 14:18:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,842 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 89) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,850 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'in verde i codici dipa segnalati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'in verde i codici dipa segnalati.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,862 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 190 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 190, null, left('in verde i codici dipa segnalati', 150)
            , 'molina', convert(datetime, '2020-09-03 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'ora', convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-03 00:00:00', 120), dt_upd = NULL
         , title = left('in verde i codici dipa segnalati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:50', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-03 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('in verde i codici dipa segnalati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,868 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 190 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 190, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-04 10:26:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-04 10:26:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-04 10:26:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,873 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 190 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 190, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 16:15:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-03 16:15:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-03 16:15:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,877 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 90) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,885 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'inchiodato.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'inchiodato.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,894 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 191 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 191, null, left('inchiodato', 150)
            , 'molina', convert(datetime, '2020-05-06 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-05-06 00:00:00', 120), dt_upd = NULL
         , title = left('inchiodato', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-05-06 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('inchiodato', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,900 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 191 and file_name = 'AL_EXPORT_ARTFOR_DELTA.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 191, 'AL_EXPORT_ARTFOR_DELTA.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 16:15:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-05 16:15:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 16:15:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,905 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 191 and file_name = 'AL_EXPORT_ARTFOR_DELTA_MM.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 191, 'AL_EXPORT_ARTFOR_DELTA_MM.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 16:20:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-05 16:20:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 16:20:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,909 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 191 and file_name = 'ord forn inchiodato.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 191, 'ord forn inchiodato.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 15:46:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-05 15:46:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 15:46:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,914 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 191 and file_name = 'src.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 191, 'src.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 14:59:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-05 14:59:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 14:59:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,919 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 91) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,926 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'prezzi scazzati dal nuovo prodotto manager.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'prezzi scazzati dal nuovo prodotto manager.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,937 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 192 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 192, null, left('prezzi scazzati dal nuovo prodotto manager', 150)
            , 'molina', convert(datetime, '2020-08-24 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-24 00:00:00', 120), dt_upd = NULL
         , title = left('prezzi scazzati dal nuovo prodotto manager', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:50', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('prezzi scazzati dal nuovo prodotto manager', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,944 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 192 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 192, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-24 11:40:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-24 11:40:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-24 11:40:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,948 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 192 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 192, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-24 11:43:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-24 11:43:53', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-24 11:43:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,953 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 92) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,960 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'revisione generale ordini fornitori.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'revisione generale ordini fornitori.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,972 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 193 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 193, null, left('revisione generale ordini fornitori', 150)
            , 'molina', convert(datetime, '2020-09-02 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'giornata', convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-02 00:00:00', 120), dt_upd = NULL
         , title = left('revisione generale ordini fornitori', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:44:50', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione generale ordini fornitori', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,978 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 193 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 193, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 08:48:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-03 08:48:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-03 08:48:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:07,982 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 93) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:07,990 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'revisione griglia prodotti ordinati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'revisione griglia prodotti ordinati.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,000 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 194 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 194, null, left('revisione griglia prodotti ordinati', 150)
            , 'molina', convert(datetime, '2021-01-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'giornata', convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-28 00:00:00', 120), dt_upd = NULL
         , title = left('revisione griglia prodotti ordinati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione griglia prodotti ordinati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,008 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 194 and file_name = '2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 194, '2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-28 14:09:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-28 14:09:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-28 14:09:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,012 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 194 and file_name = 'forn.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 194, 'forn.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-28 14:10:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-28 14:10:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-28 14:10:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,018 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 194 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 194, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:37:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:37:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:37:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,023 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 94) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,029 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'segnalare gli ordini che sforano l''attesa.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'segnalare gli ordini che sforano l''attesa.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,041 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 195 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 195, null, left('segnalare gli ordini che sforano l''attesa', 150)
            , 'molina', convert(datetime, '2020-08-25 00:00:00', 120), NULL, 1
            , 'sospeso', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-25 00:00:00', 120), dt_upd = NULL
         , title = left('segnalare gli ordini che sforano l''attesa', 150), [user] = 'molina'
         , stato = 'sospeso', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:50', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('segnalare gli ordini che sforano l''attesa', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('sospeso', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,047 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 195 and file_name = 'ordini fuori tempo.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 195, 'ordini fuori tempo.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-06 18:32:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-06 18:32:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-06 18:32:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,051 [49] DEBUG dn_lib.tools.log - aggiornato file nel database: C:\root\todd\_test\dn\ordini fornitori\segnalare gli ordini che sforano l'attesa.task\ordini fuori tempo.sql
2021-03-07 18:14:08,058 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 390;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (390, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-06 18:32:22', 120));
2021-03-07 18:14:08,062 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini fornitori\segnalare gli ordini che sforano l'attesa.task\ordini fuori tempo.sql
2021-03-07 18:14:08,063 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 95) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,071 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'sistemata alla maschera fornitori.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'sistemata alla maschera fornitori.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,081 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 196 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 196, null, left('sistemata alla maschera fornitori', 150)
            , 'molina', convert(datetime, '2020-08-27 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-27 00:00:00', 120), dt_upd = NULL
         , title = left('sistemata alla maschera fornitori', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:50', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('sistemata alla maschera fornitori', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,088 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 196 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 196, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-27 18:18:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-27 18:18:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-27 18:18:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,092 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 96) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,099 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'sistemata ricerca codice x fornitore.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'sistemata ricerca codice x fornitore.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,109 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 197 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 197, null, left('sistemata ricerca codice x fornitore', 150)
            , 'molina', convert(datetime, '2020-08-31 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezzora', convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-31 00:00:00', 120), dt_upd = NULL
         , title = left('sistemata ricerca codice x fornitore', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:50', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-31 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('sistemata ricerca codice x fornitore', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,115 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 197 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 197, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 15:08:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-31 15:08:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-31 15:08:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,121 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 97) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,128 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'ordini vendite';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'ordini vendite', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:54', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,133 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'associata la fattura al cod pag PKS1.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'associata la fattura al cod pag PKS1.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,143 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 199 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 199, null, left('associata la fattura al cod pag PKS1', 150)
            , 'molina', convert(datetime, '2020-07-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-29 00:00:00', 120), dt_upd = NULL
         , title = left('associata la fattura al cod pag PKS1', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('associata la fattura al cod pag PKS1', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,149 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 98) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,156 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'automatismo ordini bolle.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'automatismo ordini bolle.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:53', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,166 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 200 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 200, null, left('automatismo ordini bolle', 150)
            , 'molina', convert(datetime, '2021-02-10 00:00:00', 120), convert(datetime, '2021-03-04 15:22:27', 120), 1
            , 'fatto', NULL, 'revisione', 'due_settimane', convert(datetime, '2021-03-04 15:22:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-02-10 00:00:00', 120), dt_upd = convert(datetime, '2021-03-04 15:22:27', 120)
         , title = left('automatismo ordini bolle', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_settimane', dt_lwt_index = convert(datetime, '2021-03-04 15:22:27', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-02-10 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(convert(datetime, '2021-03-04 15:22:27', 120), getdate())
          or isnull(title, '') <> isnull('automatismo ordini bolle', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_settimane', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,172 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 200 and file_name = 'backup recalc ordini.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 200, 'backup recalc ordini.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-12 09:39:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-12 09:39:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-12 09:39:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,176 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 200 and file_name = 'cache ordini.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 200, 'cache ordini.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-18 14:53:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-18 14:53:41', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-18 14:53:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,181 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 200 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 200, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-04 15:22:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-04 15:22:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-04 15:22:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,186 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 200 and file_name = 'patch recalc ordini.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 200, 'patch recalc ordini.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-12 12:02:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-12 12:02:53', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-12 12:02:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,191 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 99) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,198 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'cambio tipo ordine - si perdono informazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'cambio tipo ordine - si perdono informazioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,208 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 201 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 201, null, left('cambio tipo ordine - si perdono informazioni', 150)
            , 'molina', convert(datetime, '2020-07-06 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-06 00:00:00', 120), dt_upd = NULL
         , title = left('cambio tipo ordine - si perdono informazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-06 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('cambio tipo ordine - si perdono informazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,215 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 100) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,222 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'check indirizzi GLS non vanno.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'check indirizzi GLS non vanno.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:54', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,231 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 202 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 202, null, left('check indirizzi GLS non vanno', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('check indirizzi GLS non vanno', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:54', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('check indirizzi GLS non vanno', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,238 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 202 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 202, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-18 12:23:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-18 12:23:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-18 12:23:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,243 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 101) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,251 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'codice pag PKS1 come RD02.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'codice pag PKS1 come RD02.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,257 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 203 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 203, null, left('codice pag PKS1 come RD02', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('codice pag PKS1 come RD02', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('codice pag PKS1 come RD02', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,263 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 203 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 203, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 10:36:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 10:36:37', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 10:36:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,267 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 203 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 203, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 11:03:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 11:03:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 11:03:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,272 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 102) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,280 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'controllo migliorato ordine gi evaso.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'controllo migliorato ordine gi evaso.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,289 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 204 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 204, null, left('controllo migliorato ordine gi evaso', 150)
            , 'molina', convert(datetime, '2020-10-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-08 00:00:00', 120), dt_upd = NULL
         , title = left('controllo migliorato ordine gi evaso', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('controllo migliorato ordine gi evaso', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,294 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 204 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 204, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-08 09:01:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-08 09:01:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-08 09:01:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,298 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 103) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,305 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'discordanza pagamento clifor obsoleto.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'discordanza pagamento clifor obsoleto.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,312 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 205 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 205, null, left('discordanza pagamento clifor obsoleto', 150)
            , 'molina', convert(datetime, '2020-07-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-30 00:00:00', 120), dt_upd = NULL
         , title = left('discordanza pagamento clifor obsoleto', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('discordanza pagamento clifor obsoleto', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,318 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 205 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 205, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 15:22:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-30 15:22:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 15:22:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,322 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 104) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,329 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'gestione carrello sintra lavorazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'gestione carrello sintra lavorazioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,339 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 206 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 206, null, left('gestione carrello sintra lavorazioni', 150)
            , 'molina', convert(datetime, '2020-09-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-09 00:00:00', 120), dt_upd = NULL
         , title = left('gestione carrello sintra lavorazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione carrello sintra lavorazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,345 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 206 and file_name = 'mageman.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 206, 'mageman.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-10 18:02:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-10 18:02:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-10 18:02:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,349 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 206 and file_name = 'magento.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 206, 'magento.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-09 17:13:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-09 17:13:53', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-09 17:13:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,354 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 105) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,361 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'gestione regionale urgente e normale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'gestione regionale urgente e normale.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:53', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,370 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 207 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 207, null, left('gestione regionale urgente e normale', 150)
            , 'molina', convert(datetime, '2020-12-03 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:44:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-12-03 00:00:00', 120), dt_upd = NULL
         , title = left('gestione regionale urgente e normale', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:53', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-12-03 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione regionale urgente e normale', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,375 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 207 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 207, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-12-03 11:05:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-12-03 11:05:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-12-03 11:05:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,380 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 106) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,387 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'gestione scelte da sito.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'gestione scelte da sito.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,396 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 208 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 208, null, left('gestione scelte da sito', 150)
            , 'molina', convert(datetime, '2020-10-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-19 00:00:00', 120), dt_upd = NULL
         , title = left('gestione scelte da sito', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione scelte da sito', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,402 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 208 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 208, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-21 12:19:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-21 12:19:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-21 12:19:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,407 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 107) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,413 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'gestione spese corrieri.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'gestione spese corrieri.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,423 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 209 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 209, null, left('gestione spese corrieri', 150)
            , 'molina', convert(datetime, '2020-10-20 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-20 00:00:00', 120), dt_upd = NULL
         , title = left('gestione spese corrieri', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-20 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione spese corrieri', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,429 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 209 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 209, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-20 12:28:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-20 12:28:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-20 12:28:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,434 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 108) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,441 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'nuovo indirizzo ordine avviso cap.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'nuovo indirizzo ordine avviso cap.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:54', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,447 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 210 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 210, null, left('nuovo indirizzo ordine avviso cap', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('nuovo indirizzo ordine avviso cap', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:54', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuovo indirizzo ordine avviso cap', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,453 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 210 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 210, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-19 12:20:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-19 12:20:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-19 12:20:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,458 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 109) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,464 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'ordine 125381 - bolla senza articolo.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'ordine 125381 - bolla senza articolo.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,474 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 211 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 211, null, left('ordine 125381 - bolla senza articolo', 150)
            , 'molina', convert(datetime, '2020-08-18 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-18 00:00:00', 120), dt_upd = NULL
         , title = left('ordine 125381 - bolla senza articolo', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ordine 125381 - bolla senza articolo', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,480 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 211 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 211, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-18 16:15:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-18 16:15:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 16:15:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,486 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 110) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,494 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'ordine senza articoli.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'ordine senza articoli.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:54', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,501 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 212 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 212, null, left('ordine senza articoli', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ordine senza articoli', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:54', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ordine senza articoli', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,508 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 212 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 212, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-25 12:22:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-25 12:22:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-25 12:22:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,512 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 111) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,522 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'ordine web scazzato.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'ordine web scazzato.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:54', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,529 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 213 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 213, null, left('ordine web scazzato', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ordine web scazzato', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:54', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ordine web scazzato', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,535 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 213 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 213, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-10 09:36:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-10 09:36:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-10 09:36:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,539 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 112) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,547 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'ordini blu devono passare gi in magazzino.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'ordini blu devono passare gi in magazzino.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:54', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,558 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 214 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 214, null, left('ordini blu devono passare gi in magazzino', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'facile', NULL, convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ordini blu devono passare gi in magazzino', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:54', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ordini blu devono passare gi in magazzino', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,565 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 214 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 214, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-25 08:35:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-25 08:35:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-25 08:35:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,572 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 113) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,580 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'poter assegnare un indirizzo nuovo in italia ad un cliente estero.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'poter assegnare un indirizzo nuovo in italia ad un cliente estero.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,591 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 215 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 215, null, left('poter assegnare un indirizzo nuovo in italia ad un cliente estero', 150)
            , 'molina', convert(datetime, '2020-07-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-28 00:00:00', 120), dt_upd = NULL
         , title = left('poter assegnare un indirizzo nuovo in italia ad un cliente estero', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('poter assegnare un indirizzo nuovo in italia ad un cliente estero', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,598 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 215 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 215, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-28 15:38:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-28 15:38:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 15:38:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,604 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 114) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,611 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'ramauto multicollo.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'ramauto multicollo.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:54', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,619 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 216 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 216, null, left('ramauto multicollo', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ramauto multicollo', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:54', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ramauto multicollo', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,625 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 216 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 216, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-12 11:36:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-12 11:36:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-12 11:36:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,630 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 115) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,639 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'registra garanzia.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'registra garanzia.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,648 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 217 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 217, null, left('registra garanzia', 150)
            , 'molina', convert(datetime, '2020-10-22 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-22 00:00:00', 120), dt_upd = NULL
         , title = left('registra garanzia', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-22 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('registra garanzia', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,654 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 116) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,661 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'reso no rip gestione viola e multicollo.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'reso no rip gestione viola e multicollo.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,671 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 218 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 218, null, left('reso no rip gestione viola e multicollo', 150)
            , 'molina', convert(datetime, '2020-06-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-30 00:00:00', 120), dt_upd = NULL
         , title = left('reso no rip gestione viola e multicollo', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('reso no rip gestione viola e multicollo', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,677 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 218 and file_name = 'DP_RECALC_ORDINI.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 218, 'DP_RECALC_ORDINI.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-30 17:01:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-30 17:01:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-30 17:01:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,681 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 218 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 218, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-01 15:51:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-01 15:51:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-01 15:51:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,686 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\reso no rip gestione viola e multicollo.task\sql.sql
2021-03-07 18:14:08,691 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 758;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (758, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-01 15:51:22', 120));
2021-03-07 18:14:08,694 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\reso no rip gestione viola e multicollo.task\sql.sql
2021-03-07 18:14:08,694 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 117) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,701 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'revisione ordini .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'revisione ordini .task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,710 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 219 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 219, null, left('revisione ordini ', 150)
            , 'molina', convert(datetime, '2020-10-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-21 00:00:00', 120), dt_upd = NULL
         , title = left('revisione ordini ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione ordini ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,717 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 219 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 219, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-21 16:46:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-21 16:46:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-21 16:46:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,721 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\revisione ordini .task\i.txt
2021-03-07 18:14:08,728 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 759;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (759, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-21 16:46:20', 120));
2021-03-07 18:14:08,732 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\revisione ordini .task\i.txt
2021-03-07 18:14:08,734 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 118;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (118, 759, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-21 16:46:20', 120));
2021-03-07 18:14:08,737 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini vendite\revisione ordini .task\i.txt
2021-03-07 18:14:08,738 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 118) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,745 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'ritocco al reso no rip senza spese.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'ritocco al reso no rip senza spese.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,754 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 220 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 220, null, left('ritocco al reso no rip senza spese', 150)
            , 'molina', convert(datetime, '2020-07-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-09 00:00:00', 120), dt_upd = NULL
         , title = left('ritocco al reso no rip senza spese', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ritocco al reso no rip senza spese', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,760 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 119) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,767 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'rivisitazione tags mattino,pomeriggio.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'rivisitazione tags mattino,pomeriggio.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:53', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,777 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 221 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 221, null, left('rivisitazione tags mattino,pomeriggio', 150)
            , 'molina', convert(datetime, '2021-01-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezza', convert(datetime, '2021-03-02 22:44:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-25 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione tags mattino,pomeriggio', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:53', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione tags mattino,pomeriggio', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,783 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 221 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 221, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-25 17:45:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-25 17:45:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-25 17:45:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,787 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\rivisitazione tags mattino,pomeriggio.task\i.txt
2021-03-07 18:14:08,794 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 760;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (760, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-25 17:45:24', 120));
2021-03-07 18:14:08,797 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\rivisitazione tags mattino,pomeriggio.task\i.txt
2021-03-07 18:14:08,797 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 120;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (120, 760, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-25 17:45:24', 120));
2021-03-07 18:14:08,800 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini vendite\rivisitazione tags mattino,pomeriggio.task\i.txt
2021-03-07 18:14:08,801 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 221 and file_name = 'mp eticchette.JPEG';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 221, 'mp eticchette.JPEG', '.jpeg', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-25 17:45:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-25 17:45:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-25 17:45:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,805 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\rivisitazione tags mattino,pomeriggio.task\mp eticchette.JPEG
2021-03-07 18:14:08,806 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 120) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,813 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'scelta tipo spedizione dal sito.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'scelta tipo spedizione dal sito.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,824 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 222 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 222, null, left('scelta tipo spedizione dal sito', 150)
            , 'molina', convert(datetime, '2020-09-24 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'giornata', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-24 00:00:00', 120), dt_upd = NULL
         , title = left('scelta tipo spedizione dal sito', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('scelta tipo spedizione dal sito', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,831 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 222 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 222, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-11 11:06:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-11 11:06:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-11 11:06:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,837 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\scelta tipo spedizione dal sito.task\i.txt
2021-03-07 18:14:08,845 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 762;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (762, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-11 11:06:02', 120));
2021-03-07 18:14:08,848 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\scelta tipo spedizione dal sito.task\i.txt
2021-03-07 18:14:08,849 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 121;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (121, 762, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-11 11:06:02', 120));
2021-03-07 18:14:08,853 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini vendite\scelta tipo spedizione dal sito.task\i.txt
2021-03-07 18:14:08,854 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 222 and file_name = 'task.revisione promo ordini.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 222, 'task.revisione promo ordini.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-25 11:17:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-25 11:17:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-25 11:17:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,859 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\scelta tipo spedizione dal sito.task\task.revisione promo ordini.sql
2021-03-07 18:14:08,866 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 763;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (763, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-25 11:17:27', 120));
2021-03-07 18:14:08,870 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\scelta tipo spedizione dal sito.task\task.revisione promo ordini.sql
2021-03-07 18:14:08,871 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 121) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,879 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'soluzione chiusura corrieri.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'soluzione chiusura corrieri.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,891 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 223 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 223, null, left('soluzione chiusura corrieri', 150)
            , 'molina', convert(datetime, '2020-11-03 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-03 00:00:00', 120), dt_upd = NULL
         , title = left('soluzione chiusura corrieri', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-03 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('soluzione chiusura corrieri', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,897 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 223 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 223, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-03 17:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-03 17:39:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-03 17:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,903 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\soluzione chiusura corrieri.task\i.txt
2021-03-07 18:14:08,912 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 764;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (764, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-03 17:39:58', 120));
2021-03-07 18:14:08,914 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\soluzione chiusura corrieri.task\i.txt
2021-03-07 18:14:08,915 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 122;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (122, 764, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-03 17:39:58', 120));
2021-03-07 18:14:08,919 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini vendite\soluzione chiusura corrieri.task\i.txt
2021-03-07 18:14:08,920 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 122) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,926 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'spese di spedizione dal sito.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'spese di spedizione dal sito.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,936 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 224 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 224, null, left('spese di spedizione dal sito', 150)
            , 'molina', convert(datetime, '2020-10-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'ora', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-30 00:00:00', 120), dt_upd = NULL
         , title = left('spese di spedizione dal sito', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('spese di spedizione dal sito', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,942 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 224 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 224, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-30 16:13:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-30 16:13:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-30 16:13:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,946 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\spese di spedizione dal sito.task\i.txt
2021-03-07 18:14:08,953 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 765;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (765, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-30 16:13:24', 120));
2021-03-07 18:14:08,956 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\spese di spedizione dal sito.task\i.txt
2021-03-07 18:14:08,957 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 123;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (123, 765, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-30 16:13:24', 120));
2021-03-07 18:14:08,961 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini vendite\spese di spedizione dal sito.task\i.txt
2021-03-07 18:14:08,962 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 123) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,970 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'stampa bolle senza prezzo dal magazzino.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'stampa bolle senza prezzo dal magazzino.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,980 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 225 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 225, null, left('stampa bolle senza prezzo dal magazzino', 150)
            , 'molina', convert(datetime, '2020-06-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezzora', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-30 00:00:00', 120), dt_upd = NULL
         , title = left('stampa bolle senza prezzo dal magazzino', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('stampa bolle senza prezzo dal magazzino', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:08,988 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 124) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:08,995 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'timeout importazione articolo nel gestionale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'timeout importazione articolo nel gestionale.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,005 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 226 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 226, null, left('timeout importazione articolo nel gestionale', 150)
            , 'molina', convert(datetime, '2020-08-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-17 00:00:00', 120), dt_upd = NULL
         , title = left('timeout importazione articolo nel gestionale', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('timeout importazione articolo nel gestionale', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,012 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 226 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 226, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-17 17:11:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-17 17:11:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-17 17:11:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,017 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\timeout importazione articolo nel gestionale.task\i.txt
2021-03-07 18:14:09,025 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 766;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (766, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-17 17:11:06', 120));
2021-03-07 18:14:09,029 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\timeout importazione articolo nel gestionale.task\i.txt
2021-03-07 18:14:09,029 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 125;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (125, 766, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-17 17:11:06', 120));
2021-03-07 18:14:09,032 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini vendite\timeout importazione articolo nel gestionale.task\i.txt
2021-03-07 18:14:09,033 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 125) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:09,041 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'via dalla bolla le cauzioni .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'via dalla bolla le cauzioni .task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,051 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 227 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 227, null, left('via dalla bolla le cauzioni ', 150)
            , 'molina', convert(datetime, '2020-09-02 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezzora', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-02 00:00:00', 120), dt_upd = NULL
         , title = left('via dalla bolla le cauzioni ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('via dalla bolla le cauzioni ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,057 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 227 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 227, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-02 09:53:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-02 09:53:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-02 09:53:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,062 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\via dalla bolla le cauzioni .task\i.txt
2021-03-07 18:14:09,069 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 767;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (767, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-02 09:53:13', 120));
2021-03-07 18:14:09,072 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\via dalla bolla le cauzioni .task\i.txt
2021-03-07 18:14:09,073 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 126;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (126, 767, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-02 09:53:13', 120));
2021-03-07 18:14:09,075 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini vendite\via dalla bolla le cauzioni .task\i.txt
2021-03-07 18:14:09,076 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 126) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:09,083 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'preventivi';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'preventivi', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,088 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 228 
        and folder_name = 'Invia preventivo (ricerca targa) Lingue.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 228, 'Invia preventivo (ricerca targa) Lingue.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,093 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 229 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 229, null, left('Invia preventivo (ricerca targa) Lingue', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('Invia preventivo (ricerca targa) Lingue', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('Invia preventivo (ricerca targa) Lingue', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,099 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 229 and file_name = 'Cartel2.xlsx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 229, 'Cartel2.xlsx', '.xlsx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-02 14:37:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-02 14:37:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 14:37:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,104 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\preventivi\Invia preventivo (ricerca targa) Lingue.task\Cartel2.xlsx
2021-03-07 18:14:09,104 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 229 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 229, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-17 08:26:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-17 08:26:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-17 08:26:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,108 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\preventivi\Invia preventivo (ricerca targa) Lingue.task\i.txt
2021-03-07 18:14:09,113 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 769;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (769, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-17 08:26:19', 120));
2021-03-07 18:14:09,116 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\preventivi\Invia preventivo (ricerca targa) Lingue.task\i.txt
2021-03-07 18:14:09,116 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 127;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (127, 769, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-17 08:26:19', 120));
2021-03-07 18:14:09,119 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\preventivi\Invia preventivo (ricerca targa) Lingue.task\i.txt
2021-03-07 18:14:09,120 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 229 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 229, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-03 17:19:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-03 17:19:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-03 17:19:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,125 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\preventivi\Invia preventivo (ricerca targa) Lingue.task\sql.sql
2021-03-07 18:14:09,131 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 770;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (770, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-03 17:19:22', 120));
2021-03-07 18:14:09,134 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\preventivi\Invia preventivo (ricerca targa) Lingue.task\sql.sql
2021-03-07 18:14:09,135 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 127) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:09,143 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'prodotti';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'prodotti', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:56', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,148 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'descrizione breve con tags.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'descrizione breve con tags.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:55', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,157 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 231 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 231, null, left('descrizione breve con tags', 150)
            , 'molina', convert(datetime, '2020-12-11 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-12-11 00:00:00', 120), dt_upd = NULL
         , title = left('descrizione breve con tags', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:55', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-12-11 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('descrizione breve con tags', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,163 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 231 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 231, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-12-11 11:13:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-12-11 11:13:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-12-11 11:13:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,168 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\descrizione breve con tags.task\i.txt
2021-03-07 18:14:09,175 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 771;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (771, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-12-11 11:13:59', 120));
2021-03-07 18:14:09,178 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\descrizione breve con tags.task\i.txt
2021-03-07 18:14:09,179 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 128;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (128, 771, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-12-11 11:13:59', 120));
2021-03-07 18:14:09,182 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\prodotti\descrizione breve con tags.task\i.txt
2021-03-07 18:14:09,182 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 128) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:09,190 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'GACC611DPSN non  nei listini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'GACC611DPSN non  nei listini.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:56', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,196 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 232 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 232, null, left('GACC611DPSN non  nei listini', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('GACC611DPSN non  nei listini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:56', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('GACC611DPSN non  nei listini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,203 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 232 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 232, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-02 12:06:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-02 12:06:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 12:06:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,208 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\GACC611DPSN non  nei listini.task\content.sql
2021-03-07 18:14:09,215 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 772;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (772, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-02 12:06:40', 120));
2021-03-07 18:14:09,219 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\GACC611DPSN non  nei listini.task\content.sql
2021-03-07 18:14:09,219 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 129) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:09,226 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'gestione campo content - description per gli ARC.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'gestione campo content - description per gli ARC.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,236 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 233 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 233, null, left('gestione campo content - description per gli ARC', 150)
            , 'molina', convert(datetime, '2020-07-10 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-10 00:00:00', 120), dt_upd = NULL
         , title = left('gestione campo content - description per gli ARC', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-10 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione campo content - description per gli ARC', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,242 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 233 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 233, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-28 14:34:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-28 14:34:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 14:34:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,246 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\gestione campo content - description per gli ARC.task\i.txt
2021-03-07 18:14:09,253 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 773;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (773, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-28 14:34:39', 120));
2021-03-07 18:14:09,256 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\gestione campo content - description per gli ARC.task\i.txt
2021-03-07 18:14:09,257 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 130;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (130, 773, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-28 14:34:39', 120));
2021-03-07 18:14:09,259 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\prodotti\gestione campo content - description per gli ARC.task\i.txt
2021-03-07 18:14:09,260 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 233 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 233, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-28 14:28:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-28 14:28:57', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 14:28:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,265 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\gestione campo content - description per gli ARC.task\sql.sql
2021-03-07 18:14:09,271 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 774;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (774, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-28 14:28:57', 120));
2021-03-07 18:14:09,274 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\gestione campo content - description per gli ARC.task\sql.sql
2021-03-07 18:14:09,274 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 130) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:09,281 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'gestione note sui prodotti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'gestione note sui prodotti.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:55', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,291 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 234 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 234, null, left('gestione note sui prodotti', 150)
            , 'molina', convert(datetime, '2020-10-12 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-12 00:00:00', 120), dt_upd = NULL
         , title = left('gestione note sui prodotti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:55', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-12 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione note sui prodotti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,296 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 234 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 234, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-14 16:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-14 16:44:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-14 16:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,301 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\gestione note sui prodotti.task\i.txt
2021-03-07 18:14:09,309 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 775;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (775, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-14 16:44:40', 120));
2021-03-07 18:14:09,312 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\gestione note sui prodotti.task\i.txt
2021-03-07 18:14:09,313 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 131;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (131, 775, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-14 16:44:40', 120));
2021-03-07 18:14:09,316 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\prodotti\gestione note sui prodotti.task\i.txt
2021-03-07 18:14:09,317 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 131) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:09,326 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'griglia codici DIP.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'griglia codici DIP.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:55', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,335 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 235 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 235, null, left('griglia codici DIP', 150)
            , 'molina', convert(datetime, '2020-08-24 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-24 00:00:00', 120), dt_upd = NULL
         , title = left('griglia codici DIP', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:55', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('griglia codici DIP', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,341 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 235 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 235, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-24 18:13:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-24 18:13:57', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-24 18:13:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,345 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\griglia codici DIP.task\i.txt
2021-03-07 18:14:09,352 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 776;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (776, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-24 18:13:57', 120));
2021-03-07 18:14:09,355 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\griglia codici DIP.task\i.txt
2021-03-07 18:14:09,356 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 132;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (132, 776, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-24 18:13:57', 120));
2021-03-07 18:14:09,359 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\prodotti\griglia codici DIP.task\i.txt
2021-03-07 18:14:09,360 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 235 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 235, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-24 18:14:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-24 18:14:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-24 18:14:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,364 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\griglia codici DIP.task\sql.sql
2021-03-07 18:14:09,371 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 777;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (777, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-24 18:14:02', 120));
2021-03-07 18:14:09,374 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\griglia codici DIP.task\sql.sql
2021-03-07 18:14:09,374 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 132) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:09,381 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'listini';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'listini', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-03 14:38:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-03 14:38:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-03 14:38:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,386 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 236 
        and folder_name = 'aggiornata la lista delle categorie.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 236, 'aggiornata la lista delle categorie.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:56', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,395 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 237 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 237, null, left('aggiornata la lista delle categorie', 150)
            , 'molina', convert(datetime, '2020-08-11 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-11 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornata la lista delle categorie', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:56', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-11 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornata la lista delle categorie', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,401 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 133) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:09,408 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 236 
        and folder_name = 'aggiunta filtro nuovo - rev per i listini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 236, 'aggiunta filtro nuovo - rev per i listini.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:56', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,418 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 238 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 238, null, left('aggiunta filtro nuovo - rev per i listini', 150)
            , 'molina', convert(datetime, '2020-08-11 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', NULL, convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-11 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta filtro nuovo - rev per i listini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:56', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-11 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta filtro nuovo - rev per i listini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,425 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 134) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:09,433 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 236 
        and folder_name = 'gestione ricambista b per i prezzi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 236, 'gestione ricambista b per i prezzi.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:56', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,442 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 239 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 239, null, left('gestione ricambista b per i prezzi', 150)
            , 'molina', convert(datetime, '2020-10-14 00:00:00', 120), NULL, 1
            , 'fatto', 'altissima', 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-14 00:00:00', 120), dt_upd = NULL
         , title = left('gestione ricambista b per i prezzi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'altissima'
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:56', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione ricambista b per i prezzi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('altissima', '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,449 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 239 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 239, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-14 11:24:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-14 11:24:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-14 11:24:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,455 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\listini\gestione ricambista b per i prezzi.task\i.txt
2021-03-07 18:14:09,462 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 778;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (778, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-14 11:24:39', 120));
2021-03-07 18:14:09,465 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\listini\gestione ricambista b per i prezzi.task\i.txt
2021-03-07 18:14:09,466 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 135;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (135, 778, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-14 11:24:39', 120));
2021-03-07 18:14:09,469 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\prodotti\listini\gestione ricambista b per i prezzi.task\i.txt
2021-03-07 18:14:09,470 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 135) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:09,478 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 236 
        and folder_name = 'listini multipli sistemati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 236, 'listini multipli sistemati.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:56', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,490 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 240 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 240, null, left('listini multipli sistemati', 150)
            , 'molina', convert(datetime, '2020-10-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-30 00:00:00', 120), dt_upd = NULL
         , title = left('listini multipli sistemati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:56', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('listini multipli sistemati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,496 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 240 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 240, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-30 11:37:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-30 11:37:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-30 11:37:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,502 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\listini\listini multipli sistemati.task\i.txt
2021-03-07 18:14:09,509 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 779;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (779, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-30 11:37:38', 120));
2021-03-07 18:14:09,512 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\listini\listini multipli sistemati.task\i.txt
2021-03-07 18:14:09,513 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 136;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (136, 779, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-30 11:37:38', 120));
2021-03-07 18:14:09,516 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\prodotti\listini\listini multipli sistemati.task\i.txt
2021-03-07 18:14:09,517 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 136) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:09,525 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 236 
        and folder_name = 'nuovo Listino RICAMBISTA B.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 236, 'nuovo Listino RICAMBISTA B.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-03 14:39:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-03 14:39:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-03 14:39:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,535 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 241 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 241, null, left('nuovo Listino RICAMBISTA B', 150)
            , 'molina', convert(datetime, '2020-08-21 00:00:00', 120), NULL, 1
            , 'fatto', 'alta', 'modifica', NULL, convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-21 00:00:00', 120), dt_upd = NULL
         , title = left('nuovo Listino RICAMBISTA B', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'modifica', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:56', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuovo Listino RICAMBISTA B', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,541 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 241 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 241, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-03 14:39:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-03 14:39:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-03 14:39:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,546 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\listini\nuovo Listino RICAMBISTA B.task\i.txt
2021-03-07 18:14:09,555 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 780;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (780, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-03 14:39:04', 120));
2021-03-07 18:14:09,558 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\listini\nuovo Listino RICAMBISTA B.task\i.txt
2021-03-07 18:14:09,558 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 137;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (137, 780, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-03 14:39:04', 120));
2021-03-07 18:14:09,561 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\prodotti\listini\nuovo Listino RICAMBISTA B.task\i.txt
2021-03-07 18:14:09,562 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 241 and file_name = 'task.listino ricb.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 241, 'task.listino ricb.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-06 10:04:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-06 10:04:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-06 10:04:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,566 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\listini\nuovo Listino RICAMBISTA B.task\task.listino ricb.sql
2021-03-07 18:14:09,572 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 781;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (781, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-06 10:04:39', 120));
2021-03-07 18:14:09,575 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\listini\nuovo Listino RICAMBISTA B.task\task.listino ricb.sql
2021-03-07 18:14:09,576 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 137) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:09,584 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'marchio dpsn ai prodotti R.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'marchio dpsn ai prodotti R.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,593 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 242 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 242, null, left('marchio dpsn ai prodotti R', 150)
            , 'molina', convert(datetime, '2020-07-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-09 00:00:00', 120), dt_upd = NULL
         , title = left('marchio dpsn ai prodotti R', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('marchio dpsn ai prodotti R', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,599 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 242 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 242, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-10 10:11:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-10 10:11:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-10 10:11:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,604 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\marchio dpsn ai prodotti R.task\sql.sql
2021-03-07 18:14:09,609 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 782;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (782, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-10 10:11:13', 120));
2021-03-07 18:14:09,612 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\marchio dpsn ai prodotti R.task\sql.sql
2021-03-07 18:14:09,613 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 138) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:09,621 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'nuove categorie.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'nuove categorie.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:54', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,629 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 243 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 243, null, left('nuove categorie', 150)
            , 'molina', convert(datetime, '2020-08-13 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-13 00:00:00', 120), dt_upd = NULL
         , title = left('nuove categorie', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:54', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-13 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuove categorie', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,635 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 243 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 243, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-13 10:01:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-13 10:01:41', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-13 10:01:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,639 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\nuove categorie.task\i.txt
2021-03-07 18:14:09,646 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 783;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (783, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-13 10:01:41', 120));
2021-03-07 18:14:09,649 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\nuove categorie.task\i.txt
2021-03-07 18:14:09,649 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 139;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (139, 783, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-13 10:01:41', 120));
2021-03-07 18:14:09,652 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\prodotti\nuove categorie.task\i.txt
2021-03-07 18:14:09,653 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 139) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:09,661 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'revisione categorie.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'revisione categorie.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:55', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,671 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 244 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 244, null, left('revisione categorie', 150)
            , 'molina', convert(datetime, '2021-01-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-21 00:00:00', 120), dt_upd = NULL
         , title = left('revisione categorie', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:55', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione categorie', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,677 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 244 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 244, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-21 17:30:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-21 17:30:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-21 17:30:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,681 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\revisione categorie.task\i.txt
2021-03-07 18:14:09,688 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 784;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (784, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-21 17:30:27', 120));
2021-03-07 18:14:09,691 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\revisione categorie.task\i.txt
2021-03-07 18:14:09,691 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 140;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (140, 784, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-21 17:30:27', 120));
2021-03-07 18:14:09,694 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\prodotti\revisione categorie.task\i.txt
2021-03-07 18:14:09,695 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 244 and file_name = 'Lista Categoria Iniettori.xlsx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 244, 'Lista Categoria Iniettori.xlsx', '.xlsx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-21 08:59:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-21 08:59:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-21 08:59:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,700 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\revisione categorie.task\Lista Categoria Iniettori.xlsx
2021-03-07 18:14:09,701 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 244 and file_name = 'rev-categorie-www.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 244, 'rev-categorie-www.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-21 14:45:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-21 14:45:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-21 14:45:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,705 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\revisione categorie.task\rev-categorie-www.sql
2021-03-07 18:14:09,710 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 786;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (786, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-21 14:45:47', 120));
2021-03-07 18:14:09,713 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\revisione categorie.task\rev-categorie-www.sql
2021-03-07 18:14:09,714 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 244 and file_name = 'rev-categorie.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 244, 'rev-categorie.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-21 14:45:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-21 14:45:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-21 14:45:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,719 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\revisione categorie.task\rev-categorie.sql
2021-03-07 18:14:09,724 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 787;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (787, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-21 14:45:47', 120));
2021-03-07 18:14:09,728 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\revisione categorie.task\rev-categorie.sql
2021-03-07 18:14:09,728 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 140) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:09,735 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'sistemata la paginetta prodotti per le carcasse.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'sistemata la paginetta prodotti per le carcasse.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:55', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,744 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 245 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 245, null, left('sistemata la paginetta prodotti per le carcasse', 150)
            , 'molina', convert(datetime, '2020-09-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-29 00:00:00', 120), dt_upd = NULL
         , title = left('sistemata la paginetta prodotti per le carcasse', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:55', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('sistemata la paginetta prodotti per le carcasse', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,750 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 141) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:09,758 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'sistemata la vista VW_CAUZIONI.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'sistemata la vista VW_CAUZIONI.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:55', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,767 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 246 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 246, null, left('sistemata la vista VW_CAUZIONI', 150)
            , 'molina', convert(datetime, '2020-08-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezzora', convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-25 00:00:00', 120), dt_upd = NULL
         , title = left('sistemata la vista VW_CAUZIONI', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:55', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('sistemata la vista VW_CAUZIONI', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,773 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 246 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 246, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-25 09:32:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-25 09:32:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-25 09:32:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,777 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\sistemata la vista VW_CAUZIONI.task\i.txt
2021-03-07 18:14:09,784 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 788;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (788, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-25 09:32:06', 120));
2021-03-07 18:14:09,788 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\sistemata la vista VW_CAUZIONI.task\i.txt
2021-03-07 18:14:09,789 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 142;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (142, 788, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-25 09:32:06', 120));
2021-03-07 18:14:09,791 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\prodotti\sistemata la vista VW_CAUZIONI.task\i.txt
2021-03-07 18:14:09,792 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 246 and file_name = 'scheda crm con 2 codici.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 246, 'scheda crm con 2 codici.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-11 10:11:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-11 10:11:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-11 10:11:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,796 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\sistemata la vista VW_CAUZIONI.task\scheda crm con 2 codici.png
2021-03-07 18:14:09,797 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 246 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 246, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-25 09:32:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-25 09:32:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-25 09:32:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,801 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\sistemata la vista VW_CAUZIONI.task\sql.sql
2021-03-07 18:14:09,806 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 790;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (790, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-25 09:32:25', 120));
2021-03-07 18:14:09,809 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\sistemata la vista VW_CAUZIONI.task\sql.sql
2021-03-07 18:14:09,811 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 246 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 246, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-27 12:27:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-27 12:27:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-27 12:27:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,815 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\sistemata la vista VW_CAUZIONI.task\Thumbs.db
2021-03-07 18:14:09,816 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 142) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:09,823 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'spariscono le domande dei prodotti sul sito.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'spariscono le domande dei prodotti sul sito.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:56', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,829 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 247 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 247, null, left('spariscono le domande dei prodotti sul sito', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('spariscono le domande dei prodotti sul sito', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:56', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('spariscono le domande dei prodotti sul sito', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,835 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 247 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 247, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-06 10:34:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-06 10:34:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-06 10:34:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,839 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\spariscono le domande dei prodotti sul sito.task\content.sql
2021-03-07 18:14:09,845 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 792;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (792, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-06 10:34:55', 120));
2021-03-07 18:14:09,848 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\spariscono le domande dei prodotti sul sito.task\content.sql
2021-03-07 18:14:09,849 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 143) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:09,856 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'uniformare le categorie.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'uniformare le categorie.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,866 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 248 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 248, null, left('uniformare le categorie', 150)
            , 'molina', convert(datetime, '2020-08-12 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', 'giornata', convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-12 00:00:00', 120), dt_upd = NULL
         , title = left('uniformare le categorie', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-12 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('uniformare le categorie', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,872 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 248 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 248, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-14 10:16:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-14 10:16:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-14 10:16:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,876 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\uniformare le categorie.task\i.txt
2021-03-07 18:14:09,883 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 793;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (793, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-14 10:16:35', 120));
2021-03-07 18:14:09,886 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\uniformare le categorie.task\i.txt
2021-03-07 18:14:09,887 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 144;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (144, 793, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-14 10:16:35', 120));
2021-03-07 18:14:09,892 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\prodotti\uniformare le categorie.task\i.txt
2021-03-07 18:14:09,893 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 248 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 248, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-14 10:13:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-14 10:13:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-14 10:13:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,897 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\uniformare le categorie.task\sql.sql
2021-03-07 18:14:09,903 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 794;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (794, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-14 10:13:19', 120));
2021-03-07 18:14:09,905 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\uniformare le categorie.task\sql.sql
2021-03-07 18:14:09,906 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 144) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:09,914 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'vendite nella pagina prodotti web.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'vendite nella pagina prodotti web.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:55', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,923 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 249 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 249, null, left('vendite nella pagina prodotti web', 150)
            , 'molina', convert(datetime, '2020-10-07 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'facile', 'due_ore', convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-07 00:00:00', 120), dt_upd = NULL
         , title = left('vendite nella pagina prodotti web', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:55', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-07 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('vendite nella pagina prodotti web', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,929 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 249 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 249, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-07 16:41:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-07 16:41:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-07 16:41:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,934 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\vendite nella pagina prodotti web.task\i.txt
2021-03-07 18:14:09,940 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 795;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (795, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-07 16:41:17', 120));
2021-03-07 18:14:09,943 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\vendite nella pagina prodotti web.task\i.txt
2021-03-07 18:14:09,944 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 145;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (145, 795, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-07 16:41:17', 120));
2021-03-07 18:14:09,947 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\prodotti\vendite nella pagina prodotti web.task\i.txt
2021-03-07 18:14:09,948 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 145) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:09,955 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'revisioni';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'revisioni', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,959 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 250 
        and folder_name = 'lavorazioni interne.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 250, 'lavorazioni interne.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,969 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 251 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 251, null, left('lavorazioni interne', 150)
            , 'molina', convert(datetime, '2020-11-05 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_giorni', convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-05 00:00:00', 120), dt_upd = NULL
         , title = left('lavorazioni interne', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-05 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('lavorazioni interne', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,975 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 251 
        and folder_name = 'patch';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 251, 'patch', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:23', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,979 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'FNCS - DETT_ORDINE.prev.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'FNCS - DETT_ORDINE.prev.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 09:06:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 09:06:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 09:06:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,983 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\FNCS - DETT_ORDINE.prev.sql
2021-03-07 18:14:09,991 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 796;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (796, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 09:06:49', 120));
2021-03-07 18:14:09,994 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\FNCS - DETT_ORDINE.prev.sql
2021-03-07 18:14:09,994 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'FNCS - DETT_ORDINE.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'FNCS - DETT_ORDINE.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 10:59:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 10:59:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 10:59:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:09,998 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\FNCS - DETT_ORDINE.sql
2021-03-07 18:14:10,006 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 797;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (797, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 10:59:04', 120));
2021-03-07 18:14:10,009 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\FNCS - DETT_ORDINE.sql
2021-03-07 18:14:10,010 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'PATCH.prev.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'PATCH.prev.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 12:16:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 12:16:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 12:16:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,014 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\PATCH.prev.sql
2021-03-07 18:14:10,020 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 798;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (798, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 12:16:39', 120));
2021-03-07 18:14:10,023 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\PATCH.prev.sql
2021-03-07 18:14:10,024 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'PATCH.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'PATCH.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 12:16:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 12:16:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 12:16:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,028 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\PATCH.sql
2021-03-07 18:14:10,034 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 799;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (799, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 12:16:28', 120));
2021-03-07 18:14:10,037 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\PATCH.sql
2021-03-07 18:14:10,037 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'REFRESH_CODA_ORDINI.prev.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'REFRESH_CODA_ORDINI.prev.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-09 17:43:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-09 17:43:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-09 17:43:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,041 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\REFRESH_CODA_ORDINI.prev.sql
2021-03-07 18:14:10,049 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 800;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (800, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-09 17:43:09', 120));
2021-03-07 18:14:10,052 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\REFRESH_CODA_ORDINI.prev.sql
2021-03-07 18:14:10,053 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'REFRESH_CODA_ORDINI.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'REFRESH_CODA_ORDINI.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 12:01:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 12:01:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 12:01:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,058 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\REFRESH_CODA_ORDINI.sql
2021-03-07 18:14:10,066 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 801;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (801, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 12:01:56', 120));
2021-03-07 18:14:10,069 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\REFRESH_CODA_ORDINI.sql
2021-03-07 18:14:10,070 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'REFRESH_PRODOTTI.prev.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'REFRESH_PRODOTTI.prev.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 12:14:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 12:14:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 12:14:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,074 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\REFRESH_PRODOTTI.prev.sql
2021-03-07 18:14:10,082 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 802;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (802, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 12:14:27', 120));
2021-03-07 18:14:10,086 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\REFRESH_PRODOTTI.prev.sql
2021-03-07 18:14:10,087 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'REFRESH_PRODOTTI.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'REFRESH_PRODOTTI.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 10:50:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 10:50:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 10:50:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,091 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\REFRESH_PRODOTTI.sql
2021-03-07 18:14:10,100 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 803;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (803, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 10:50:30', 120));
2021-03-07 18:14:10,103 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\REFRESH_PRODOTTI.sql
2021-03-07 18:14:10,104 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'task.lav interne.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'task.lav interne.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-09 12:04:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-09 12:04:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-09 12:04:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,109 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\task.lav interne.sql
2021-03-07 18:14:10,117 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 804;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (804, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-09 12:04:43', 120));
2021-03-07 18:14:10,120 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\task.lav interne.sql
2021-03-07 18:14:10,121 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'UDCS_ORDERS_IN_CODA.prev.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'UDCS_ORDERS_IN_CODA.prev.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-09 17:42:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-09 17:42:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-09 17:42:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,125 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\UDCS_ORDERS_IN_CODA.prev.sql
2021-03-07 18:14:10,134 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 805;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (805, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-09 17:42:49', 120));
2021-03-07 18:14:10,137 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\UDCS_ORDERS_IN_CODA.prev.sql
2021-03-07 18:14:10,138 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'UDCS_ORDERS_IN_CODA.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'UDCS_ORDERS_IN_CODA.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 10:57:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 10:57:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 10:57:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,142 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\UDCS_ORDERS_IN_CODA.sql
2021-03-07 18:14:10,151 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 806;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (806, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 10:57:29', 120));
2021-03-07 18:14:10,155 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\UDCS_ORDERS_IN_CODA.sql
2021-03-07 18:14:10,156 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'VW_PRODOTTI_ORDERS.prev.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'VW_PRODOTTI_ORDERS.prev.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 09:49:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 09:49:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 09:49:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,160 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\VW_PRODOTTI_ORDERS.prev.sql
2021-03-07 18:14:10,166 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 807;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (807, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 09:49:22', 120));
2021-03-07 18:14:10,169 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\VW_PRODOTTI_ORDERS.prev.sql
2021-03-07 18:14:10,170 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'VW_PRODOTTI_ORDERS.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'VW_PRODOTTI_ORDERS.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 10:53:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 10:53:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 10:53:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,176 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\VW_PRODOTTI_ORDERS.sql
2021-03-07 18:14:10,181 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 808;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (808, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 10:53:56', 120));
2021-03-07 18:14:10,184 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\VW_PRODOTTI_ORDERS.sql
2021-03-07 18:14:10,186 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 146) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:10,192 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 251 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 251, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 17:14:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 17:14:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 17:14:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,198 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\i.txt
2021-03-07 18:14:10,204 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 809;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (809, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 17:14:31', 120));
2021-03-07 18:14:10,207 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\i.txt
2021-03-07 18:14:10,208 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 146;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (146, 809, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 17:14:31', 120));
2021-03-07 18:14:10,212 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\i.txt
2021-03-07 18:14:10,213 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 146) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:10,215 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 250 
        and folder_name = 'specificare la quantit.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 250, 'specificare la quantit.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,224 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 253 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 253, null, left('specificare la quantit', 150)
            , 'molina', convert(datetime, '2021-01-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, 'due_ore', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-14 00:00:00', 120), dt_upd = NULL
         , title = left('specificare la quantit', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('specificare la quantit', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,231 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 253 and file_name = 'campo rev.jpg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 253, 'campo rev.jpg', '.jpg', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-14 17:26:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-14 17:26:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-14 17:26:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,235 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\specificare la quantit.task\campo rev.jpg
2021-03-07 18:14:10,236 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 253 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 253, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-14 17:25:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-14 17:25:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-14 17:25:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,240 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\specificare la quantit.task\i.txt
2021-03-07 18:14:10,248 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 811;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (811, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-14 17:25:51', 120));
2021-03-07 18:14:10,251 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\specificare la quantit.task\i.txt
2021-03-07 18:14:10,252 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 147;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (147, 811, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-14 17:25:51', 120));
2021-03-07 18:14:10,254 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\revisioni\specificare la quantit.task\i.txt
2021-03-07 18:14:10,255 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 147) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:10,262 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'scheda tecdoc';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'scheda tecdoc', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:57', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,268 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'aggiunta compatibilit a volte non va.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'aggiunta compatibilit a volte non va.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,277 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 255 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 255, null, left('aggiunta compatibilit a volte non va', 150)
            , 'molina', convert(datetime, '2020-08-18 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-18 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta compatibilit a volte non va', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta compatibilit a volte non va', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,284 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 255 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 255, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-18 16:02:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-18 16:02:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 16:02:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,288 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\aggiunta compatibilit a volte non va.task\i.txt
2021-03-07 18:14:10,295 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 812;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (812, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-18 16:02:07', 120));
2021-03-07 18:14:10,298 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\aggiunta compatibilit a volte non va.task\i.txt
2021-03-07 18:14:10,299 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 148;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (148, 812, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-18 16:02:07', 120));
2021-03-07 18:14:10,303 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\scheda tecdoc\aggiunta compatibilit a volte non va.task\i.txt
2021-03-07 18:14:10,304 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 255 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 255, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-18 15:33:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-18 15:33:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 15:33:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,308 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\aggiunta compatibilit a volte non va.task\sql.sql
2021-03-07 18:14:10,316 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 813;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (813, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-18 15:33:07', 120));
2021-03-07 18:14:10,319 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\aggiunta compatibilit a volte non va.task\sql.sql
2021-03-07 18:14:10,320 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 148) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:10,327 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'catalogo';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'catalogo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:57', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,332 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 256 
        and folder_name = 'revisione alla versione 2019.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 256, 'revisione alla versione 2019.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:57', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,342 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 257 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 257, null, left('revisione alla versione 2019', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, 'due_ore', convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('revisione alla versione 2019', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:57', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione alla versione 2019', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,348 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 257 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 257, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-29 16:19:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-29 16:19:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 16:19:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,354 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\catalogo\revisione alla versione 2019.task\sql.sql
2021-03-07 18:14:10,355 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 149) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:10,362 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'ci sono dei codici nel tec-doc disabilitati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'ci sono dei codici nel tec-doc disabilitati.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,372 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 258 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 258, null, left('ci sono dei codici nel tec-doc disabilitati', 150)
            , 'molina', convert(datetime, '2020-07-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-09 00:00:00', 120), dt_upd = NULL
         , title = left('ci sono dei codici nel tec-doc disabilitati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ci sono dei codici nel tec-doc disabilitati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,379 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 258 and file_name = '1.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 258, '1.png', '.png', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-09 11:18:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-07-09 11:18:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-09 11:18:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,384 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\ci sono dei codici nel tec-doc disabilitati.task\1.png
2021-03-07 18:14:10,385 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 258 and file_name = '2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 258, '2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-09 11:18:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-07-09 11:18:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-09 11:18:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,389 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\ci sono dei codici nel tec-doc disabilitati.task\2.png
2021-03-07 18:14:10,390 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 258 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 258, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-09 11:59:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-07-09 11:59:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-09 11:59:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,395 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\ci sono dei codici nel tec-doc disabilitati.task\sql.sql
2021-03-07 18:14:10,401 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 817;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (817, '.sql', @content, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-09 11:59:42', 120));
2021-03-07 18:14:10,405 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\ci sono dei codici nel tec-doc disabilitati.task\sql.sql
2021-03-07 18:14:10,406 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 150) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:10,413 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'database tecdoc';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'database tecdoc', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:44:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,418 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 259 
        and folder_name = 'caricamento database td2019q4 sulla 91.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 259, 'caricamento database td2019q4 sulla 91.task', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:44:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,424 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 260 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 260, null, left('caricamento database td2019q4 sulla 91', 150)
            , 'molina', convert(datetime, '2020-06-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-15 00:00:00', 120), dt_upd = NULL
         , title = left('caricamento database td2019q4 sulla 91', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('caricamento database td2019q4 sulla 91', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,430 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 260 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 260, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-15 11:34:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-06-15 11:34:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-15 11:34:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,435 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\database tecdoc\caricamento database td2019q4 sulla 91.task\sql.sql
2021-03-07 18:14:10,442 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 818;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (818, '.sql', @content, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-15 11:34:58', 120));
2021-03-07 18:14:10,446 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\database tecdoc\caricamento database td2019q4 sulla 91.task\sql.sql
2021-03-07 18:14:10,446 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 151) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:10,453 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 259 
        and folder_name = 'pulita tecdoc 16.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 259, 'pulita tecdoc 16.task', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:44:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,460 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 261 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 261, null, left('pulita tecdoc 16', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('pulita tecdoc 16', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('pulita tecdoc 16', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,466 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 261 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 261, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-04 08:26:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-06-04 08:26:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 08:26:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,471 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\database tecdoc\pulita tecdoc 16.task\content.sql
2021-03-07 18:14:10,479 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 819;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (819, '.sql', @content, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-04 08:26:00', 120));
2021-03-07 18:14:10,482 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\database tecdoc\pulita tecdoc 16.task\content.sql
2021-03-07 18:14:10,484 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 152) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:10,490 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'estrazione dati tecdoc';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'estrazione dati tecdoc', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:01', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,496 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 262 
        and folder_name = 'check cross ARC071VLON.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 262, 'check cross ARC071VLON.task', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:01', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,506 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 263 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 263, null, left('check cross ARC071VLON', 150)
            , 'molina', convert(datetime, '2020-07-02 00:00:00', 120), NULL, 1
            , 'sospeso', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-02 00:00:00', 120), dt_upd = NULL
         , title = left('check cross ARC071VLON', 150), [user] = 'molina'
         , stato = 'sospeso', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:01', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('check cross ARC071VLON', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('sospeso', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,512 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 263 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 263, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-29 17:47:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-07-29 17:47:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 17:47:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,517 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check cross ARC071VLON.task\i.txt
2021-03-07 18:14:10,525 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 820;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (820, '.txt', @content, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-29 17:47:30', 120));
2021-03-07 18:14:10,528 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check cross ARC071VLON.task\i.txt
2021-03-07 18:14:10,529 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 153;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (153, 820, @content
          , convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-29 17:47:30', 120));
2021-03-07 18:14:10,532 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check cross ARC071VLON.task\i.txt
2021-03-07 18:14:10,532 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 263 and file_name = 'Problema Cross TecDoc.msg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 263, 'Problema Cross TecDoc.msg', '.msg', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-29 17:48:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-07-29 17:48:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 17:48:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,537 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check cross ARC071VLON.task\Problema Cross TecDoc.msg
2021-03-07 18:14:10,538 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 263 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 263, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-03 09:00:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-07-03 09:00:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-03 09:00:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,543 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check cross ARC071VLON.task\sql.sql
2021-03-07 18:14:10,550 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 822;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (822, '.sql', @content, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-03 09:00:56', 120));
2021-03-07 18:14:10,553 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check cross ARC071VLON.task\sql.sql
2021-03-07 18:14:10,553 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 263 and file_name = 'sql_bck.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 263, 'sql_bck.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-03 08:38:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-07-03 08:38:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-03 08:38:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,558 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check cross ARC071VLON.task\sql_bck.sql
2021-03-07 18:14:10,564 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 823;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (823, '.sql', @content, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-03 08:38:20', 120));
2021-03-07 18:14:10,567 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check cross ARC071VLON.task\sql_bck.sql
2021-03-07 18:14:10,568 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 153) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:10,576 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 262 
        and folder_name = 'check errori di importazione dati tecdoc.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 262, 'check errori di importazione dati tecdoc.task', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:45:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:00', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,586 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 264 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 264, null, left('check errori di importazione dati tecdoc', 150)
            , 'molina', convert(datetime, '2020-06-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-23 00:00:00', 120), dt_upd = NULL
         , title = left('check errori di importazione dati tecdoc', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:00', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('check errori di importazione dati tecdoc', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,592 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 264 and file_name = 'Detail_04882_DIPASPORT_20200623_072620.csv';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 264, 'Detail_04882_DIPASPORT_20200623_072620.csv', '.csv', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-23 09:26:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-06-23 09:26:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-23 09:26:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,597 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check errori di importazione dati tecdoc.task\Detail_04882_DIPASPORT_20200623_072620.csv
2021-03-07 18:14:10,598 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 264 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 264, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-24 15:04:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-06-24 15:04:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-24 15:04:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,602 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check errori di importazione dati tecdoc.task\i.txt
2021-03-07 18:14:10,608 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 825;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (825, '.txt', @content, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-24 15:04:04', 120));
2021-03-07 18:14:10,611 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check errori di importazione dati tecdoc.task\i.txt
2021-03-07 18:14:10,612 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 154;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (154, 825, @content
          , convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-24 15:04:04', 120));
2021-03-07 18:14:10,615 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check errori di importazione dati tecdoc.task\i.txt
2021-03-07 18:14:10,616 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 264 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 264, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-24 17:02:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-06-24 17:02:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-24 17:02:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,621 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check errori di importazione dati tecdoc.task\sql.sql
2021-03-07 18:14:10,628 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 826;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (826, '.sql', @content, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-24 17:02:23', 120));
2021-03-07 18:14:10,631 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check errori di importazione dati tecdoc.task\sql.sql
2021-03-07 18:14:10,631 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 264 and file_name = 'td_base.old.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 264, 'td_base.old.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-24 08:58:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-06-24 08:58:11', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-24 08:58:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,637 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check errori di importazione dati tecdoc.task\td_base.old.xml
2021-03-07 18:14:10,638 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 154) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:10,644 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 262 
        and folder_name = 'controlli sulla definizione delle auto.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 262, 'controlli sulla definizione delle auto.task', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:45:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:00', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,655 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 265 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 265, null, left('controlli sulla definizione delle auto', 150)
            , 'molina', convert(datetime, '2020-06-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:45:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-26 00:00:00', 120), dt_upd = NULL
         , title = left('controlli sulla definizione delle auto', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:00', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('controlli sulla definizione delle auto', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,661 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 265 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 265, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-26 11:52:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-06-26 11:52:15', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 11:52:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,665 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\controlli sulla definizione delle auto.task\i.txt
2021-03-07 18:14:10,670 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 828;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (828, '.txt', @content, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-26 11:52:15', 120));
2021-03-07 18:14:10,673 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\controlli sulla definizione delle auto.task\i.txt
2021-03-07 18:14:10,674 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 155;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (155, 828, @content
          , convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-26 11:52:15', 120));
2021-03-07 18:14:10,677 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\controlli sulla definizione delle auto.task\i.txt
2021-03-07 18:14:10,678 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 155) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:10,686 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 262 
        and folder_name = 'estrazione dati tecdoc flow223dpsn.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 262, 'estrazione dati tecdoc flow223dpsn.task', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:01', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,694 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 266 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 266, null, left('estrazione dati tecdoc flow223dpsn', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('estrazione dati tecdoc flow223dpsn', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:01', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('estrazione dati tecdoc flow223dpsn', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,700 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 266 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 266, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-18 10:39:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-06-18 10:39:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-18 10:39:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,705 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione dati tecdoc flow223dpsn.task\content.sql
2021-03-07 18:14:10,714 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 829;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (829, '.sql', @content, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-18 10:39:50', 120));
2021-03-07 18:14:10,717 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione dati tecdoc flow223dpsn.task\content.sql
2021-03-07 18:14:10,718 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 156) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:10,725 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 262 
        and folder_name = 'estrazione tecdoc.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 262, 'estrazione tecdoc.task', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:44:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,734 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 267 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 267, null, left('estrazione tecdoc', 150)
            , 'molina', convert(datetime, '2020-05-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-05-28 00:00:00', 120), dt_upd = NULL
         , title = left('estrazione tecdoc', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-05-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('estrazione tecdoc', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,741 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 267 
        and folder_name = 'bulk_dat';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 267, 'bulk_dat', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-01-29 15:45:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:33', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,745 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 268 and file_name = '012.dat';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 268, '012.dat', '.dat', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-04-29 09:23:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-04-29 09:23:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-04-29 09:23:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,751 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\bulk_dat\012.dat
2021-03-07 18:14:10,752 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 268 and file_name = '030.dat';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 268, '030.dat', '.dat', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-04-29 09:22:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-04-29 09:22:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-04-29 09:22:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,756 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\bulk_dat\030.dat
2021-03-07 18:14:10,757 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 268 and file_name = 'import_12_30.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 268, 'import_12_30.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-03 11:35:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-03 11:35:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 11:35:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,762 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\bulk_dat\import_12_30.sql
2021-03-07 18:14:10,769 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 832;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (832, '.sql', @content, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-03 11:35:16', 120));
2021-03-07 18:14:10,773 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\bulk_dat\import_12_30.sql
2021-03-07 18:14:10,773 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 268 and file_name = 'td-12-format.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 268, 'td-12-format.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2017-10-23 16:05:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2017-10-23 16:05:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-23 16:05:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,778 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\bulk_dat\td-12-format.xml
2021-03-07 18:14:10,779 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 268 and file_name = 'td-30-format.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 268, 'td-30-format.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2017-10-26 15:37:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2017-10-26 15:37:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-26 15:37:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,783 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\bulk_dat\td-30-format.xml
2021-03-07 18:14:10,784 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:10,791 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 267 
        and folder_name = 'docs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 267, 'docs', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2021-01-29 15:45:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,797 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 269 
        and folder_name = '4882-backup-tentler';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 269, '4882-backup-tentler', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2021-01-29 15:45:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,802 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '001.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '001.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,806 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\001.4882
2021-03-07 18:14:10,807 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '030.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '030.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,811 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\030.4882
2021-03-07 18:14:10,812 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '035.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '035.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,817 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\035.4882
2021-03-07 18:14:10,818 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '040.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '040.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,822 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\040.4882
2021-03-07 18:14:10,822 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '042.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '042.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,828 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\042.4882
2021-03-07 18:14:10,829 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '043.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '043.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,833 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\043.4882
2021-03-07 18:14:10,834 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '200.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '200.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,839 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\200.4882
2021-03-07 18:14:10,840 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '201.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '201.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,844 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\201.4882
2021-03-07 18:14:10,845 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '202.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '202.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,850 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\202.4882
2021-03-07 18:14:10,851 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '203.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '203.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,856 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\203.4882
2021-03-07 18:14:10,857 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '204.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '204.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,861 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\204.4882
2021-03-07 18:14:10,862 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '205.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '205.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,866 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\205.4882
2021-03-07 18:14:10,867 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '206.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '206.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,872 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\206.4882
2021-03-07 18:14:10,873 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '207.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '207.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,877 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\207.4882
2021-03-07 18:14:10,878 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '208.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '208.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,883 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\208.4882
2021-03-07 18:14:10,885 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '209.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '209.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,889 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\209.4882
2021-03-07 18:14:10,890 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '210.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '210.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,894 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\210.4882
2021-03-07 18:14:10,895 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '211.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '211.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,900 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\211.4882
2021-03-07 18:14:10,900 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '212.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '212.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,906 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\212.4882
2021-03-07 18:14:10,907 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '215.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '215.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,911 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\215.4882
2021-03-07 18:14:10,913 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '217.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '217.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,917 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\217.4882
2021-03-07 18:14:10,918 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '222.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '222.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,923 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\222.4882
2021-03-07 18:14:10,925 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '228.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '228.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,929 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\228.4882
2021-03-07 18:14:10,930 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '231.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '231.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,934 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\231.4882
2021-03-07 18:14:10,935 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '232.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '232.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,940 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\232.4882
2021-03-07 18:14:10,941 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '233.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '233.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,946 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\233.4882
2021-03-07 18:14:10,947 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '400.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '400.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,951 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\400.4882
2021-03-07 18:14:10,952 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '401.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '401.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,957 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\401.4882
2021-03-07 18:14:10,958 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '403.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '403.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,962 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\403.4882
2021-03-07 18:14:10,962 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '404.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '404.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,968 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\404.4882
2021-03-07 18:14:10,969 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '410.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '410.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,973 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\410.4882
2021-03-07 18:14:10,974 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '432.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '432.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,979 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\432.4882
2021-03-07 18:14:10,980 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:10,981 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 269 
        and folder_name = 'nostre tabelle';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 269, 'nostre tabelle', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2021-01-29 15:45:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,986 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '001.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '001.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2017-11-14 14:30:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2017-11-14 14:30:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-14 14:30:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,991 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\nostre tabelle\001.4882
2021-03-07 18:14:10,992 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '040.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '040.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 14:53:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 14:53:11', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 14:53:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:10,997 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\nostre tabelle\040.4882
2021-03-07 18:14:10,998 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '042.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '042.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 14:53:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 14:53:11', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 14:53:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,002 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\nostre tabelle\042.4882
2021-03-07 18:14:11,002 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '200.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '200.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 12:04:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 12:04:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 12:04:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,007 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\nostre tabelle\200.4882
2021-03-07 18:14:11,008 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '202.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '202.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 12:04:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 12:04:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 12:04:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,013 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\nostre tabelle\202.4882
2021-03-07 18:14:11,014 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '203.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '203.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 12:05:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 12:05:11', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 12:05:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,019 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\nostre tabelle\203.4882
2021-03-07 18:14:11,020 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '210.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '210.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 12:06:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 12:06:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 12:06:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,024 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\nostre tabelle\210.4882
2021-03-07 18:14:11,025 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '211.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '211.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 12:06:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 12:06:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 12:06:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,030 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\nostre tabelle\211.4882
2021-03-07 18:14:11,031 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '231.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '231.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 16:06:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 16:06:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 16:06:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,035 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\nostre tabelle\231.4882
2021-03-07 18:14:11,036 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '232.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '232.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 12:13:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 12:13:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 12:13:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,041 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\nostre tabelle\232.4882
2021-03-07 18:14:11,042 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '400.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '400.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 12:14:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 12:14:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 12:14:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,046 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\nostre tabelle\400.4882
2021-03-07 18:14:11,048 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '410.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '410.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 12:14:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 12:14:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 12:14:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,052 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\nostre tabelle\410.4882
2021-03-07 18:14:11,053 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:11,054 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 269 and file_name = 'I dqm@tecalliance.net - Mandatory and Differentiation-Attributes.msg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 269, 'I dqm@tecalliance.net - Mandatory and Differentiation-Attributes.msg', '.msg', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-03 08:20:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-03 08:20:41', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 08:20:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,059 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\I dqm@tecalliance.net - Mandatory and Differentiation-Attributes.msg
2021-03-07 18:14:11,060 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 269 and file_name = 'TecDoc-Data-Format_Version_2.4_EN.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 269, 'TecDoc-Data-Format_Version_2.4_EN.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-29 09:40:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-29 09:40:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-29 09:40:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,065 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\TecDoc-Data-Format_Version_2.4_EN.pdf
2021-03-07 18:14:11,066 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:11,067 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 267 
        and folder_name = 'out';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 267, 'out', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2021-01-29 15:45:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,072 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = '200.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, '200.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-09 11:11:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-09 11:11:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:11:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,077 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\out\200.4882
2021-03-07 18:14:11,078 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = '202.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, '202.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-09 11:11:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-09 11:11:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:11:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,083 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\out\202.4882
2021-03-07 18:14:11,084 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = '203.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, '203.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-09 11:11:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-09 11:11:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:11:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,088 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\out\203.4882
2021-03-07 18:14:11,088 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = '210.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, '210.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-09 11:12:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-09 11:12:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:12:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,092 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\out\210.4882
2021-03-07 18:14:11,093 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = '211.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, '211.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-09 11:11:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-09 11:11:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:11:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,097 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\out\211.4882
2021-03-07 18:14:11,097 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = '232.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, '232.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-09 11:12:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-09 11:12:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:12:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,101 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\out\232.4882
2021-03-07 18:14:11,102 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = '400.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, '400.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-09 11:13:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-09 11:13:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:13:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,108 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\out\400.4882
2021-03-07 18:14:11,111 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = '410.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, '410.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-09 11:13:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-09 11:13:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:13:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,116 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\out\410.4882
2021-03-07 18:14:11,118 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = 'codici_mancanti.html';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, 'codici_mancanti.html', '.html', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-09 11:13:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-09 11:13:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:13:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,122 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\out\codici_mancanti.html
2021-03-07 18:14:11,123 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = 'log.log';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, 'log.log', '.log', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-10 10:40:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-10 10:40:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-10 10:40:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,128 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\out\log.log
2021-03-07 18:14:11,128 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:11,129 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 267 
        and folder_name = '_bck';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 267, '_bck', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-29 15:45:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,134 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 273 
        and folder_name = 'app_code';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 273, 'app_code', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-29 15:45:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,139 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 274 and file_name = 'dt_criteria.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 274, 'dt_criteria.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-09-28 17:36:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-09-28 17:36:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-09-28 17:36:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,145 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\app_code\dt_criteria.cs
2021-03-07 18:14:11,152 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 891;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (891, '.cs', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-09-28 17:36:58', 120));
2021-03-07 18:14:11,156 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\app_code\dt_criteria.cs
2021-03-07 18:14:11,156 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 274 and file_name = 'dt_export.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 274, 'dt_export.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-07-05 15:33:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2018-07-05 15:33:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-07-05 15:33:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,160 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\app_code\dt_export.cs
2021-03-07 18:14:11,172 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 892;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (892, '.cs', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-07-05 15:33:22', 120));
2021-03-07 18:14:11,175 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\app_code\dt_export.cs
2021-03-07 18:14:11,176 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:11,178 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 273 
        and folder_name = 'pages_js';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 273, 'pages_js', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-29 15:45:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,182 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 275 and file_name = 'dt_criteria.css';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 275, 'dt_criteria.css', '.css', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-09-29 17:52:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-09-29 17:52:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-09-29 17:52:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,187 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\pages_js\dt_criteria.css
2021-03-07 18:14:11,189 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 275 and file_name = 'dt_criteria.js';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 275, 'dt_criteria.js', '.js', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-02 14:05:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-02 14:05:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-02 14:05:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,193 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\pages_js\dt_criteria.js
2021-03-07 18:14:11,194 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 275 and file_name = 'dt_export.js';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 275, 'dt_export.js', '.js', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-07-05 14:47:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2018-07-05 14:47:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-07-05 14:47:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,199 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\pages_js\dt_export.js
2021-03-07 18:14:11,200 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 275 and file_name = 'dt_import.js';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 275, 'dt_import.js', '.js', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-23 10:34:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-23 10:34:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-23 10:34:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,204 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\pages_js\dt_import.js
2021-03-07 18:14:11,205 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:11,207 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 273 
        and folder_name = 'pages_xml';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 273, 'pages_xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-29 15:45:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,211 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 276 and file_name = 'pageDTCountries.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 276, 'pageDTCountries.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-20 16:23:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-20 16:23:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-20 16:23:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,216 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\pages_xml\pageDTCountries.xml
2021-03-07 18:14:11,217 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 276 and file_name = 'pageDTCountry.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 276, 'pageDTCountry.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-09-25 16:37:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-09-25 16:37:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-09-25 16:37:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,222 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\pages_xml\pageDTCountry.xml
2021-03-07 18:14:11,223 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 276 and file_name = 'pageDTCriteria.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 276, 'pageDTCriteria.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-02 08:49:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-02 08:49:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-02 08:49:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,228 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\pages_xml\pageDTCriteria.xml
2021-03-07 18:14:11,229 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 276 and file_name = 'pageDTExport.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 276, 'pageDTExport.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-07-05 14:23:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2018-07-05 14:23:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-07-05 14:23:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,233 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\pages_xml\pageDTExport.xml
2021-03-07 18:14:11,235 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 276 and file_name = 'pageDTImport.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 276, 'pageDTImport.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-06 17:17:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-06 17:17:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-06 17:17:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,239 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\pages_xml\pageDTImport.xml
2021-03-07 18:14:11,240 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:11,242 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 273 
        and folder_name = 'procs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 273, 'procs', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-29 15:45:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,247 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 277 
        and folder_name = 'td';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 277, 'td', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-29 15:45:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,253 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'copy-an.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'copy-an.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-01-24 15:36:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2018-01-24 15:36:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-01-24 15:36:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,257 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\copy-an.xml
2021-03-07 18:14:11,258 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_10.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_10.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-23 14:06:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-23 14:06:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-23 14:06:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,262 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_10.xml
2021-03-07 18:14:11,263 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_100.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_100.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-23 11:57:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-23 11:57:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-23 11:57:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,268 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_100.xml
2021-03-07 18:14:11,269 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_110.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_110.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-06 16:00:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-06 16:00:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-06 16:00:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,273 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_110.xml
2021-03-07 18:14:11,274 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_12.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_12.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-23 11:56:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-23 11:56:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-23 11:56:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,279 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_12.xml
2021-03-07 18:14:11,279 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_120.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_120.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-06 14:31:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-06 14:31:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-06 14:31:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,284 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_120.xml
2021-03-07 18:14:11,285 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_125.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_125.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-06 16:58:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-06 16:58:15', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-06 16:58:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,290 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_125.xml
2021-03-07 18:14:11,291 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_14.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_14.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-02 10:30:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-02 10:30:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-02 10:30:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,295 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_14.xml
2021-03-07 18:14:11,296 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_20.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_20.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-23 16:20:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-23 16:20:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-23 16:20:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,303 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_20.xml
2021-03-07 18:14:11,304 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_200.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_200.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-17 08:49:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-17 08:49:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-17 08:49:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,308 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_200.xml
2021-03-07 18:14:11,309 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_202.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_202.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-17 08:49:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-17 08:49:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-17 08:49:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,314 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_202.xml
2021-03-07 18:14:11,315 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_203.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_203.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-17 08:49:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-17 08:49:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-17 08:49:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,321 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_203.xml
2021-03-07 18:14:11,322 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_207.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_207.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-27 09:54:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-27 09:54:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-27 09:54:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,326 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_207.xml
2021-03-07 18:14:11,327 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_210.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_210.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-02-07 15:07:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2018-02-07 15:07:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-02-07 15:07:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,331 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_210.xml
2021-03-07 18:14:11,331 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_211.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_211.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-02-07 14:39:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2018-02-07 14:39:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-02-07 14:39:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,337 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_211.xml
2021-03-07 18:14:11,338 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_231.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_231.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-21 17:50:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-21 17:50:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-21 17:50:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,343 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_231.xml
2021-03-07 18:14:11,344 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_232.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_232.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-24 09:38:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-24 09:38:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-24 09:38:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,349 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_232.xml
2021-03-07 18:14:11,350 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_320.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_320.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-31 14:00:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-31 14:00:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-31 14:00:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,354 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_320.xml
2021-03-07 18:14:11,355 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_323.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_323.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-31 12:25:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-31 12:25:57', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-31 12:25:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,360 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_323.xml
2021-03-07 18:14:11,361 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_324.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_324.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-31 12:25:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-31 12:25:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-31 12:25:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,365 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_324.xml
2021-03-07 18:14:11,366 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_325.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_325.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-31 12:25:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-31 12:25:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-31 12:25:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,371 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_325.xml
2021-03-07 18:14:11,371 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_400.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_400.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-03-06 09:28:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2018-03-06 09:28:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-03-06 09:28:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,376 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_400.xml
2021-03-07 18:14:11,377 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_410.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_410.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-03-05 12:36:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2018-03-05 12:36:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-03-05 12:36:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,381 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_410.xml
2021-03-07 18:14:11,382 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_50.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_50.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-27 10:37:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-27 10:37:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-27 10:37:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,387 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_50.xml
2021-03-07 18:14:11,388 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_51.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_51.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-27 11:59:44', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-27 11:59:44', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-27 11:59:44', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,393 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_51.xml
2021-03-07 18:14:11,393 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_52.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_52.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-27 12:02:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-27 12:02:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-27 12:02:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,397 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_52.xml
2021-03-07 18:14:11,398 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_base.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_base.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2019-09-03 10:00:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2019-09-03 10:00:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-09-03 10:00:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,403 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_base.xml
2021-03-07 18:14:11,404 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:11,406 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:11,408 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 273 and file_name = 'Log before.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 273, 'Log before.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-05 09:30:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-05 09:30:41', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 09:30:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,412 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\Log before.txt
2021-03-07 18:14:11,448 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 929;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (929, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-05 09:30:41', 120));
2021-03-07 18:14:11,482 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\Log before.txt
2021-03-07 18:14:11,483 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 273 and file_name = 'Log Last.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 273, 'Log Last.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-05 09:30:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-05 09:30:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 09:30:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,488 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\Log Last.txt
2021-03-07 18:14:11,541 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 930;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (930, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-05 09:30:31', 120));
2021-03-07 18:14:11,596 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\Log Last.txt
2021-03-07 18:14:11,596 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 273 and file_name = 'td_base.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 273, 'td_base.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 15:15:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 15:15:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 15:15:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,601 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\td_base.sql
2021-03-07 18:14:11,606 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 931;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (931, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 15:15:52', 120));
2021-03-07 18:14:11,609 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\td_base.sql
2021-03-07 18:14:11,610 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:11,611 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 267 and file_name = 'mca.bat';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 267, 'mca.bat', '.bat', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-10 10:39:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-10 10:39:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-10 10:39:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,615 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\mca.bat
2021-03-07 18:14:11,616 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 267 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 267, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-29 17:40:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-29 17:40:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-29 17:40:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,619 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\sql.sql
2021-03-07 18:14:11,624 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 933;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (933, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-29 17:40:56', 120));
2021-03-07 18:14:11,628 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\sql.sql
2021-03-07 18:14:11,629 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 267 and file_name = '_log.lnk';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 267, '_log.lnk', '.lnk', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 09:42:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 09:42:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 09:42:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,634 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_log.lnk
2021-03-07 18:14:11,636 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:11,639 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 262 
        and folder_name = 'revisione errori.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 262, 'revisione errori.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:01', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,674 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 279 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 279, null, left('revisione errori', 150)
            , 'molina', convert(datetime, '2020-11-13 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_giorni', convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-13 00:00:00', 120), dt_upd = NULL
         , title = left('revisione errori', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:01', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-13 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione errori', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,682 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 279 and file_name = 'td_report.rar';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 279, 'td_report.rar', '.rar', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-13 14:40:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-11-13 14:40:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-13 14:40:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,689 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\revisione errori.task\td_report.rar
2021-03-07 18:14:11,690 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 158) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:11,699 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 262 
        and folder_name = 'xx_td_prods_check.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 262, 'xx_td_prods_check.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:01', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,706 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 280 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 280, null, left('xx_td_prods_check', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('xx_td_prods_check', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:01', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('xx_td_prods_check', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,714 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 280 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 280, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-04 14:33:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-04 14:33:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 14:33:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,720 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\xx_td_prods_check.task\content.sql
2021-03-07 18:14:11,726 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 936;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (936, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-04 14:33:49', 120));
2021-03-07 18:14:11,729 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\xx_td_prods_check.task\content.sql
2021-03-07 18:14:11,731 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 159) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:11,740 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'funzionalit';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'funzionalit', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,745 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'codici senza scheda web.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'codici senza scheda web.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,752 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 282 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 282, null, left('codici senza scheda web', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('codici senza scheda web', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('codici senza scheda web', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,758 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 282 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 282, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-11 17:40:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-11 17:40:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-11 17:40:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,763 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\codici senza scheda web.task\content.sql
2021-03-07 18:14:11,769 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 937;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (937, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-11 17:40:54', 120));
2021-03-07 18:14:11,772 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\codici senza scheda web.task\content.sql
2021-03-07 18:14:11,773 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 160) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:11,780 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'controllo rinomina codice DIP.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'controllo rinomina codice DIP.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,790 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 283 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 283, null, left('controllo rinomina codice DIP', 150)
            , 'molina', convert(datetime, '2020-06-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-29 00:00:00', 120), dt_upd = NULL
         , title = left('controllo rinomina codice DIP', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('controllo rinomina codice DIP', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,796 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 161) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:11,803 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'criteri prodotti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'criteri prodotti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,810 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 284 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 284, null, left('criteri prodotti', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('criteri prodotti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('criteri prodotti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,819 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 284 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 284, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-05 10:14:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-05 10:14:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 10:14:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,824 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\criteri prodotti.task\content.sql
2021-03-07 18:14:11,829 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 938;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (938, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-05 10:14:48', 120));
2021-03-07 18:14:11,832 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\criteri prodotti.task\content.sql
2021-03-07 18:14:11,833 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 162) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:11,841 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'elimina codice dipa.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'elimina codice dipa.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,847 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 285 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 285, null, left('elimina codice dipa', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('elimina codice dipa', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('elimina codice dipa', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,854 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 285 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 285, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-25 18:28:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-25 18:28:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-25 18:28:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,858 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\elimina codice dipa.task\content.sql
2021-03-07 18:14:11,863 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 939;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (939, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-25 18:28:14', 120));
2021-03-07 18:14:11,866 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\elimina codice dipa.task\content.sql
2021-03-07 18:14:11,867 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 163) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:11,874 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'gestione categorie prodotti dal crm.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'gestione categorie prodotti dal crm.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,883 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 286 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 286, null, left('gestione categorie prodotti dal crm', 150)
            , 'molina', convert(datetime, '2020-06-29 00:00:00', 120), NULL, 1
            , 'da_fare', 'alta', 'aggiunta', 'due_giorni', convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-29 00:00:00', 120), dt_upd = NULL
         , title = left('gestione categorie prodotti dal crm', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = 'alta'
         , tipo = 'aggiunta', stima = 'due_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione categorie prodotti dal crm', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,889 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 164) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:11,897 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'gestione cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'gestione cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,906 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 287 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 287, null, left('gestione cauzioni', 150)
            , 'molina', convert(datetime, '2020-06-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_giorni', convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-17 00:00:00', 120), dt_upd = NULL
         , title = left('gestione cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,912 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 287 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 287, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-22 17:36:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-22 17:36:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-22 17:36:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,917 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\gestione cauzioni.task\content.sql
2021-03-07 18:14:11,925 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 940;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (940, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-22 17:36:29', 120));
2021-03-07 18:14:11,928 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\gestione cauzioni.task\content.sql
2021-03-07 18:14:11,929 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 165) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:11,936 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'gestione compatibili.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'gestione compatibili.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,945 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 288 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 288, null, left('gestione compatibili', 150)
            , 'molina', convert(datetime, '2020-06-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-17 00:00:00', 120), dt_upd = NULL
         , title = left('gestione compatibili', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione compatibili', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,951 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 288 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 288, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 14:06:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-17 14:06:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-17 14:06:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,955 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\gestione compatibili.task\content.sql
2021-03-07 18:14:11,961 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 941;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (941, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 14:06:18', 120));
2021-03-07 18:14:11,964 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\gestione compatibili.task\content.sql
2021-03-07 18:14:11,965 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 166) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:11,972 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'rinomina dip sulle lavorazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'rinomina dip sulle lavorazioni.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,981 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 289 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 289, null, left('rinomina dip sulle lavorazioni', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('rinomina dip sulle lavorazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rinomina dip sulle lavorazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,987 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 289 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 289, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-02 11:11:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-02 11:11:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 11:11:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:11,991 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\rinomina dip sulle lavorazioni.task\content.sql
2021-03-07 18:14:11,999 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 942;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (942, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-02 11:11:45', 120));
2021-03-07 18:14:12,002 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\rinomina dip sulle lavorazioni.task\content.sql
2021-03-07 18:14:12,003 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 167) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:12,010 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'rinomina dip.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'rinomina dip.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,015 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 290 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 290, null, left('rinomina dip', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('rinomina dip', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rinomina dip', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,021 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 290 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 290, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-09 16:14:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-09 16:14:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 16:14:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,026 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\rinomina dip.task\content.sql
2021-03-07 18:14:12,032 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 943;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (943, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-09 16:14:29', 120));
2021-03-07 18:14:12,035 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\rinomina dip.task\content.sql
2021-03-07 18:14:12,035 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 168) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:12,042 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'scheda marca.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'scheda marca.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:01', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,051 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 291 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 291, null, left('scheda marca', 150)
            , 'molina', convert(datetime, '2020-05-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-05-26 00:00:00', 120), dt_upd = NULL
         , title = left('scheda marca', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:01', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-05-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('scheda marca', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,057 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 291 and file_name = 'scheda - marca.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 291, 'scheda - marca.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-28 15:00:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-28 15:00:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-28 15:00:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,062 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\scheda marca.task\scheda - marca.sql
2021-03-07 18:14:12,067 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 944;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (944, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-28 15:00:23', 120));
2021-03-07 18:14:12,070 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\scheda marca.task\scheda - marca.sql
2021-03-07 18:14:12,071 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 291 and file_name = 'Sufx.xls';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 291, 'Sufx.xls', '.xls', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-26 11:31:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-26 11:31:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-26 11:31:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,075 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\scheda marca.task\Sufx.xls
2021-03-07 18:14:12,076 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 169) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:12,083 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'schede - elimina.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'schede - elimina.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:01', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,092 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 292 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 292, null, left('schede - elimina', 150)
            , 'molina', convert(datetime, '2020-05-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-05-08 00:00:00', 120), dt_upd = NULL
         , title = left('schede - elimina', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:01', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-05-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('schede - elimina', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,098 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 292 and file_name = 'da cancellare - 2.xls';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 292, 'da cancellare - 2.xls', '.xls', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-08 15:15:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-08 15:15:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-08 15:15:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,103 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\schede - elimina.task\da cancellare - 2.xls
2021-03-07 18:14:12,104 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 292 and file_name = 'da cancellare.xlsx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 292, 'da cancellare.xlsx', '.xlsx', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-08 14:26:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-08 14:26:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-08 14:26:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,109 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\schede - elimina.task\da cancellare.xlsx
2021-03-07 18:14:12,110 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 292 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 292, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-12 16:00:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-12 16:00:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-12 16:00:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,114 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\schede - elimina.task\sql.sql
2021-03-07 18:14:12,119 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 948;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (948, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-12 16:00:46', 120));
2021-03-07 18:14:12,122 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\schede - elimina.task\sql.sql
2021-03-07 18:14:12,122 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 170) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:12,130 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'sistemata alla gestione accoppiamenti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'sistemata alla gestione accoppiamenti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:01', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,142 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 293 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 293, null, left('sistemata alla gestione accoppiamenti', 150)
            , 'molina', convert(datetime, '2020-06-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-25 00:00:00', 120), dt_upd = NULL
         , title = left('sistemata alla gestione accoppiamenti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:01', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('sistemata alla gestione accoppiamenti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,148 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 293 and file_name = 'bck.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 293, 'bck.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 14:12:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-29 14:12:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 14:12:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,153 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\sistemata alla gestione accoppiamenti.task\bck.txt
2021-03-07 18:14:12,160 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 949;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (949, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 14:12:51', 120));
2021-03-07 18:14:12,163 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\sistemata alla gestione accoppiamenti.task\bck.txt
2021-03-07 18:14:12,163 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 293 and file_name = 'estrazione types.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 293, 'estrazione types.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 09:10:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 09:10:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 09:10:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,168 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\sistemata alla gestione accoppiamenti.task\estrazione types.sql
2021-03-07 18:14:12,176 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 950;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (950, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 09:10:03', 120));
2021-03-07 18:14:12,179 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\sistemata alla gestione accoppiamenti.task\estrazione types.sql
2021-03-07 18:14:12,180 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 293 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 293, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 10:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-29 10:45:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 10:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,184 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\sistemata alla gestione accoppiamenti.task\sql.sql
2021-03-07 18:14:12,185 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 171) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:12,192 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'tolto il controllo sugli ordini per il duplica schede.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'tolto il controllo sugli ordini per il duplica schede.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,198 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 294 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 294, null, left('tolto il controllo sugli ordini per il duplica schede', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('tolto il controllo sugli ordini per il duplica schede', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('tolto il controllo sugli ordini per il duplica schede', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,204 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 294 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 294, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-15 15:40:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-15 15:40:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-15 15:40:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,208 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\tolto il controllo sugli ordini per il duplica schede.task\content.sql
2021-03-07 18:14:12,214 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 952;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (952, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-15 15:40:45', 120));
2021-03-07 18:14:12,217 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\tolto il controllo sugli ordini per il duplica schede.task\content.sql
2021-03-07 18:14:12,218 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 172) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:12,225 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'upload marche.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'upload marche.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,231 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 295 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 295, null, left('upload marche', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('upload marche', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('upload marche', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,236 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 295 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 295, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-29 08:47:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-29 08:47:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-29 08:47:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,241 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\upload marche.task\content.sql
2021-03-07 18:14:12,247 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 953;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (953, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-29 08:47:26', 120));
2021-03-07 18:14:12,250 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\upload marche.task\content.sql
2021-03-07 18:14:12,251 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 173) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:12,258 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'gestione campi seo.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'gestione campi seo.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:57', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,267 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 296 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 296, null, left('gestione campi seo', 150)
            , 'molina', convert(datetime, '2020-10-06 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-06 00:00:00', 120), dt_upd = NULL
         , title = left('gestione campi seo', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:57', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-06 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione campi seo', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,272 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 296 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 296, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-07 11:59:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-07 11:59:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-07 11:59:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,277 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\gestione campi seo.task\i.txt
2021-03-07 18:14:12,284 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 954;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (954, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-07 11:59:07', 120));
2021-03-07 18:14:12,287 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\gestione campi seo.task\i.txt
2021-03-07 18:14:12,288 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 174;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (174, 954, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-07 11:59:07', 120));
2021-03-07 18:14:12,290 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\scheda tecdoc\gestione campi seo.task\i.txt
2021-03-07 18:14:12,291 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 296 and file_name = 'task.aggiornamento pname.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 296, 'task.aggiornamento pname.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-07 10:25:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-07 10:25:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-07 10:25:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,295 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\gestione campi seo.task\task.aggiornamento pname.sql
2021-03-07 18:14:12,301 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 955;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (955, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-07 10:25:54', 120));
2021-03-07 18:14:12,303 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\gestione campi seo.task\task.aggiornamento pname.sql
2021-03-07 18:14:12,305 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 296 and file_name = 'task.campi nuovi scheda crm.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 296, 'task.campi nuovi scheda crm.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-07 08:38:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-07 08:38:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-07 08:38:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,309 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\gestione campi seo.task\task.campi nuovi scheda crm.sql
2021-03-07 18:14:12,316 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 956;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (956, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-07 08:38:46', 120));
2021-03-07 18:14:12,319 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\gestione campi seo.task\task.campi nuovi scheda crm.sql
2021-03-07 18:14:12,320 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 174) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:12,327 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'gestione cross';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'gestione cross', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,331 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 297 
        and folder_name = 'deselezionato mi aspetto di vederlo in verde.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 297, 'deselezionato mi aspetto di vederlo in verde.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,340 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 298 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 298, null, left('deselezionato mi aspetto di vederlo in verde', 150)
            , 'molina', convert(datetime, '2020-06-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-26 00:00:00', 120), dt_upd = NULL
         , title = left('deselezionato mi aspetto di vederlo in verde', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('deselezionato mi aspetto di vederlo in verde', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,346 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 298 and file_name = 'i.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 298, 'i.png', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 17:07:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 17:07:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 17:07:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,350 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\gestione cross\deselezionato mi aspetto di vederlo in verde.task\i.png
2021-03-07 18:14:12,351 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 298 and file_name = 'i2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 298, 'i2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 17:07:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 17:07:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 17:07:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,355 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\gestione cross\deselezionato mi aspetto di vederlo in verde.task\i2.png
2021-03-07 18:14:12,356 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 298 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 298, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 09:34:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-29 09:34:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 09:34:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,360 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\gestione cross\deselezionato mi aspetto di vederlo in verde.task\sql.sql
2021-03-07 18:14:12,367 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 959;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (959, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 09:34:18', 120));
2021-03-07 18:14:12,370 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\gestione cross\deselezionato mi aspetto di vederlo in verde.task\sql.sql
2021-03-07 18:14:12,371 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 298 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 298, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 08:37:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-29 08:37:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 08:37:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,375 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\gestione cross\deselezionato mi aspetto di vederlo in verde.task\Thumbs.db
2021-03-07 18:14:12,376 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 175) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:12,383 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 297 
        and folder_name = 'revisione colori rosso - verde.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 297, 'revisione colori rosso - verde.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,392 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 299 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 299, null, left('revisione colori rosso - verde', 150)
            , 'molina', convert(datetime, '2020-06-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'ora', convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-30 00:00:00', 120), dt_upd = NULL
         , title = left('revisione colori rosso - verde', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione colori rosso - verde', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,398 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 176) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:12,405 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 297 
        and folder_name = 'schede incrociate in verde non appaiono.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 297, 'schede incrociate in verde non appaiono.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,414 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 300 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 300, null, left('schede incrociate in verde non appaiono', 150)
            , 'molina', convert(datetime, '2020-06-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-26 00:00:00', 120), dt_upd = NULL
         , title = left('schede incrociate in verde non appaiono', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('schede incrociate in verde non appaiono', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,420 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 300 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 300, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 11:46:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 11:46:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 11:46:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,425 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\gestione cross\schede incrociate in verde non appaiono.task\i.txt
2021-03-07 18:14:12,430 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 961;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (961, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 11:46:27', 120));
2021-03-07 18:14:12,433 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\gestione cross\schede incrociate in verde non appaiono.task\i.txt
2021-03-07 18:14:12,434 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 177;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (177, 961, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 11:46:27', 120));
2021-03-07 18:14:12,437 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\scheda tecdoc\gestione cross\schede incrociate in verde non appaiono.task\i.txt
2021-03-07 18:14:12,438 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 300 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 300, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 11:45:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 11:45:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 11:45:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,442 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\gestione cross\schede incrociate in verde non appaiono.task\sql.sql
2021-03-07 18:14:12,448 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 962;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (962, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 11:45:21', 120));
2021-03-07 18:14:12,451 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\gestione cross\schede incrociate in verde non appaiono.task\sql.sql
2021-03-07 18:14:12,452 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 177) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:12,459 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'marca dei codici a volte non si aggiorna.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'marca dei codici a volte non si aggiorna.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,466 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 301 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 301, null, left('marca dei codici a volte non si aggiorna', 150)
            , 'molina', convert(datetime, '2020-08-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-17 00:00:00', 120), dt_upd = NULL
         , title = left('marca dei codici a volte non si aggiorna', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('marca dei codici a volte non si aggiorna', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,472 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 301 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 301, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 09:32:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-18 09:32:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 09:32:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,477 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\marca dei codici a volte non si aggiorna.task\i.txt
2021-03-07 18:14:12,484 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 963;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (963, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 09:32:38', 120));
2021-03-07 18:14:12,487 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\marca dei codici a volte non si aggiorna.task\i.txt
2021-03-07 18:14:12,488 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 178;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (178, 963, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 09:32:38', 120));
2021-03-07 18:14:12,491 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\scheda tecdoc\marca dei codici a volte non si aggiorna.task\i.txt
2021-03-07 18:14:12,491 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 301 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 301, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 09:30:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-18 09:30:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 09:30:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,496 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\marca dei codici a volte non si aggiorna.task\sql.sql
2021-03-07 18:14:12,503 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 964;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (964, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 09:30:48', 120));
2021-03-07 18:14:12,506 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\marca dei codici a volte non si aggiorna.task\sql.sql
2021-03-07 18:14:12,507 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 178) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:12,514 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'ottimizzazione caricamento pagina.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'ottimizzazione caricamento pagina.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:57', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,524 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 302 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 302, null, left('ottimizzazione caricamento pagina', 150)
            , 'molina', convert(datetime, '2020-11-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-25 00:00:00', 120), dt_upd = NULL
         , title = left('ottimizzazione caricamento pagina', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:57', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ottimizzazione caricamento pagina', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,530 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 302 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 302, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-25 11:20:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-11-25 11:20:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-25 11:20:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,535 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\ottimizzazione caricamento pagina.task\i.txt
2021-03-07 18:14:12,542 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 965;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (965, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-25 11:20:58', 120));
2021-03-07 18:14:12,545 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\ottimizzazione caricamento pagina.task\i.txt
2021-03-07 18:14:12,546 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 179;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (179, 965, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-25 11:20:58', 120));
2021-03-07 18:14:12,549 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\scheda tecdoc\ottimizzazione caricamento pagina.task\i.txt
2021-03-07 18:14:12,550 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 179) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:12,558 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'sincronizzazioni';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'sincronizzazioni', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:08', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,562 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'alyante';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'alyante', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,566 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 304 
        and folder_name = 'alyante - descrizioni articoli.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 304, 'alyante - descrizioni articoli.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,571 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 305 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 305, null, left('alyante - descrizioni articoli', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('alyante - descrizioni articoli', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('alyante - descrizioni articoli', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,578 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 305 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 305, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-05 17:21:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-05 17:21:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 17:21:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,582 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\alyante\alyante - descrizioni articoli.task\content.sql
2021-03-07 18:14:12,588 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 966;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (966, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-05 17:21:13', 120));
2021-03-07 18:14:12,591 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\alyante\alyante - descrizioni articoli.task\content.sql
2021-03-07 18:14:12,592 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 180) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:12,599 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 304 
        and folder_name = 'nota riep.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 304, 'nota riep.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,605 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 306 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 306, null, left('nota riep', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('nota riep', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nota riep', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,612 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 306 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 306, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 14:00:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 14:00:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 14:00:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,617 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\alyante\nota riep.task\content.sql
2021-03-07 18:14:12,624 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 967;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (967, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 14:00:40', 120));
2021-03-07 18:14:12,627 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\alyante\nota riep.task\content.sql
2021-03-07 18:14:12,628 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 181) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:12,635 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'buffer nasconde le options.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'buffer nasconde le options.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,645 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 307 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 307, null, left('buffer nasconde le options', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', 'alta', NULL, NULL, convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('buffer nasconde le options', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('buffer nasconde le options', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,652 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 307 and file_name = 'connector-2020-07-10.log';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 307, 'connector-2020-07-10.log', '.log', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-10 11:27:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-10 11:27:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-10 11:27:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,656 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\buffer nasconde le options.task\connector-2020-07-10.log
2021-03-07 18:14:12,657 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 307 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 307, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-10 09:00:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-10 09:00:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-10 09:00:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,661 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\buffer nasconde le options.task\i.txt
2021-03-07 18:14:12,669 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 969;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (969, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-10 09:00:16', 120));
2021-03-07 18:14:12,672 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\buffer nasconde le options.task\i.txt
2021-03-07 18:14:12,673 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 182;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (182, 969, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-10 09:00:16', 120));
2021-03-07 18:14:12,675 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\buffer nasconde le options.task\i.txt
2021-03-07 18:14:12,676 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 307 and file_name = 'magento-buffer-options.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 307, 'magento-buffer-options.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-10 14:10:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-10 14:10:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-10 14:10:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,680 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\buffer nasconde le options.task\magento-buffer-options.txt
2021-03-07 18:14:12,685 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 970;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (970, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-10 14:10:24', 120));
2021-03-07 18:14:12,688 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\buffer nasconde le options.task\magento-buffer-options.txt
2021-03-07 18:14:12,688 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 182) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:12,695 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'carica codici nascosti lenta.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'carica codici nascosti lenta.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,707 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 308 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 308, null, left('carica codici nascosti lenta', 150)
            , 'molina', convert(datetime, '2020-09-01 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-01 00:00:00', 120), dt_upd = NULL
         , title = left('carica codici nascosti lenta', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-01 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('carica codici nascosti lenta', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,712 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 308 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 308, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-01 10:12:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-09-01 10:12:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-01 10:12:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,718 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\carica codici nascosti lenta.task\i.txt
2021-03-07 18:14:12,724 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 971;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (971, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-01 10:12:50', 120));
2021-03-07 18:14:12,727 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\carica codici nascosti lenta.task\i.txt
2021-03-07 18:14:12,727 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 183;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (183, 971, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-01 10:12:50', 120));
2021-03-07 18:14:12,730 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\carica codici nascosti lenta.task\i.txt
2021-03-07 18:14:12,731 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 183) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:12,739 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'collegamento q';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'collegamento q', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,743 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 309 
        and folder_name = 'aggiornamento tracciato invio dati gestionale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 309, 'aggiornamento tracciato invio dati gestionale.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,752 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 310 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 310, null, left('aggiornamento tracciato invio dati gestionale', 150)
            , 'molina', convert(datetime, '2020-06-22 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-22 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornamento tracciato invio dati gestionale', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-22 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornamento tracciato invio dati gestionale', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,758 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 310 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 310, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-22 09:54:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-22 09:54:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-22 09:54:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,762 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\collegamento q\aggiornamento tracciato invio dati gestionale.task\i.txt
2021-03-07 18:14:12,768 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 972;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (972, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-22 09:54:12', 120));
2021-03-07 18:14:12,771 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\collegamento q\aggiornamento tracciato invio dati gestionale.task\i.txt
2021-03-07 18:14:12,772 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 184;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (184, 972, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-22 09:54:12', 120));
2021-03-07 18:14:12,775 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\collegamento q\aggiornamento tracciato invio dati gestionale.task\i.txt
2021-03-07 18:14:12,776 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 184) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:12,783 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 309 
        and folder_name = 'invia dati a gestionale - via id_hash.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 309, 'invia dati a gestionale - via id_hash.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,789 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 311 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 311, null, left('invia dati a gestionale - via id_hash', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('invia dati a gestionale - via id_hash', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('invia dati a gestionale - via id_hash', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,797 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 311 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 311, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-23 09:17:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-23 09:17:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-23 09:17:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,802 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\collegamento q\invia dati a gestionale - via id_hash.task\content.sql
2021-03-07 18:14:12,807 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 973;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (973, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-23 09:17:09', 120));
2021-03-07 18:14:12,810 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\collegamento q\invia dati a gestionale - via id_hash.task\content.sql
2021-03-07 18:14:12,811 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 185) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:12,820 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 309 
        and folder_name = 'marchio nel q.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 309, 'marchio nel q.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,829 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 312 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 312, null, left('marchio nel q', 150)
            , 'molina', convert(datetime, '2020-06-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-17 00:00:00', 120), dt_upd = NULL
         , title = left('marchio nel q', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('marchio nel q', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,836 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 312 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 312, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 17:12:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-17 17:12:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-17 17:12:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,840 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\collegamento q\marchio nel q.task\content.sql
2021-03-07 18:14:12,846 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 974;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (974, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 17:12:20', 120));
2021-03-07 18:14:12,849 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\collegamento q\marchio nel q.task\content.sql
2021-03-07 18:14:12,850 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 186) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:12,857 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'duplica schede';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'duplica schede', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,862 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'avviso duplica schede prodotti senza scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'avviso duplica schede prodotti senza scheda.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,867 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 314 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 314, null, left('avviso duplica schede prodotti senza scheda', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('avviso duplica schede prodotti senza scheda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('avviso duplica schede prodotti senza scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,873 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 314 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 314, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 10:37:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-17 10:37:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-17 10:37:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,877 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\avviso duplica schede prodotti senza scheda.task\i.txt
2021-03-07 18:14:12,882 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 975;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (975, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 10:37:25', 120));
2021-03-07 18:14:12,885 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\avviso duplica schede prodotti senza scheda.task\i.txt
2021-03-07 18:14:12,885 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 187;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (187, 975, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 10:37:25', 120));
2021-03-07 18:14:12,889 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\avviso duplica schede prodotti senza scheda.task\i.txt
2021-03-07 18:14:12,889 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 187) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:12,896 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'duplica aggiornamento prezzi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'duplica aggiornamento prezzi.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,902 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 315 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 315, null, left('duplica aggiornamento prezzi', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('duplica aggiornamento prezzi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('duplica aggiornamento prezzi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,909 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 315 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 315, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-08 09:12:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-08 09:12:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-08 09:12:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,913 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica aggiornamento prezzi.task\content.sql
2021-03-07 18:14:12,918 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 976;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (976, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-08 09:12:55', 120));
2021-03-07 18:14:12,921 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica aggiornamento prezzi.task\content.sql
2021-03-07 18:14:12,922 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 188) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:12,929 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'duplica attributi sbagliati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'duplica attributi sbagliati.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,935 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 316 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 316, null, left('duplica attributi sbagliati', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('duplica attributi sbagliati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('duplica attributi sbagliati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,941 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 316 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 316, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-27 15:19:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-27 15:19:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-27 15:19:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,946 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica attributi sbagliati.task\i.txt
2021-03-07 18:14:12,951 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 977;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (977, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-27 15:19:55', 120));
2021-03-07 18:14:12,954 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica attributi sbagliati.task\i.txt
2021-03-07 18:14:12,954 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 189;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (189, 977, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-27 15:19:55', 120));
2021-03-07 18:14:12,957 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica attributi sbagliati.task\i.txt
2021-03-07 18:14:12,958 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 189) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:12,965 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'duplica schede - controllo campi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'duplica schede - controllo campi.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,974 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 317 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 317, null, left('duplica schede - controllo campi', 150)
            , 'molina', convert(datetime, '2020-06-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-23 00:00:00', 120), dt_upd = NULL
         , title = left('duplica schede - controllo campi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('duplica schede - controllo campi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,980 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 317 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 317, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-23 11:10:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-23 11:10:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-23 11:10:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:12,984 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica schede - controllo campi.task\content.sql
2021-03-07 18:14:12,989 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 978;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (978, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-23 11:10:13', 120));
2021-03-07 18:14:12,992 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica schede - controllo campi.task\content.sql
2021-03-07 18:14:12,993 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 190) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:13,000 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'duplica schede prezzi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'duplica schede prezzi.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,005 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 318 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 318, null, left('duplica schede prezzi', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('duplica schede prezzi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('duplica schede prezzi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,011 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 318 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 318, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-11 16:55:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-11 16:55:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-11 16:55:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,015 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica schede prezzi.task\content.sql
2021-03-07 18:14:13,020 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 979;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (979, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-11 16:55:17', 120));
2021-03-07 18:14:13,023 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica schede prezzi.task\content.sql
2021-03-07 18:14:13,024 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 191) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:13,031 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'duplica si inchioda sul buf_attrs.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'duplica si inchioda sul buf_attrs.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,038 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 319 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 319, null, left('duplica si inchioda sul buf_attrs', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('duplica si inchioda sul buf_attrs', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('duplica si inchioda sul buf_attrs', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,043 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 319 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 319, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-25 17:16:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-25 17:16:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-25 17:16:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,049 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica si inchioda sul buf_attrs.task\content.sql
2021-03-07 18:14:13,055 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 980;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (980, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-25 17:16:22', 120));
2021-03-07 18:14:13,057 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica si inchioda sul buf_attrs.task\content.sql
2021-03-07 18:14:13,058 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 192) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:13,065 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'problema nel duplica schede.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'problema nel duplica schede.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,071 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 320 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 320, null, left('problema nel duplica schede', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('problema nel duplica schede', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('problema nel duplica schede', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,077 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 320 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 320, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 10:04:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-17 10:04:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-17 10:04:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,082 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\problema nel duplica schede.task\content.sql
2021-03-07 18:14:13,087 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 981;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (981, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 10:04:28', 120));
2021-03-07 18:14:13,090 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\problema nel duplica schede.task\content.sql
2021-03-07 18:14:13,091 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 193) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:13,099 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'rivisitazione generale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'rivisitazione generale.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,108 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 321 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 321, null, left('rivisitazione generale', 150)
            , 'molina', convert(datetime, '2021-01-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-25 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione generale', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione generale', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,114 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 321 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 321, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-25 11:34:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-25 11:34:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-25 11:34:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,118 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\rivisitazione generale.task\i.txt
2021-03-07 18:14:13,127 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 982;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (982, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-25 11:34:49', 120));
2021-03-07 18:14:13,130 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\rivisitazione generale.task\i.txt
2021-03-07 18:14:13,131 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 194;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (194, 982, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-25 11:34:49', 120));
2021-03-07 18:14:13,134 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\rivisitazione generale.task\i.txt
2021-03-07 18:14:13,135 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 194) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:13,143 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'inserisco nel sito i codici nascosti dei N, R, AN.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'inserisco nel sito i codici nascosti dei N, R, AN.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,152 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 322 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 322, null, left('inserisco nel sito i codici nascosti dei N, R, AN', 150)
            , 'molina', convert(datetime, '2020-08-31 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', 'ora', convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-31 00:00:00', 120), dt_upd = NULL
         , title = left('inserisco nel sito i codici nascosti dei N, R, AN', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-31 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('inserisco nel sito i codici nascosti dei N, R, AN', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,158 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 322 and file_name = 'cross codici sito.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 322, 'cross codici sito.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-31 12:29:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-31 12:29:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-31 12:29:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,163 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\inserisco nel sito i codici nascosti dei N, R, AN.task\cross codici sito.sql
2021-03-07 18:14:13,170 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 983;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (983, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-31 12:29:24', 120));
2021-03-07 18:14:13,173 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\inserisco nel sito i codici nascosti dei N, R, AN.task\cross codici sito.sql
2021-03-07 18:14:13,174 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 322 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 322, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-31 12:32:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-31 12:32:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-31 12:32:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,179 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\inserisco nel sito i codici nascosti dei N, R, AN.task\i.txt
2021-03-07 18:14:13,185 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 984;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (984, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-31 12:32:09', 120));
2021-03-07 18:14:13,188 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\inserisco nel sito i codici nascosti dei N, R, AN.task\i.txt
2021-03-07 18:14:13,189 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 195;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (195, 984, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-31 12:32:09', 120));
2021-03-07 18:14:13,192 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\inserisco nel sito i codici nascosti dei N, R, AN.task\i.txt
2021-03-07 18:14:13,193 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 195) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:13,201 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'ml fortuna listino.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'ml fortuna listino.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:08', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,206 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 323 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 323, null, left('ml fortuna listino', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ml fortuna listino', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:08', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ml fortuna listino', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,212 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 323 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 323, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-19 11:02:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-19 11:02:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-19 11:02:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,217 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\ml fortuna listino.task\content.sql
2021-03-07 18:14:13,223 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 985;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (985, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-19 11:02:03', 120));
2021-03-07 18:14:13,226 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\ml fortuna listino.task\content.sql
2021-03-07 18:14:13,226 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 196) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:13,237 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'ogni tanto il magazzino si pianta o importa male ordini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'ogni tanto il magazzino si pianta o importa male ordini.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,254 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 324 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 324, null, left('ogni tanto il magazzino si pianta o importa male ordini', 150)
            , 'molina', convert(datetime, '2020-08-26 00:00:00', 120), NULL, 1
            , 'fatto', 'alta', 'facile', 'due_ore', convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-26 00:00:00', 120), dt_upd = NULL
         , title = left('ogni tanto il magazzino si pianta o importa male ordini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'facile', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ogni tanto il magazzino si pianta o importa male ordini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,262 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 324 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 324, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-26 17:00:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-26 17:00:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-26 17:00:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,268 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\ogni tanto il magazzino si pianta o importa male ordini.task\i.txt
2021-03-07 18:14:13,280 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 986;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (986, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-26 17:00:03', 120));
2021-03-07 18:14:13,284 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\ogni tanto il magazzino si pianta o importa male ordini.task\i.txt
2021-03-07 18:14:13,285 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 197;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (197, 986, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-26 17:00:03', 120));
2021-03-07 18:14:13,287 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\ogni tanto il magazzino si pianta o importa male ordini.task\i.txt
2021-03-07 18:14:13,288 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 197) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:13,297 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'per qualche motivo son state sparate sul sito tutte le quantit.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'per qualche motivo son state sparate sul sito tutte le quantit.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,304 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 325 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 325, null, left('per qualche motivo son state sparate sul sito tutte le quantit', 150)
            , 'molina', convert(datetime, '2020-07-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-29 00:00:00', 120), dt_upd = NULL
         , title = left('per qualche motivo son state sparate sul sito tutte le quantit', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('per qualche motivo son state sparate sul sito tutte le quantit', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,310 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 325 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 325, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 11:03:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-29 11:03:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 11:03:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,315 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\per qualche motivo son state sparate sul sito tutte le quantit.task\i.txt
2021-03-07 18:14:13,326 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 987;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (987, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 11:03:51', 120));
2021-03-07 18:14:13,329 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\per qualche motivo son state sparate sul sito tutte le quantit.task\i.txt
2021-03-07 18:14:13,330 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 198;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (198, 987, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 11:03:51', 120));
2021-03-07 18:14:13,333 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\per qualche motivo son state sparate sul sito tutte le quantit.task\i.txt
2021-03-07 18:14:13,335 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 325 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 325, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 10:56:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-29 10:56:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 10:56:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,341 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\per qualche motivo son state sparate sul sito tutte le quantit.task\sql.sql
2021-03-07 18:14:13,347 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 988;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (988, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 10:56:56', 120));
2021-03-07 18:14:13,350 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\per qualche motivo son state sparate sul sito tutte le quantit.task\sql.sql
2021-03-07 18:14:13,351 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 198) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:13,361 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'prodotti';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'prodotti', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,365 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'abs189n.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'abs189n.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,375 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 327 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 327, null, left('abs189n', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('abs189n', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('abs189n', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,381 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 327 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 327, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-12 09:50:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-12 09:50:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-12 09:50:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,387 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\abs189n.task\content.sql
2021-03-07 18:14:13,394 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 989;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (989, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-12 09:50:26', 120));
2021-03-07 18:14:13,397 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\abs189n.task\content.sql
2021-03-07 18:14:13,398 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 199) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:13,409 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'ABS452.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'ABS452.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,414 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 328 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 328, null, left('ABS452', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ABS452', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ABS452', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,424 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 328 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 328, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-04 15:30:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-04 15:30:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 15:30:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,429 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\ABS452.task\content.sql
2021-03-07 18:14:13,430 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 200) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:13,440 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'aggiornamento meta xml prodotti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'aggiornamento meta xml prodotti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,449 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 329 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 329, null, left('aggiornamento meta xml prodotti', 150)
            , 'molina', convert(datetime, '2020-06-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'facile', 'ora', convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-29 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornamento meta xml prodotti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornamento meta xml prodotti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,458 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 329 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 329, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 11:22:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-29 11:22:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 11:22:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,463 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\aggiornamento meta xml prodotti.task\i.txt
2021-03-07 18:14:13,470 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 991;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (991, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 11:22:28', 120));
2021-03-07 18:14:13,474 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\aggiornamento meta xml prodotti.task\i.txt
2021-03-07 18:14:13,475 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 201;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (201, 991, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 11:22:28', 120));
2021-03-07 18:14:13,479 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\aggiornamento meta xml prodotti.task\i.txt
2021-03-07 18:14:13,479 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 201) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:13,490 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'ARC163ELSR.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'ARC163ELSR.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,496 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 330 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 330, null, left('ARC163ELSR', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ARC163ELSR', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ARC163ELSR', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,503 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 330 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 330, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 10:43:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 10:43:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 10:43:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,509 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\ARC163ELSR.task\content.sql
2021-03-07 18:14:13,513 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 992;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (992, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 10:43:10', 120));
2021-03-07 18:14:13,518 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\ARC163ELSR.task\content.sql
2021-03-07 18:14:13,519 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 202) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:13,528 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'ARC164DLPN.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'ARC164DLPN.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,535 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 331 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 331, null, left('ARC164DLPN', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ARC164DLPN', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ARC164DLPN', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,543 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 331 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 331, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-04 15:21:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-04 15:21:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 15:21:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,547 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\ARC164DLPN.task\content.sql
2021-03-07 18:14:13,556 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 993;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (993, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-04 15:21:28', 120));
2021-03-07 18:14:13,559 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\ARC164DLPN.task\content.sql
2021-03-07 18:14:13,560 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 203) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:13,568 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'body035r - lav vs.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'body035r - lav vs.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,576 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 332 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 332, null, left('body035r - lav vs', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('body035r - lav vs', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('body035r - lav vs', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,581 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 332 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 332, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-12 14:43:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-12 14:43:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-12 14:43:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,588 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\body035r - lav vs.task\content.sql
2021-03-07 18:14:13,594 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 994;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (994, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-12 14:43:01', 120));
2021-03-07 18:14:13,597 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\body035r - lav vs.task\content.sql
2021-03-07 18:14:13,599 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 204) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:13,609 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'categoria in importazione articoli CA nel gestionale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'categoria in importazione articoli CA nel gestionale.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,615 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 333 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 333, null, left('categoria in importazione articoli CA nel gestionale', 150)
            , 'molina', convert(datetime, '2020-06-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-26 00:00:00', 120), dt_upd = NULL
         , title = left('categoria in importazione articoli CA nel gestionale', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('categoria in importazione articoli CA nel gestionale', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,624 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 333 and file_name = 'AL_EXPORT_ARTICOLI_DELTA.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 333, 'AL_EXPORT_ARTICOLI_DELTA.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 16:25:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 16:25:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 16:25:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,629 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\categoria in importazione articoli CA nel gestionale.task\AL_EXPORT_ARTICOLI_DELTA.sql
2021-03-07 18:14:13,641 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 995;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (995, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 16:25:30', 120));
2021-03-07 18:14:13,644 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\categoria in importazione articoli CA nel gestionale.task\AL_EXPORT_ARTICOLI_DELTA.sql
2021-03-07 18:14:13,645 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 333 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 333, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 16:47:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 16:47:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 16:47:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,650 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\categoria in importazione articoli CA nel gestionale.task\sql.sql
2021-03-07 18:14:13,658 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 996;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (996, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 16:47:01', 120));
2021-03-07 18:14:13,661 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\categoria in importazione articoli CA nel gestionale.task\sql.sql
2021-03-07 18:14:13,662 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 205) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:13,672 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'codici nascosti senza brand.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'codici nascosti senza brand.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,684 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 334 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 334, null, left('codici nascosti senza brand', 150)
            , 'molina', convert(datetime, '2020-09-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-14 00:00:00', 120), dt_upd = NULL
         , title = left('codici nascosti senza brand', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('codici nascosti senza brand', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,692 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 334 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 334, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-14 17:33:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-09-14 17:33:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-14 17:33:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,697 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\codici nascosti senza brand.task\i.txt
2021-03-07 18:14:13,707 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 997;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (997, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-14 17:33:34', 120));
2021-03-07 18:14:13,710 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\codici nascosti senza brand.task\i.txt
2021-03-07 18:14:13,711 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 206;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (206, 997, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-14 17:33:34', 120));
2021-03-07 18:14:13,714 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\codici nascosti senza brand.task\i.txt
2021-03-07 18:14:13,715 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 206) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:13,726 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'injb55run.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'injb55run.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,732 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 335 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 335, null, left('injb55run', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('injb55run', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('injb55run', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,742 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 335 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 335, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 09:05:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 09:05:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 09:05:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,746 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\injb55run.task\content.sql
2021-03-07 18:14:13,753 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 998;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (998, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 09:05:38', 120));
2021-03-07 18:14:13,756 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\injb55run.task\content.sql
2021-03-07 18:14:13,757 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 207) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:13,765 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'nuova categoria EMU.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'nuova categoria EMU.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,771 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 336 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 336, null, left('nuova categoria EMU', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('nuova categoria EMU', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuova categoria EMU', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,778 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 336 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 336, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-19 10:49:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-19 10:49:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-19 10:49:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,782 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\nuova categoria EMU.task\content.sql
2021-03-07 18:14:13,788 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 999;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (999, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-19 10:49:16', 120));
2021-03-07 18:14:13,791 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\nuova categoria EMU.task\content.sql
2021-03-07 18:14:13,792 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 208) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:13,803 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'nuova gestione scarico prodotti immagini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'nuova gestione scarico prodotti immagini.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,815 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 337 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 337, null, left('nuova gestione scarico prodotti immagini', 150)
            , 'molina', convert(datetime, '2020-09-18 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-18 00:00:00', 120), dt_upd = NULL
         , title = left('nuova gestione scarico prodotti immagini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuova gestione scarico prodotti immagini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,825 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 209) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:13,836 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'ottimizzazione scarico immagini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'ottimizzazione scarico immagini.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,850 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 338 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 338, null, left('ottimizzazione scarico immagini', 150)
            , 'molina', convert(datetime, '2020-09-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-23 00:00:00', 120), dt_upd = NULL
         , title = left('ottimizzazione scarico immagini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ottimizzazione scarico immagini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,857 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 338 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 338, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-23 12:40:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-09-23 12:40:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-23 12:40:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,861 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\ottimizzazione scarico immagini.task\i.txt
2021-03-07 18:14:13,872 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1000;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1000, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-23 12:40:51', 120));
2021-03-07 18:14:13,875 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\ottimizzazione scarico immagini.task\i.txt
2021-03-07 18:14:13,876 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 210;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (210, 1000, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-23 12:40:51', 120));
2021-03-07 18:14:13,879 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\ottimizzazione scarico immagini.task\i.txt
2021-03-07 18:14:13,880 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 210) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:13,887 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'rinomina codice dip anche sulle ricerche targa.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'rinomina codice dip anche sulle ricerche targa.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,898 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 339 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 339, null, left('rinomina codice dip anche sulle ricerche targa', 150)
            , 'molina', convert(datetime, '2020-08-11 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-11 00:00:00', 120), dt_upd = NULL
         , title = left('rinomina codice dip anche sulle ricerche targa', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-11 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rinomina codice dip anche sulle ricerche targa', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,904 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 339 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 339, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-11 18:19:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-11 18:19:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-11 18:19:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,911 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\rinomina codice dip anche sulle ricerche targa.task\i.txt
2021-03-07 18:14:13,918 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1001;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1001, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-11 18:19:58', 120));
2021-03-07 18:14:13,921 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\rinomina codice dip anche sulle ricerche targa.task\i.txt
2021-03-07 18:14:13,922 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 211;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (211, 1001, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-11 18:19:58', 120));
2021-03-07 18:14:13,925 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\rinomina codice dip anche sulle ricerche targa.task\i.txt
2021-03-07 18:14:13,926 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 211) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:13,934 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = ' capitato di avere il product_id della LISTINIPRODOTTI disallineato.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, ' capitato di avere il product_id della LISTINIPRODOTTI disallineato.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,947 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 340 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 340, null, left(' capitato di avere il product_id della LISTINIPRODOTTI disallineato', 150)
            , 'molina', convert(datetime, '2020-07-20 00:00:00', 120), NULL, 1
            , NULL, NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-20 00:00:00', 120), dt_upd = NULL
         , title = left(' capitato di avere il product_id della LISTINIPRODOTTI disallineato', 150), [user] = 'molina'
         , stato = NULL, priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-20 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull(' capitato di avere il product_id della LISTINIPRODOTTI disallineato', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull(NULL, '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,954 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 212) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:13,966 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'scheduler';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'scheduler', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,974 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 341 
        and folder_name = 'invio mail cambio listini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 341, 'invio mail cambio listini.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,986 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 342 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 342, null, left('invio mail cambio listini', 150)
            , 'molina', convert(datetime, '2020-11-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-23 00:00:00', 120), dt_upd = NULL
         , title = left('invio mail cambio listini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('invio mail cambio listini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,993 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 342 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 342, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-23 11:43:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-11-23 11:43:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-23 11:43:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:13,997 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\scheduler\invio mail cambio listini.task\i.txt
2021-03-07 18:14:14,004 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1002;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1002, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-23 11:43:45', 120));
2021-03-07 18:14:14,007 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\scheduler\invio mail cambio listini.task\i.txt
2021-03-07 18:14:14,008 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 213;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (213, 1002, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-23 11:43:45', 120));
2021-03-07 18:14:14,011 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\scheduler\invio mail cambio listini.task\i.txt
2021-03-07 18:14:14,013 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 213) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:14,020 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 341 
        and folder_name = 'ottimizzare e gestire meglio errori scheduler .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 341, 'ottimizzare e gestire meglio errori scheduler .task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,026 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 343 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 343, null, left('ottimizzare e gestire meglio errori scheduler ', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ottimizzare e gestire meglio errori scheduler ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ottimizzare e gestire meglio errori scheduler ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,032 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 343 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 343, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-11 11:03:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-11-11 11:03:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-11 11:03:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,036 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\scheduler\ottimizzare e gestire meglio errori scheduler .task\content.sql
2021-03-07 18:14:14,045 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1003;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1003, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-11 11:03:52', 120));
2021-03-07 18:14:14,048 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\scheduler\ottimizzare e gestire meglio errori scheduler .task\content.sql
2021-03-07 18:14:14,049 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 343 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 343, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,053 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\scheduler\ottimizzare e gestire meglio errori scheduler .task\i.txt
2021-03-07 18:14:14,061 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1004;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1004, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
2021-03-07 18:14:14,063 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\scheduler\ottimizzare e gestire meglio errori scheduler .task\i.txt
2021-03-07 18:14:14,064 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 214;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (214, 1004, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
2021-03-07 18:14:14,067 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\scheduler\ottimizzare e gestire meglio errori scheduler .task\i.txt
2021-03-07 18:14:14,068 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 214) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:14,076 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'sito web';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'sito web', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,082 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 344 
        and folder_name = 'aggiornamento intelligente meta_description.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 344, 'aggiornamento intelligente meta_description.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,091 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 345 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 345, null, left('aggiornamento intelligente meta_description', 150)
            , 'molina', convert(datetime, '2020-10-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-29 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornamento intelligente meta_description', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornamento intelligente meta_description', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,096 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 345 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 345, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-29 17:01:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-29 17:01:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-29 17:01:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,101 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\sito web\aggiornamento intelligente meta_description.task\i.txt
2021-03-07 18:14:14,108 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1005;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1005, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-29 17:01:23', 120));
2021-03-07 18:14:14,112 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\aggiornamento intelligente meta_description.task\i.txt
2021-03-07 18:14:14,113 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 215;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (215, 1005, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-29 17:01:23', 120));
2021-03-07 18:14:14,116 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\aggiornamento intelligente meta_description.task\i.txt
2021-03-07 18:14:14,117 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 215) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:14,124 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 344 
        and folder_name = 'aggiornamento macchine.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 344, 'aggiornamento macchine.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,135 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 346 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 346, null, left('aggiornamento macchine', 150)
            , 'molina', convert(datetime, '2020-10-22 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-22 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornamento macchine', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-22 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornamento macchine', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,141 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 346 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 346, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-22 12:24:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-22 12:24:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-22 12:24:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,145 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\sito web\aggiornamento macchine.task\i.txt
2021-03-07 18:14:14,152 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1006;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1006, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-22 12:24:07', 120));
2021-03-07 18:14:14,155 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\aggiornamento macchine.task\i.txt
2021-03-07 18:14:14,156 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 216;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (216, 1006, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-22 12:24:07', 120));
2021-03-07 18:14:14,159 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\aggiornamento macchine.task\i.txt
2021-03-07 18:14:14,160 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 216) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:14,167 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 344 
        and folder_name = 'disponibilit sul sito non allineata.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 344, 'disponibilit sul sito non allineata.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,176 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 347 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 347, null, left('disponibilit sul sito non allineata', 150)
            , 'molina', convert(datetime, '2020-07-27 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-27 00:00:00', 120), dt_upd = NULL
         , title = left('disponibilit sul sito non allineata', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('disponibilit sul sito non allineata', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,182 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 347 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 347, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 09:04:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-28 09:04:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 09:04:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,187 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\sito web\disponibilit sul sito non allineata.task\i.txt
2021-03-07 18:14:14,195 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1007;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1007, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 09:04:01', 120));
2021-03-07 18:14:14,198 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\disponibilit sul sito non allineata.task\i.txt
2021-03-07 18:14:14,199 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 217;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (217, 1007, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 09:04:01', 120));
2021-03-07 18:14:14,203 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\disponibilit sul sito non allineata.task\i.txt
2021-03-07 18:14:14,204 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 347 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 347, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-27 18:04:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-27 18:04:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 18:04:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,209 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\sito web\disponibilit sul sito non allineata.task\sql.sql
2021-03-07 18:14:14,217 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1008;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1008, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-27 18:04:10', 120));
2021-03-07 18:14:14,220 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\disponibilit sul sito non allineata.task\sql.sql
2021-03-07 18:14:14,221 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 217) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:14,231 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 344 
        and folder_name = 'esecuzione proc_day bloccata.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 344, 'esecuzione proc_day bloccata.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,241 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 348 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 348, null, left('esecuzione proc_day bloccata', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', 'alta', 'controllo', NULL, convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('esecuzione proc_day bloccata', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('esecuzione proc_day bloccata', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,248 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 348 and file_name = 'esecuzione proc_day bloccata.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 348, 'esecuzione proc_day bloccata.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 09:18:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-28 09:18:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 09:18:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,253 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\sito web\esecuzione proc_day bloccata.task\esecuzione proc_day bloccata.txt
2021-03-07 18:14:14,263 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1009;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1009, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 09:18:45', 120));
2021-03-07 18:14:14,267 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\esecuzione proc_day bloccata.task\esecuzione proc_day bloccata.txt
2021-03-07 18:14:14,268 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 348 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 348, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 09:21:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-28 09:21:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 09:21:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,273 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\sito web\esecuzione proc_day bloccata.task\i.txt
2021-03-07 18:14:14,281 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1010;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1010, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 09:21:49', 120));
2021-03-07 18:14:14,285 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\esecuzione proc_day bloccata.task\i.txt
2021-03-07 18:14:14,286 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 218;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (218, 1010, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 09:21:49', 120));
2021-03-07 18:14:14,290 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\esecuzione proc_day bloccata.task\i.txt
2021-03-07 18:14:14,291 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 218) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:14,300 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 344 
        and folder_name = 'non si aggiornano correttamente prezzo e metas.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 344, 'non si aggiornano correttamente prezzo e metas.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,311 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 349 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 349, null, left('non si aggiornano correttamente prezzo e metas', 150)
            , 'molina', convert(datetime, '2020-10-13 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-13 00:00:00', 120), dt_upd = NULL
         , title = left('non si aggiornano correttamente prezzo e metas', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-13 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('non si aggiornano correttamente prezzo e metas', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,330 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 349 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 349, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-13 16:04:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-13 16:04:08', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-13 16:04:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,339 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\sito web\non si aggiornano correttamente prezzo e metas.task\i.txt
2021-03-07 18:14:14,347 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1011;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1011, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-13 16:04:08', 120));
2021-03-07 18:14:14,350 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\non si aggiornano correttamente prezzo e metas.task\i.txt
2021-03-07 18:14:14,351 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 219;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (219, 1011, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-13 16:04:08', 120));
2021-03-07 18:14:14,354 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\non si aggiornano correttamente prezzo e metas.task\i.txt
2021-03-07 18:14:14,355 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 219) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:14,364 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 344 
        and folder_name = 'ogni tanto il buffer si inchioda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 344, 'ogni tanto il buffer si inchioda.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,376 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 350 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 350, null, left('ogni tanto il buffer si inchioda', 150)
            , 'molina', convert(datetime, '2020-08-11 00:00:00', 120), NULL, 1
            , 'fatto', 'altissima', 'fix', NULL, convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-11 00:00:00', 120), dt_upd = NULL
         , title = left('ogni tanto il buffer si inchioda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'altissima'
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-11 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ogni tanto il buffer si inchioda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('altissima', '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,383 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 350 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 350, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-17 08:40:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-17 08:40:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-17 08:40:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,390 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\sito web\ogni tanto il buffer si inchioda.task\i.txt
2021-03-07 18:14:14,403 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1012;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1012, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-17 08:40:40', 120));
2021-03-07 18:14:14,406 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\ogni tanto il buffer si inchioda.task\i.txt
2021-03-07 18:14:14,407 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 220;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (220, 1012, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-17 08:40:40', 120));
2021-03-07 18:14:14,410 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\ogni tanto il buffer si inchioda.task\i.txt
2021-03-07 18:14:14,411 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 220) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:14,421 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'timeout - dipa scripts crm e recalc ordini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'timeout - dipa scripts crm e recalc ordini.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,433 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 351 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 351, null, left('timeout - dipa scripts crm e recalc ordini', 150)
            , 'molina', convert(datetime, '2020-07-27 00:00:00', 120), NULL, 1
            , 'fatto', 'alta', 'controllo', NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-27 00:00:00', 120), dt_upd = NULL
         , title = left('timeout - dipa scripts crm e recalc ordini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('timeout - dipa scripts crm e recalc ordini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,439 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 351 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 351, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 08:59:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-29 08:59:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 08:59:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,444 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\timeout - dipa scripts crm e recalc ordini.task\i.txt
2021-03-07 18:14:14,452 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1013;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1013, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 08:59:58', 120));
2021-03-07 18:14:14,455 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\timeout - dipa scripts crm e recalc ordini.task\i.txt
2021-03-07 18:14:14,456 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 221;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (221, 1013, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 08:59:58', 120));
2021-03-07 18:14:14,458 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\timeout - dipa scripts crm e recalc ordini.task\i.txt
2021-03-07 18:14:14,459 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 351 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 351, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-27 11:02:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-27 11:02:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 11:02:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,463 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\timeout - dipa scripts crm e recalc ordini.task\sql.sql
2021-03-07 18:14:14,470 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1014;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1014, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-27 11:02:07', 120));
2021-03-07 18:14:14,472 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\timeout - dipa scripts crm e recalc ordini.task\sql.sql
2021-03-07 18:14:14,473 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 221) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:14,483 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'sistema';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'sistema', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,490 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 352 
        and folder_name = 'login applicazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 352, 'login applicazioni.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,500 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 353 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 353, null, left('login applicazioni', 150)
            , 'molina', convert(datetime, '2020-10-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-09 00:00:00', 120), dt_upd = NULL
         , title = left('login applicazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('login applicazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,507 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 353 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 353, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-09 17:32:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-09 17:32:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-09 17:32:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,512 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sistema\login applicazioni.task\i.txt
2021-03-07 18:14:14,523 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1015;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1015, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-09 17:32:22', 120));
2021-03-07 18:14:14,526 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sistema\login applicazioni.task\i.txt
2021-03-07 18:14:14,527 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 222;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (222, 1015, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-09 17:32:22', 120));
2021-03-07 18:14:14,529 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sistema\login applicazioni.task\i.txt
2021-03-07 18:14:14,530 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 222) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:14,538 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 352 
        and folder_name = 'nuova tabella LOG_SCHEDULER.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 352, 'nuova tabella LOG_SCHEDULER.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,548 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 354 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 354, null, left('nuova tabella LOG_SCHEDULER', 150)
            , 'molina', convert(datetime, '2020-07-31 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-31 00:00:00', 120), dt_upd = NULL
         , title = left('nuova tabella LOG_SCHEDULER', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-31 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuova tabella LOG_SCHEDULER', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,554 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 354 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 354, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 16:54:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-31 16:54:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-31 16:54:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,558 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sistema\nuova tabella LOG_SCHEDULER.task\i.txt
2021-03-07 18:14:14,567 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1016;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1016, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 16:54:09', 120));
2021-03-07 18:14:14,569 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sistema\nuova tabella LOG_SCHEDULER.task\i.txt
2021-03-07 18:14:14,570 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 223;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (223, 1016, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 16:54:09', 120));
2021-03-07 18:14:14,573 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sistema\nuova tabella LOG_SCHEDULER.task\i.txt
2021-03-07 18:14:14,574 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 354 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 354, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 12:33:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-31 12:33:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-31 12:33:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,579 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sistema\nuova tabella LOG_SCHEDULER.task\sql.sql
2021-03-07 18:14:14,584 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1017;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1017, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 12:33:19', 120));
2021-03-07 18:14:14,587 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sistema\nuova tabella LOG_SCHEDULER.task\sql.sql
2021-03-07 18:14:14,588 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 223) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:14,596 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 352 
        and folder_name = 'via tutte le tabelle e procedure ZZ_.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 352, 'via tutte le tabelle e procedure ZZ_.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,601 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 355 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 355, null, left('via tutte le tabelle e procedure ZZ_', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('via tutte le tabelle e procedure ZZ_', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('via tutte le tabelle e procedure ZZ_', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,607 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 224) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:14,615 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'sito web';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'sito web', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,619 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'aggiunta campo collo,bancale ritiro.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'aggiunta campo collo,bancale ritiro.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:08', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,629 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 357 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 357, null, left('aggiunta campo collo,bancale ritiro', 150)
            , 'molina', convert(datetime, '2021-01-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-15 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta campo collo,bancale ritiro', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:08', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta campo collo,bancale ritiro', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,636 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 357 and file_name = '1.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 357, '1.png', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-18 11:06:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-18 11:06:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-18 11:06:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,641 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\aggiunta campo collo,bancale ritiro.task\1.png
2021-03-07 18:14:14,642 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 357 and file_name = '2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 357, '2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-18 11:06:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-18 11:06:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-18 11:06:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,646 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\aggiunta campo collo,bancale ritiro.task\2.png
2021-03-07 18:14:14,648 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 357 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 357, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 18:19:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 18:19:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 18:19:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,666 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\aggiunta campo collo,bancale ritiro.task\i.txt
2021-03-07 18:14:14,675 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1020;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1020, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 18:19:56', 120));
2021-03-07 18:14:14,678 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\aggiunta campo collo,bancale ritiro.task\i.txt
2021-03-07 18:14:14,679 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 225;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (225, 1020, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 18:19:56', 120));
2021-03-07 18:14:14,681 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sito web\aggiunta campo collo,bancale ritiro.task\i.txt
2021-03-07 18:14:14,683 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 225) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:14,693 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'carrello lavorazioni SINTRA.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'carrello lavorazioni SINTRA.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,705 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 358 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 358, null, left('carrello lavorazioni SINTRA', 150)
            , 'molina', convert(datetime, '2020-08-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_giorni', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-21 00:00:00', 120), dt_upd = NULL
         , title = left('carrello lavorazioni SINTRA', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('carrello lavorazioni SINTRA', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,711 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 358 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 358, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 12:03:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-21 12:03:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-21 12:03:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,715 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\carrello lavorazioni SINTRA.task\i.txt
2021-03-07 18:14:14,724 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1021;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1021, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 12:03:09', 120));
2021-03-07 18:14:14,727 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\carrello lavorazioni SINTRA.task\i.txt
2021-03-07 18:14:14,728 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 226;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (226, 1021, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 12:03:09', 120));
2021-03-07 18:14:14,732 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sito web\carrello lavorazioni SINTRA.task\i.txt
2021-03-07 18:14:14,733 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 358 and file_name = 'LAVS_IMPORT_SINTRA.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 358, 'LAVS_IMPORT_SINTRA.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 12:10:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-21 12:10:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-21 12:10:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,738 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\carrello lavorazioni SINTRA.task\LAVS_IMPORT_SINTRA.sql
2021-03-07 18:14:14,748 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1022;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1022, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 12:10:38', 120));
2021-03-07 18:14:14,751 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\carrello lavorazioni SINTRA.task\LAVS_IMPORT_SINTRA.sql
2021-03-07 18:14:14,752 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 358 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 358, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 12:19:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-21 12:19:53', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-21 12:19:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,756 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\carrello lavorazioni SINTRA.task\sql.sql
2021-03-07 18:14:14,762 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1023;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1023, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 12:19:53', 120));
2021-03-07 18:14:14,765 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\carrello lavorazioni SINTRA.task\sql.sql
2021-03-07 18:14:14,766 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 226) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:14,775 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'check utente ceabdue@libero.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'check utente ceabdue@libero.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,786 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 359 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 359, null, left('check utente ceabdue@libero', 150)
            , 'molina', convert(datetime, '2020-07-07 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:39:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-07 00:00:00', 120), dt_upd = NULL
         , title = left('check utente ceabdue@libero', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-07 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('check utente ceabdue@libero', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,792 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 227) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:14,800 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'fatturati e premi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'fatturati e premi.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,809 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 360 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 360, null, left('fatturati e premi', 150)
            , 'molina', convert(datetime, '2020-12-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'settimana', convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-12-14 00:00:00', 120), dt_upd = NULL
         , title = left('fatturati e premi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'settimana', dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-12-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('fatturati e premi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('settimana', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,815 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 360 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 360, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-19 09:22:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-19 09:22:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-19 09:22:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,821 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\fatturati e premi.task\i.txt
2021-03-07 18:14:14,828 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1024;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1024, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-19 09:22:06', 120));
2021-03-07 18:14:14,832 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\fatturati e premi.task\i.txt
2021-03-07 18:14:14,833 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 228;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (228, 1024, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-19 09:22:06', 120));
2021-03-07 18:14:14,836 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sito web\fatturati e premi.task\i.txt
2021-03-07 18:14:14,837 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 228) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:14,844 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'listino da scaricare per i clienti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'listino da scaricare per i clienti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,854 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 361 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 361, null, left('listino da scaricare per i clienti', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('listino da scaricare per i clienti', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('listino da scaricare per i clienti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,860 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 229) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:14,867 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'pagina php targhe.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'pagina php targhe.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:08', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,873 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 362 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 362, null, left('pagina php targhe', 150)
            , 'molina', convert(datetime, '2021-01-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-15 00:00:00', 120), dt_upd = NULL
         , title = left('pagina php targhe', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:08', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('pagina php targhe', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,879 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 362 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 362, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 11:21:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 11:21:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 11:21:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,883 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\pagina php targhe.task\i.txt
2021-03-07 18:14:14,890 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1025;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1025, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 11:21:34', 120));
2021-03-07 18:14:14,893 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\pagina php targhe.task\i.txt
2021-03-07 18:14:14,894 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 230;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (230, 1025, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 11:21:34', 120));
2021-03-07 18:14:14,898 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sito web\pagina php targhe.task\i.txt
2021-03-07 18:14:14,898 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 362 and file_name = 'rt.bat';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 362, 'rt.bat', '.bat', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 11:22:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 11:22:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 11:22:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,903 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\pagina php targhe.task\rt.bat
2021-03-07 18:14:14,904 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 230) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:14,912 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'pagine interne';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'pagine interne', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,917 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 363 
        and folder_name = '3a autoricambi snc appare due volte nella lista clienti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 363, '3a autoricambi snc appare due volte nella lista clienti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,926 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 364 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 364, null, left('3a autoricambi snc appare due volte nella lista clienti', 150)
            , 'molina', convert(datetime, '2020-07-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-09 00:00:00', 120), dt_upd = NULL
         , title = left('3a autoricambi snc appare due volte nella lista clienti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('3a autoricambi snc appare due volte nella lista clienti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,932 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 231) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:14,939 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 363 
        and folder_name = 'assegnazione agente cliente.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 363, 'assegnazione agente cliente.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,945 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 365 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 365, null, left('assegnazione agente cliente', 150)
            , 'molina', convert(datetime, '2020-10-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-30 00:00:00', 120), dt_upd = NULL
         , title = left('assegnazione agente cliente', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('assegnazione agente cliente', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,951 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 365 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 365, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-30 14:35:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-30 14:35:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-30 14:35:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,956 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\pagine interne\assegnazione agente cliente.task\i.txt
2021-03-07 18:14:14,962 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1027;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1027, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-30 14:35:45', 120));
2021-03-07 18:14:14,965 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\pagine interne\assegnazione agente cliente.task\i.txt
2021-03-07 18:14:14,967 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 232;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (232, 1027, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-30 14:35:45', 120));
2021-03-07 18:14:14,969 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sito web\pagine interne\assegnazione agente cliente.task\i.txt
2021-03-07 18:14:14,970 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 232) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:14,977 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 363 
        and folder_name = 'controllo associazione clienti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 363, 'controllo associazione clienti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,986 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 366 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 366, null, left('controllo associazione clienti', 150)
            , 'molina', convert(datetime, '2020-09-11 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'ora', convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-11 00:00:00', 120), dt_upd = NULL
         , title = left('controllo associazione clienti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-11 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('controllo associazione clienti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,993 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 366 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 366, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-11 17:45:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-09-11 17:45:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-11 17:45:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:14,997 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\pagine interne\controllo associazione clienti.task\i.txt
2021-03-07 18:14:15,005 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1028;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1028, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-11 17:45:42', 120));
2021-03-07 18:14:15,008 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\pagine interne\controllo associazione clienti.task\i.txt
2021-03-07 18:14:15,009 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 233;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (233, 1028, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-11 17:45:42', 120));
2021-03-07 18:14:15,012 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sito web\pagine interne\controllo associazione clienti.task\i.txt
2021-03-07 18:14:15,012 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 233) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:15,019 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 363 
        and folder_name = 'rinfrescata pagina prodotti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 363, 'rinfrescata pagina prodotti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,029 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 367 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 367, null, left('rinfrescata pagina prodotti', 150)
            , 'molina', convert(datetime, '2020-11-03 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-03 00:00:00', 120), dt_upd = NULL
         , title = left('rinfrescata pagina prodotti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-03 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rinfrescata pagina prodotti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,035 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 367 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 367, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-03 12:01:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-11-03 12:01:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-03 12:01:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,040 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\pagine interne\rinfrescata pagina prodotti.task\i.txt
2021-03-07 18:14:15,046 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1029;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1029, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-03 12:01:21', 120));
2021-03-07 18:14:15,050 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\pagine interne\rinfrescata pagina prodotti.task\i.txt
2021-03-07 18:14:15,050 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 234;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (234, 1029, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-03 12:01:21', 120));
2021-03-07 18:14:15,053 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sito web\pagine interne\rinfrescata pagina prodotti.task\i.txt
2021-03-07 18:14:15,054 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 234) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:15,060 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 363 
        and folder_name = 'storico assegnazione agenti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 363, 'storico assegnazione agenti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,067 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 368 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 368, null, left('storico assegnazione agenti', 150)
            , 'molina', convert(datetime, '2020-10-22 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-22 00:00:00', 120), dt_upd = NULL
         , title = left('storico assegnazione agenti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-22 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('storico assegnazione agenti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,072 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 368 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 368, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-22 10:13:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-22 10:13:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-22 10:13:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,077 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\pagine interne\storico assegnazione agenti.task\i.txt
2021-03-07 18:14:15,084 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1030;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1030, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-22 10:13:05', 120));
2021-03-07 18:14:15,087 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\pagine interne\storico assegnazione agenti.task\i.txt
2021-03-07 18:14:15,088 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 235;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (235, 1030, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-22 10:13:05', 120));
2021-03-07 18:14:15,091 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sito web\pagine interne\storico assegnazione agenti.task\i.txt
2021-03-07 18:14:15,092 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 235) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:15,100 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'premi cliente.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'premi cliente.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:08', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,110 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 369 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 369, null, left('premi cliente', 150)
            , 'molina', convert(datetime, '2021-01-14 00:00:00', 120), NULL, 1
            , 'fatto', 'alta', 'aggiunta', 'tre_giorni', convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-14 00:00:00', 120), dt_upd = NULL
         , title = left('premi cliente', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'aggiunta', stima = 'tre_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:08', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('premi cliente', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('tre_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,116 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 369 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 369, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-22 10:02:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-22 10:02:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-22 10:02:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,120 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\premi cliente.task\i.txt
2021-03-07 18:14:15,127 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1031;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1031, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-22 10:02:16', 120));
2021-03-07 18:14:15,130 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\premi cliente.task\i.txt
2021-03-07 18:14:15,132 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 236;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (236, 1031, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-22 10:02:16', 120));
2021-03-07 18:14:15,135 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sito web\premi cliente.task\i.txt
2021-03-07 18:14:15,136 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 236) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:15,143 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'ricerche targa';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'ricerche targa', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,147 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 370 
        and folder_name = 'cancellazione virtuale ricerche.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 370, 'cancellazione virtuale ricerche.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,156 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 371 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 371, null, left('cancellazione virtuale ricerche', 150)
            , 'molina', convert(datetime, '2020-09-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-30 00:00:00', 120), dt_upd = NULL
         , title = left('cancellazione virtuale ricerche', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('cancellazione virtuale ricerche', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,162 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 371 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 371, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-30 18:14:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-09-30 18:14:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-30 18:14:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,167 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\ricerche targa\cancellazione virtuale ricerche.task\i.txt
2021-03-07 18:14:15,172 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1032;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1032, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-30 18:14:23', 120));
2021-03-07 18:14:15,175 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\ricerche targa\cancellazione virtuale ricerche.task\i.txt
2021-03-07 18:14:15,176 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 237;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (237, 1032, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-30 18:14:23', 120));
2021-03-07 18:14:15,179 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sito web\ricerche targa\cancellazione virtuale ricerche.task\i.txt
2021-03-07 18:14:15,180 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 237) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:15,187 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'upload documenti alyante.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'upload documenti alyante.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,198 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 372 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 372, null, left('upload documenti alyante', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', 'alta', 'aggiunta', 'tre_giorni', convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('upload documenti alyante', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = 'alta'
         , tipo = 'aggiunta', stima = 'tre_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('upload documenti alyante', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('tre_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,203 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 238) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:15,210 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'upload documenti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'upload documenti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,220 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 373 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 373, null, left('upload documenti', 150)
            , 'molina', convert(datetime, '2021-02-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'tre_giorni', convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-02-23 00:00:00', 120), dt_upd = NULL
         , title = left('upload documenti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'tre_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-02-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('upload documenti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('tre_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,226 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 373 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 373, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-26 17:27:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-02-26 17:27:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-26 17:27:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,231 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\upload documenti.task\i.txt
2021-03-07 18:14:15,239 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1033;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1033, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-26 17:27:03', 120));
2021-03-07 18:14:15,243 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\upload documenti.task\i.txt
2021-03-07 18:14:15,243 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 239;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (239, 1033, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-26 17:27:03', 120));
2021-03-07 18:14:15,246 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sito web\upload documenti.task\i.txt
2021-03-07 18:14:15,247 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 373 and file_name = 'synch docs.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 373, 'synch docs.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-26 17:27:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-02-26 17:27:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-26 17:27:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,252 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\upload documenti.task\synch docs.sql
2021-03-07 18:14:15,258 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1034;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1034, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-26 17:27:04', 120));
2021-03-07 18:14:15,262 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\upload documenti.task\synch docs.sql
2021-03-07 18:14:15,262 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 239) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:15,271 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'spedizioni corrieri';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'spedizioni corrieri', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,276 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'bartolini';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'bartolini', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,280 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 375 
        and folder_name = 'Implementare i tracking number BRT.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 375, 'Implementare i tracking number BRT.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,291 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 376 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 376, null, left('Implementare i tracking number BRT', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('Implementare i tracking number BRT', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:11', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('Implementare i tracking number BRT', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,297 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 376 and file_name = 'R Tracking BRT.msg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 376, 'R Tracking BRT.msg', '.msg', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 08:36:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-17 08:36:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-17 08:36:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,303 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\bartolini\Implementare i tracking number BRT.task\R Tracking BRT.msg
2021-03-07 18:14:15,305 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 376 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 376, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-18 17:55:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-18 17:55:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-18 17:55:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,310 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\bartolini\Implementare i tracking number BRT.task\sql.sql
2021-03-07 18:14:15,316 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1036;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1036, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-18 17:55:19', 120));
2021-03-07 18:14:15,319 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\bartolini\Implementare i tracking number BRT.task\sql.sql
2021-03-07 18:14:15,320 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 240) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:15,328 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 375 
        and folder_name = 'tre ordini bartolini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 375, 'tre ordini bartolini.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,336 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 377 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 377, null, left('tre ordini bartolini', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('tre ordini bartolini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:11', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('tre ordini bartolini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,343 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 377 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 377, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-11 09:23:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-11 09:23:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-11 09:23:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,347 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\bartolini\tre ordini bartolini.task\content.sql
2021-03-07 18:14:15,352 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1037;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1037, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-11 09:23:55', 120));
2021-03-07 18:14:15,355 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\bartolini\tre ordini bartolini.task\content.sql
2021-03-07 18:14:15,356 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 241) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:15,363 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'cambio dei cap in lombardia.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'cambio dei cap in lombardia.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:59', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,369 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 378 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 378, null, left('cambio dei cap in lombardia', 150)
            , 'molina', convert(datetime, '2020-07-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:39:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-28 00:00:00', 120), dt_upd = NULL
         , title = left('cambio dei cap in lombardia', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:59', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('cambio dei cap in lombardia', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,375 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 378 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 378, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 17:29:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-28 17:29:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 17:29:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,380 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\cambio dei cap in lombardia.task\i.txt
2021-03-07 18:14:15,389 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1038;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1038, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 17:29:34', 120));
2021-03-07 18:14:15,391 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\cambio dei cap in lombardia.task\i.txt
2021-03-07 18:14:15,392 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 242;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (242, 1038, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 17:29:34', 120));
2021-03-07 18:14:15,395 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\spedizioni corrieri\cambio dei cap in lombardia.task\i.txt
2021-03-07 18:14:15,396 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 378 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 378, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 08:32:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-29 08:32:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 08:32:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,401 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\cambio dei cap in lombardia.task\sql.sql
2021-03-07 18:14:15,407 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1039;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1039, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 08:32:26', 120));
2021-03-07 18:14:15,410 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\cambio dei cap in lombardia.task\sql.sql
2021-03-07 18:14:15,411 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 242) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:15,419 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'check resi no rip spedizioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'check resi no rip spedizioni.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,425 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 379 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 379, null, left('check resi no rip spedizioni', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('check resi no rip spedizioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:11', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('check resi no rip spedizioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,432 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 379 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 379, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-02 11:04:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-02 11:04:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 11:04:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,438 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\check resi no rip spedizioni.task\content.sql
2021-03-07 18:14:15,444 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1040;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1040, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-02 11:04:46', 120));
2021-03-07 18:14:15,447 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\check resi no rip spedizioni.task\content.sql
2021-03-07 18:14:15,450 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 243) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:15,461 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'chiusura corrieri a volte rimangono dei WAIT.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'chiusura corrieri a volte rimangono dei WAIT.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,471 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 380 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 380, null, left('chiusura corrieri a volte rimangono dei WAIT', 150)
            , 'molina', convert(datetime, '2020-07-31 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-31 00:00:00', 120), dt_upd = NULL
         , title = left('chiusura corrieri a volte rimangono dei WAIT', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-31 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('chiusura corrieri a volte rimangono dei WAIT', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,478 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 380 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 380, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 10:54:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-31 10:54:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-31 10:54:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,482 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\chiusura corrieri a volte rimangono dei WAIT.task\i.txt
2021-03-07 18:14:15,492 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1041;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1041, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 10:54:48', 120));
2021-03-07 18:14:15,496 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\chiusura corrieri a volte rimangono dei WAIT.task\i.txt
2021-03-07 18:14:15,496 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 244;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (244, 1041, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 10:54:48', 120));
2021-03-07 18:14:15,500 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\spedizioni corrieri\chiusura corrieri a volte rimangono dei WAIT.task\i.txt
2021-03-07 18:14:15,501 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 244) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:15,508 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'controlli spedizioni EDP.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'controlli spedizioni EDP.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,515 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 381 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 381, null, left('controlli spedizioni EDP', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('controlli spedizioni EDP', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:11', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('controlli spedizioni EDP', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,521 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 381 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 381, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-18 10:08:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-18 10:08:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-18 10:08:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,527 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\controlli spedizioni EDP.task\content.sql
2021-03-07 18:14:15,533 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1042;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1042, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-18 10:08:35', 120));
2021-03-07 18:14:15,536 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\controlli spedizioni EDP.task\content.sql
2021-03-07 18:14:15,538 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 245) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:15,545 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'corriere ctl domandina.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'corriere ctl domandina.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,552 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 382 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 382, null, left('corriere ctl domandina', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('corriere ctl domandina', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('corriere ctl domandina', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,559 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 382 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 382, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-11 15:20:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-11 15:20:37', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-11 15:20:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,563 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\corriere ctl domandina.task\content.sql
2021-03-07 18:14:15,570 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1043;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1043, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-11 15:20:37', 120));
2021-03-07 18:14:15,574 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\corriere ctl domandina.task\content.sql
2021-03-07 18:14:15,575 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 246) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:15,582 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'corrieri.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'corrieri.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,589 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 383 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 383, null, left('corrieri', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('corrieri', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('corrieri', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,595 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 383 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 383, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 09:34:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 09:34:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 09:34:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,601 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\corrieri.task\content.sql
2021-03-07 18:14:15,607 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1044;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1044, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 09:34:50', 120));
2021-03-07 18:14:15,610 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\corrieri.task\content.sql
2021-03-07 18:14:15,610 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 247) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:15,619 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'da un orario in poi cambio di corriere.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'da un orario in poi cambio di corriere.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,629 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 384 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 384, null, left('da un orario in poi cambio di corriere', 150)
            , 'molina', convert(datetime, '2020-06-23 00:00:00', 120), NULL, 1
            , 'fatto', 'alta', 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:39:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-23 00:00:00', 120), dt_upd = NULL
         , title = left('da un orario in poi cambio di corriere', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('da un orario in poi cambio di corriere', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,636 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 384 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 384, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-23 16:31:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-23 16:31:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-23 16:31:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,640 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\da un orario in poi cambio di corriere.task\sql.sql
2021-03-07 18:14:15,647 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1045;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1045, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-23 16:31:13', 120));
2021-03-07 18:14:15,651 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\da un orario in poi cambio di corriere.task\sql.sql
2021-03-07 18:14:15,652 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 248) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:15,659 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'gestione porto L.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'gestione porto L.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,666 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 385 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 385, null, left('gestione porto L', 150)
            , 'molina', convert(datetime, '2021-01-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-15 00:00:00', 120), dt_upd = NULL
         , title = left('gestione porto L', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione porto L', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,672 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 385 and file_name = '1.PNG';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 385, '1.PNG', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:04:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 16:04:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 16:04:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,677 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\gestione porto L.task\1.PNG
2021-03-07 18:14:15,678 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 385 and file_name = '2.PNG';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 385, '2.PNG', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:04:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 16:04:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 16:04:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,683 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\gestione porto L.task\2.PNG
2021-03-07 18:14:15,684 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 385 and file_name = '3.PNG';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 385, '3.PNG', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:04:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 16:04:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 16:04:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,689 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\gestione porto L.task\3.PNG
2021-03-07 18:14:15,690 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 385 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 385, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:04:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 16:04:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 16:04:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,696 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\gestione porto L.task\i.txt
2021-03-07 18:14:15,704 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1049;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1049, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:04:23', 120));
2021-03-07 18:14:15,707 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\gestione porto L.task\i.txt
2021-03-07 18:14:15,708 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 249;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (249, 1049, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:04:23', 120));
2021-03-07 18:14:15,711 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\spedizioni corrieri\gestione porto L.task\i.txt
2021-03-07 18:14:15,712 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 385 and file_name = 'porto L.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 385, 'porto L.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:41:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 16:41:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 16:41:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,717 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\gestione porto L.task\porto L.sql
2021-03-07 18:14:15,724 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1050;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1050, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:41:23', 120));
2021-03-07 18:14:15,728 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\gestione porto L.task\porto L.sql
2021-03-07 18:14:15,729 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 249) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:15,738 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'i resi no rip non devono andare in multicollo.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'i resi no rip non devono andare in multicollo.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,746 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 386 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 386, null, left('i resi no rip non devono andare in multicollo', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('i resi no rip non devono andare in multicollo', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('i resi no rip non devono andare in multicollo', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,753 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 386 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 386, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-02 10:22:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-02 10:22:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 10:22:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,758 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\i resi no rip non devono andare in multicollo.task\content.sql
2021-03-07 18:14:15,763 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1051;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1051, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-02 10:22:23', 120));
2021-03-07 18:14:15,766 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\i resi no rip non devono andare in multicollo.task\content.sql
2021-03-07 18:14:15,767 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 250) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:15,778 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'indirizzi senza provincia.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'indirizzi senza provincia.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,784 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 387 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 387, null, left('indirizzi senza provincia', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('indirizzi senza provincia', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('indirizzi senza provincia', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,790 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 387 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 387, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-24 08:43:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-24 08:43:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-24 08:43:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,795 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\indirizzi senza provincia.task\content.sql
2021-03-07 18:14:15,801 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1052;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1052, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-24 08:43:02', 120));
2021-03-07 18:14:15,805 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\indirizzi senza provincia.task\content.sql
2021-03-07 18:14:15,806 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 251) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:15,813 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'indirizzo spedizione bazzolo.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'indirizzo spedizione bazzolo.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,821 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 388 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 388, null, left('indirizzo spedizione bazzolo', 150)
            , 'molina', convert(datetime, '2020-07-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-29 00:00:00', 120), dt_upd = NULL
         , title = left('indirizzo spedizione bazzolo', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('indirizzo spedizione bazzolo', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,828 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 388 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 388, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 15:42:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-29 15:42:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 15:42:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,834 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\indirizzo spedizione bazzolo.task\i.txt
2021-03-07 18:14:15,841 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1053;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1053, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 15:42:39', 120));
2021-03-07 18:14:15,845 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\indirizzo spedizione bazzolo.task\i.txt
2021-03-07 18:14:15,846 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 252;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (252, 1053, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 15:42:39', 120));
2021-03-07 18:14:15,849 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\spedizioni corrieri\indirizzo spedizione bazzolo.task\i.txt
2021-03-07 18:14:15,850 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 388 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 388, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 15:36:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-29 15:36:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 15:36:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,855 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\indirizzo spedizione bazzolo.task\sql.sql
2021-03-07 18:14:15,860 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1054;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1054, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 15:36:25', 120));
2021-03-07 18:14:15,864 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\indirizzo spedizione bazzolo.task\sql.sql
2021-03-07 18:14:15,865 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 252) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:15,872 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'mail di riepilogo spedizioni per ECOMMERCEPARTS .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'mail di riepilogo spedizioni per ECOMMERCEPARTS .task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,882 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 389 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 389, null, left('mail di riepilogo spedizioni per ECOMMERCEPARTS ', 150)
            , 'molina', convert(datetime, '2020-07-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', NULL, convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-30 00:00:00', 120), dt_upd = NULL
         , title = left('mail di riepilogo spedizioni per ECOMMERCEPARTS ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('mail di riepilogo spedizioni per ECOMMERCEPARTS ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,889 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 389 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 389, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-30 15:41:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-30 15:41:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 15:41:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,894 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\mail di riepilogo spedizioni per ECOMMERCEPARTS .task\i.txt
2021-03-07 18:14:15,902 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1055;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1055, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-30 15:41:35', 120));
2021-03-07 18:14:15,905 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\mail di riepilogo spedizioni per ECOMMERCEPARTS .task\i.txt
2021-03-07 18:14:15,905 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 253;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (253, 1055, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-30 15:41:35', 120));
2021-03-07 18:14:15,909 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\spedizioni corrieri\mail di riepilogo spedizioni per ECOMMERCEPARTS .task\i.txt
2021-03-07 18:14:15,910 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 389 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 389, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 12:33:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-31 12:33:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-31 12:33:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,915 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\mail di riepilogo spedizioni per ECOMMERCEPARTS .task\sql.sql
2021-03-07 18:14:15,921 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1056;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1056, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 12:33:04', 120));
2021-03-07 18:14:15,925 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\mail di riepilogo spedizioni per ECOMMERCEPARTS .task\sql.sql
2021-03-07 18:14:15,926 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 253) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:15,934 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'margine su tutti i corrieri.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'margine su tutti i corrieri.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,940 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 390 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 390, null, left('margine su tutti i corrieri', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('margine su tutti i corrieri', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('margine su tutti i corrieri', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,946 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 390 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 390, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-29 10:33:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-29 10:33:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-29 10:33:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,950 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\margine su tutti i corrieri.task\content.sql
2021-03-07 18:14:15,955 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1057;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1057, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-29 10:33:25', 120));
2021-03-07 18:14:15,959 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\margine su tutti i corrieri.task\content.sql
2021-03-07 18:14:15,960 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 254) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:15,967 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'NO e VB mettere il corriere da EPD a CTL.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'NO e VB mettere il corriere da EPD a CTL.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,974 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 391 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 391, null, left('NO e VB mettere il corriere da EPD a CTL', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('NO e VB mettere il corriere da EPD a CTL', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('NO e VB mettere il corriere da EPD a CTL', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,980 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 391 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 391, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 09:58:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 09:58:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 09:58:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:15,985 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\NO e VB mettere il corriere da EPD a CTL.task\content.sql
2021-03-07 18:14:15,991 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1058;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1058, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 09:58:14', 120));
2021-03-07 18:14:15,995 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\NO e VB mettere il corriere da EPD a CTL.task\content.sql
2021-03-07 18:14:15,995 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 255) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:16,003 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'risolvi errori.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'risolvi errori.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,012 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 392 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 392, null, left('risolvi errori', 150)
            , 'molina', convert(datetime, '2020-10-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-08 00:00:00', 120), dt_upd = NULL
         , title = left('risolvi errori', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('risolvi errori', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,020 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 392 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 392, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-08 15:58:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-08 15:58:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-08 15:58:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,025 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\risolvi errori.task\i.txt
2021-03-07 18:14:16,033 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1059;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1059, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-08 15:58:12', 120));
2021-03-07 18:14:16,036 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\risolvi errori.task\i.txt
2021-03-07 18:14:16,037 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 256;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (256, 1059, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-08 15:58:12', 120));
2021-03-07 18:14:16,041 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\spedizioni corrieri\risolvi errori.task\i.txt
2021-03-07 18:14:16,042 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 256) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:16,050 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'spedizioni da annullare e rifare.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'spedizioni da annullare e rifare.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,060 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 393 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 393, null, left('spedizioni da annullare e rifare', 150)
            , 'molina', convert(datetime, '2020-07-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-30 00:00:00', 120), dt_upd = NULL
         , title = left('spedizioni da annullare e rifare', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('spedizioni da annullare e rifare', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,067 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 393 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 393, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-30 14:53:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-30 14:53:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 14:53:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,072 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\spedizioni da annullare e rifare.task\i.txt
2021-03-07 18:14:16,079 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1060;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1060, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-30 14:53:14', 120));
2021-03-07 18:14:16,083 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\spedizioni da annullare e rifare.task\i.txt
2021-03-07 18:14:16,084 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 257;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (257, 1060, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-30 14:53:14', 120));
2021-03-07 18:14:16,087 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\spedizioni corrieri\spedizioni da annullare e rifare.task\i.txt
2021-03-07 18:14:16,088 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 257) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:16,097 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'stampa bolle di pi pagine.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'stampa bolle di pi pagine.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,103 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 394 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 394, null, left('stampa bolle di pi pagine', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('stampa bolle di pi pagine', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('stampa bolle di pi pagine', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,109 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 394 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 394, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-12 18:24:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-12 18:24:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-12 18:24:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,113 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\stampa bolle di pi pagine.task\i.txt
2021-03-07 18:14:16,115 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 258) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:16,122 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'statistiche';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'statistiche', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,127 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'aggiornamento mail venduto del giorno.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'aggiornamento mail venduto del giorno.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,137 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 396 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 396, null, left('aggiornamento mail venduto del giorno', 150)
            , 'molina', convert(datetime, '2020-10-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezza', convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-23 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornamento mail venduto del giorno', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:14', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornamento mail venduto del giorno', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,144 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 396 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 396, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-23 16:23:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-23 16:23:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-23 16:23:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,149 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\aggiornamento mail venduto del giorno.task\i.txt
2021-03-07 18:14:16,156 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1062;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1062, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-23 16:23:35', 120));
2021-03-07 18:14:16,159 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\aggiornamento mail venduto del giorno.task\i.txt
2021-03-07 18:14:16,159 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 259;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (259, 1062, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-23 16:23:35', 120));
2021-03-07 18:14:16,162 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\aggiornamento mail venduto del giorno.task\i.txt
2021-03-07 18:14:16,163 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 259) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:16,170 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'aggiunta colonne fatturato.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'aggiunta colonne fatturato.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,180 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 397 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 397, null, left('aggiunta colonne fatturato', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, 'mezza', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta colonne fatturato', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta colonne fatturato', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,186 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 397 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 397, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 11:12:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-21 11:12:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-21 11:12:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,191 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\aggiunta colonne fatturato.task\i.txt
2021-03-07 18:14:16,197 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1063;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1063, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 11:12:07', 120));
2021-03-07 18:14:16,200 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\aggiunta colonne fatturato.task\i.txt
2021-03-07 18:14:16,201 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 260;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (260, 1063, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 11:12:07', 120));
2021-03-07 18:14:16,204 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\aggiunta colonne fatturato.task\i.txt
2021-03-07 18:14:16,205 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 397 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 397, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 08:34:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-21 08:34:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-21 08:34:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,210 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\aggiunta colonne fatturato.task\sql.sql
2021-03-07 18:14:16,215 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1064;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1064, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 08:34:03', 120));
2021-03-07 18:14:16,219 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\aggiunta colonne fatturato.task\sql.sql
2021-03-07 18:14:16,220 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 260) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:16,227 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'carcasse mail riepilogo vendite.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'carcasse mail riepilogo vendite.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,238 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 398 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 398, null, left('carcasse mail riepilogo vendite', 150)
            , 'molina', convert(datetime, '2021-01-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-25 00:00:00', 120), dt_upd = NULL
         , title = left('carcasse mail riepilogo vendite', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:14', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('carcasse mail riepilogo vendite', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,243 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 398 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 398, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-26 14:18:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-26 14:18:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-26 14:18:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,248 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\carcasse mail riepilogo vendite.task\i.txt
2021-03-07 18:14:16,255 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1065;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1065, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-26 14:18:21', 120));
2021-03-07 18:14:16,258 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\carcasse mail riepilogo vendite.task\i.txt
2021-03-07 18:14:16,259 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 261;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (261, 1065, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-26 14:18:21', 120));
2021-03-07 18:14:16,261 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\carcasse mail riepilogo vendite.task\i.txt
2021-03-07 18:14:16,262 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 261) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:16,269 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'col019r non appare dopo il riordino dei pezzi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'col019r non appare dopo il riordino dei pezzi.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,279 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 399 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 399, null, left('col019r non appare dopo il riordino dei pezzi', 150)
            , 'molina', convert(datetime, '2020-08-18 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-18 00:00:00', 120), dt_upd = NULL
         , title = left('col019r non appare dopo il riordino dei pezzi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('col019r non appare dopo il riordino dei pezzi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,285 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 399 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 399, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 12:16:44', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-18 12:16:44', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 12:16:44', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,290 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\col019r non appare dopo il riordino dei pezzi.task\i.txt
2021-03-07 18:14:16,302 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1066;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1066, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 12:16:44', 120));
2021-03-07 18:14:16,305 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\col019r non appare dopo il riordino dei pezzi.task\i.txt
2021-03-07 18:14:16,306 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 262;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (262, 1066, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 12:16:44', 120));
2021-03-07 18:14:16,309 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\col019r non appare dopo il riordino dei pezzi.task\i.txt
2021-03-07 18:14:16,310 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 262) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:16,318 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'considerare le spese nella mail vendite.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'considerare le spese nella mail vendite.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,328 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 400 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 400, null, left('considerare le spese nella mail vendite', 150)
            , 'molina', convert(datetime, '2020-08-12 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', NULL, convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-12 00:00:00', 120), dt_upd = NULL
         , title = left('considerare le spese nella mail vendite', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-12 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('considerare le spese nella mail vendite', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,334 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 400 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 400, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 14:21:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-13 14:21:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-13 14:21:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,338 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\considerare le spese nella mail vendite.task\i.txt
2021-03-07 18:14:16,346 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1067;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1067, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 14:21:23', 120));
2021-03-07 18:14:16,349 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\considerare le spese nella mail vendite.task\i.txt
2021-03-07 18:14:16,349 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 263;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (263, 1067, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 14:21:23', 120));
2021-03-07 18:14:16,352 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\considerare le spese nella mail vendite.task\i.txt
2021-03-07 18:14:16,353 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 400 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 400, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 14:16:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-13 14:16:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-13 14:16:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,358 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\considerare le spese nella mail vendite.task\sql.sql
2021-03-07 18:14:16,364 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1068;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1068, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 14:16:21', 120));
2021-03-07 18:14:16,367 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\considerare le spese nella mail vendite.task\sql.sql
2021-03-07 18:14:16,368 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 263) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:16,376 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'fatturati manager non vanno per codice dipa.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'fatturati manager non vanno per codice dipa.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,385 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 401 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 401, null, left('fatturati manager non vanno per codice dipa', 150)
            , 'molina', convert(datetime, '2020-08-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezzora', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-25 00:00:00', 120), dt_upd = NULL
         , title = left('fatturati manager non vanno per codice dipa', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('fatturati manager non vanno per codice dipa', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,391 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 264) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:16,398 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'fatturato manager - rivisitazione.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'fatturato manager - rivisitazione.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,409 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 402 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 402, null, left('fatturato manager - rivisitazione', 150)
            , 'molina', convert(datetime, '2020-08-12 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_giorni', convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-12 00:00:00', 120), dt_upd = NULL
         , title = left('fatturato manager - rivisitazione', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-12 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('fatturato manager - rivisitazione', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,417 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 402 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 402, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 12:21:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-18 12:21:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 12:21:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,422 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\fatturato manager - rivisitazione.task\i.txt
2021-03-07 18:14:16,429 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1069;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1069, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 12:21:25', 120));
2021-03-07 18:14:16,432 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\fatturato manager - rivisitazione.task\i.txt
2021-03-07 18:14:16,434 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 265;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (265, 1069, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 12:21:25', 120));
2021-03-07 18:14:16,436 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\fatturato manager - rivisitazione.task\i.txt
2021-03-07 18:14:16,437 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 265) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:16,446 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'grafico a torta.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'grafico a torta.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,455 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 403 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 403, null, left('grafico a torta', 150)
            , 'molina', convert(datetime, '2020-08-18 00:00:00', 120), NULL, 1
            , 'sospeso', NULL, 'aggiunta', 'tre_giorni', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-18 00:00:00', 120), dt_upd = NULL
         , title = left('grafico a torta', 150), [user] = 'molina'
         , stato = 'sospeso', priorita = NULL
         , tipo = 'aggiunta', stima = 'tre_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('grafico a torta', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('sospeso', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('tre_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,461 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 403 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 403, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-19 09:07:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-19 09:07:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 09:07:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,466 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\grafico a torta.task\i.txt
2021-03-07 18:14:16,474 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1070;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1070, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-19 09:07:22', 120));
2021-03-07 18:14:16,478 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\grafico a torta.task\i.txt
2021-03-07 18:14:16,478 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 266;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (266, 1070, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-19 09:07:22', 120));
2021-03-07 18:14:16,481 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\grafico a torta.task\i.txt
2021-03-07 18:14:16,482 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 403 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 403, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-29 15:57:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-29 15:57:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:57:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,486 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\grafico a torta.task\sql.sql
2021-03-07 18:14:16,493 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1071;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1071, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-29 15:57:34', 120));
2021-03-07 18:14:16,496 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\grafico a torta.task\sql.sql
2021-03-07 18:14:16,497 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 266) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:16,505 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'i codici MIX non sono inclusi nel fatturato.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'i codici MIX non sono inclusi nel fatturato.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,515 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 404 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 404, null, left('i codici MIX non sono inclusi nel fatturato', 150)
            , 'molina', convert(datetime, '2020-08-12 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-12 00:00:00', 120), dt_upd = NULL
         , title = left('i codici MIX non sono inclusi nel fatturato', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-12 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('i codici MIX non sono inclusi nel fatturato', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,522 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 404 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 404, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 15:08:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-13 15:08:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-13 15:08:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,526 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\i codici MIX non sono inclusi nel fatturato.task\i.txt
2021-03-07 18:14:16,534 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1072;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1072, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 15:08:59', 120));
2021-03-07 18:14:16,538 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\i codici MIX non sono inclusi nel fatturato.task\i.txt
2021-03-07 18:14:16,539 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 267;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (267, 1072, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 15:08:59', 120));
2021-03-07 18:14:16,542 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\i codici MIX non sono inclusi nel fatturato.task\i.txt
2021-03-07 18:14:16,543 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 404 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 404, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 17:34:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-13 17:34:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-13 17:34:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,547 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\i codici MIX non sono inclusi nel fatturato.task\sql.sql
2021-03-07 18:14:16,553 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1073;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1073, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 17:34:04', 120));
2021-03-07 18:14:16,556 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\i codici MIX non sono inclusi nel fatturato.task\sql.sql
2021-03-07 18:14:16,557 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 267) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:16,565 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'personale - vendite - categorie.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'personale - vendite - categorie.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:59', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,575 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 405 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 405, null, left('personale - vendite - categorie', 150)
            , 'molina', convert(datetime, '2020-08-10 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:39:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-10 00:00:00', 120), dt_upd = NULL
         , title = left('personale - vendite - categorie', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:39:59', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-10 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('personale - vendite - categorie', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,581 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 405 and file_name = 'calcolo_media.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 405, 'calcolo_media.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-12 09:51:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-12 09:51:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-12 09:51:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,586 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\personale - vendite - categorie.task\calcolo_media.sql
2021-03-07 18:14:16,593 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1074;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1074, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-12 09:51:49', 120));
2021-03-07 18:14:16,596 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\personale - vendite - categorie.task\calcolo_media.sql
2021-03-07 18:14:16,597 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 405 and file_name = 'fatturati.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 405, 'fatturati.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-14 15:30:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-14 15:30:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-14 15:30:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,602 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\personale - vendite - categorie.task\fatturati.sql
2021-03-07 18:14:16,608 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1075;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1075, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-14 15:30:21', 120));
2021-03-07 18:14:16,611 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\personale - vendite - categorie.task\fatturati.sql
2021-03-07 18:14:16,613 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 405 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 405, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-12 11:38:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-12 11:38:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-12 11:38:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,618 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\personale - vendite - categorie.task\i.txt
2021-03-07 18:14:16,626 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1076;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1076, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-12 11:38:40', 120));
2021-03-07 18:14:16,629 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\personale - vendite - categorie.task\i.txt
2021-03-07 18:14:16,630 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 268;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (268, 1076, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-12 11:38:40', 120));
2021-03-07 18:14:16,633 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\personale - vendite - categorie.task\i.txt
2021-03-07 18:14:16,635 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 405 and file_name = 'personale.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 405, 'personale.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-10 10:34:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-10 10:34:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-10 10:34:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,639 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\personale - vendite - categorie.task\personale.sql
2021-03-07 18:14:16,645 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1077;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1077, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-10 10:34:40', 120));
2021-03-07 18:14:16,649 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\personale - vendite - categorie.task\personale.sql
2021-03-07 18:14:16,650 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 405 and file_name = 'personale.xlsx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 405, 'personale.xlsx', '.xlsx', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-12 10:59:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-12 10:59:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-12 10:59:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,655 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\personale - vendite - categorie.task\personale.xlsx
2021-03-07 18:14:16,656 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 405 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 405, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-11 16:39:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-11 16:39:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-11 16:39:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,662 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\personale - vendite - categorie.task\sql.sql
2021-03-07 18:14:16,671 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1079;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1079, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-11 16:39:21', 120));
2021-03-07 18:14:16,674 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\personale - vendite - categorie.task\sql.sql
2021-03-07 18:14:16,675 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 268) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:16,683 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'report categorie magazzino da chiudere.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'report categorie magazzino da chiudere.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,690 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 406 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 406, null, left('report categorie magazzino da chiudere', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('report categorie magazzino da chiudere', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('report categorie magazzino da chiudere', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,696 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 406 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 406, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-19 16:16:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-19 16:16:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 16:16:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,702 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\report categorie magazzino da chiudere.task\sql.sql
2021-03-07 18:14:16,709 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1080;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1080, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-19 16:16:05', 120));
2021-03-07 18:14:16,712 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\report categorie magazzino da chiudere.task\sql.sql
2021-03-07 18:14:16,714 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 269) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:16,722 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'revisione mail venduto.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'revisione mail venduto.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,731 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 407 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 407, null, left('revisione mail venduto', 150)
            , 'molina', convert(datetime, '2020-10-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-15 00:00:00', 120), dt_upd = NULL
         , title = left('revisione mail venduto', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione mail venduto', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,737 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 407 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 407, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-19 10:15:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-19 10:15:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-19 10:15:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,742 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\revisione mail venduto.task\i.txt
2021-03-07 18:14:16,750 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1081;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1081, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-19 10:15:40', 120));
2021-03-07 18:14:16,754 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\revisione mail venduto.task\i.txt
2021-03-07 18:14:16,756 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 270;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (270, 1081, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-19 10:15:40', 120));
2021-03-07 18:14:16,759 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\revisione mail venduto.task\i.txt
2021-03-07 18:14:16,759 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 270) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:16,767 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'riepilogo e somme spese finali sulla mail del venduto.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'riepilogo e somme spese finali sulla mail del venduto.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,776 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 408 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 408, null, left('riepilogo e somme spese finali sulla mail del venduto', 150)
            , 'molina', convert(datetime, '2020-08-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-14 00:00:00', 120), dt_upd = NULL
         , title = left('riepilogo e somme spese finali sulla mail del venduto', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('riepilogo e somme spese finali sulla mail del venduto', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,782 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 408 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 408, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-14 17:47:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-14 17:47:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-14 17:47:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,786 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\riepilogo e somme spese finali sulla mail del venduto.task\i.txt
2021-03-07 18:14:16,793 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1082;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1082, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-14 17:47:49', 120));
2021-03-07 18:14:16,797 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\riepilogo e somme spese finali sulla mail del venduto.task\i.txt
2021-03-07 18:14:16,797 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 271;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (271, 1082, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-14 17:47:49', 120));
2021-03-07 18:14:16,801 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\riepilogo e somme spese finali sulla mail del venduto.task\i.txt
2021-03-07 18:14:16,802 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 271) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:16,809 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'rimanenze di magazzino nei fatturati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'rimanenze di magazzino nei fatturati.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,820 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 409 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 409, null, left('rimanenze di magazzino nei fatturati', 150)
            , 'molina', convert(datetime, '2020-08-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'ora', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-26 00:00:00', 120), dt_upd = NULL
         , title = left('rimanenze di magazzino nei fatturati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rimanenze di magazzino nei fatturati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,827 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 409 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 409, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-26 14:26:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-26 14:26:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-26 14:26:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,831 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\rimanenze di magazzino nei fatturati.task\i.txt
2021-03-07 18:14:16,839 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1083;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1083, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-26 14:26:14', 120));
2021-03-07 18:14:16,842 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\rimanenze di magazzino nei fatturati.task\i.txt
2021-03-07 18:14:16,842 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 272;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (272, 1083, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-26 14:26:14', 120));
2021-03-07 18:14:16,846 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\rimanenze di magazzino nei fatturati.task\i.txt
2021-03-07 18:14:16,847 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 272) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:16,854 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'segnalazione prodotti invenduti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'segnalazione prodotti invenduti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,864 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 410 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 410, null, left('segnalazione prodotti invenduti', 150)
            , 'molina', convert(datetime, '2020-08-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'ora', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-25 00:00:00', 120), dt_upd = NULL
         , title = left('segnalazione prodotti invenduti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('segnalazione prodotti invenduti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,870 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 410 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 410, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-26 16:42:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-26 16:42:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-26 16:42:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,875 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\segnalazione prodotti invenduti.task\i.txt
2021-03-07 18:14:16,883 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1084;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1084, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-26 16:42:31', 120));
2021-03-07 18:14:16,886 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\segnalazione prodotti invenduti.task\i.txt
2021-03-07 18:14:16,887 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 273;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (273, 1084, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-26 16:42:31', 120));
2021-03-07 18:14:16,890 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\segnalazione prodotti invenduti.task\i.txt
2021-03-07 18:14:16,891 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 410 and file_name = 'prodotti invenduti.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 410, 'prodotti invenduti.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-25 12:22:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-25 12:22:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-25 12:22:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,896 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\segnalazione prodotti invenduti.task\prodotti invenduti.sql
2021-03-07 18:14:16,904 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1085;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1085, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-25 12:22:59', 120));
2021-03-07 18:14:16,907 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\segnalazione prodotti invenduti.task\prodotti invenduti.sql
2021-03-07 18:14:16,908 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 273) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:16,917 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'sistemata mail venduto.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'sistemata mail venduto.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,927 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 411 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 411, null, left('sistemata mail venduto', 150)
            , 'molina', convert(datetime, '2020-10-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-09 00:00:00', 120), dt_upd = NULL
         , title = left('sistemata mail venduto', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('sistemata mail venduto', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,934 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 411 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 411, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-09 12:38:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-09 12:38:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-09 12:38:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,939 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\sistemata mail venduto.task\i.txt
2021-03-07 18:14:16,946 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1086;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1086, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-09 12:38:12', 120));
2021-03-07 18:14:16,950 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\sistemata mail venduto.task\i.txt
2021-03-07 18:14:16,951 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 274;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (274, 1086, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-09 12:38:12', 120));
2021-03-07 18:14:16,954 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\sistemata mail venduto.task\i.txt
2021-03-07 18:14:16,955 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 274) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:16,963 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'statistiche articoli duplicati fornitori.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'statistiche articoli duplicati fornitori.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,973 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 412 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 412, null, left('statistiche articoli duplicati fornitori', 150)
            , 'molina', convert(datetime, '2020-10-02 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-02 00:00:00', 120), dt_upd = NULL
         , title = left('statistiche articoli duplicati fornitori', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('statistiche articoli duplicati fornitori', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,979 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 412 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 412, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-05 09:39:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-05 09:39:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-05 09:39:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:16,984 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\statistiche articoli duplicati fornitori.task\i.txt
2021-03-07 18:14:16,992 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1087;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1087, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-05 09:39:43', 120));
2021-03-07 18:14:16,996 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\statistiche articoli duplicati fornitori.task\i.txt
2021-03-07 18:14:16,997 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 275;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (275, 1087, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-05 09:39:43', 120));
2021-03-07 18:14:17,001 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\statistiche articoli duplicati fornitori.task\i.txt
2021-03-07 18:14:17,002 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 412 and file_name = 'task.statistiche schede duplicate.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 412, 'task.statistiche schede duplicate.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-05 09:38:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-05 09:38:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-05 09:38:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:17,006 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\statistiche articoli duplicati fornitori.task\task.statistiche schede duplicate.sql
2021-03-07 18:14:17,013 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1088;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1088, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-05 09:38:12', 120));
2021-03-07 18:14:17,017 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\statistiche articoli duplicati fornitori.task\task.statistiche schede duplicate.sql
2021-03-07 18:14:17,018 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 275) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:17,027 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'statistiche ricerca codici.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'statistiche ricerca codici.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:17,037 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 413 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 413, null, left('statistiche ricerca codici', 150)
            , 'molina', convert(datetime, '2021-02-02 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'giornata', convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-02-02 00:00:00', 120), dt_upd = NULL
         , title = left('statistiche ricerca codici', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:45:14', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-02-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('statistiche ricerca codici', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:17,045 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 413 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 413, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-02-02 10:34:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-02 10:34:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:17,051 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\statistiche ricerca codici.task\i.txt
2021-03-07 18:14:17,059 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1089;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1089, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:43', 120));
2021-03-07 18:14:17,062 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\statistiche ricerca codici.task\i.txt
2021-03-07 18:14:17,063 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 276;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (276, 1089, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:43', 120));
2021-03-07 18:14:17,066 [49] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\statistiche ricerca codici.task\i.txt
2021-03-07 18:14:17,067 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 413 and file_name = 'my-search.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 413, 'my-search.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-02-02 10:34:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-02 10:34:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:17,072 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\statistiche ricerca codici.task\my-search.sql
2021-03-07 18:14:17,078 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1090;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1090, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:50', 120));
2021-03-07 18:14:17,081 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\statistiche ricerca codici.task\my-search.sql
2021-03-07 18:14:17,082 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 413 and file_name = 'search-procs.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 413, 'search-procs.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-02-02 10:34:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-02 10:34:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:17,089 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\statistiche ricerca codici.task\search-procs.sql
2021-03-07 18:14:17,097 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1091;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1091, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:56', 120));
2021-03-07 18:14:17,101 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\statistiche ricerca codici.task\search-procs.sql
2021-03-07 18:14:17,102 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 413 and file_name = 'search.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 413, 'search.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-02-02 10:34:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-02 10:34:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:17,107 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\statistiche ricerca codici.task\search.sql
2021-03-07 18:14:17,114 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1092;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1092, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:55', 120));
2021-03-07 18:14:17,117 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\statistiche ricerca codici.task\search.sql
2021-03-07 18:14:17,118 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 276) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:17,126 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'suffissi SN non gestiti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'suffissi SN non gestiti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:14:17,136 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 414 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 414, null, left('suffissi SN non gestiti', 150)
            , 'molina', convert(datetime, '2020-07-02 00:00:00', 120), NULL, 1
            , 'fatto', 'alta', 'fix', NULL, convert(datetime, '2021-03-02 22:39:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-02 00:00:00', 120), dt_upd = NULL
         , title = left('suffissi SN non gestiti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('suffissi SN non gestiti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:17,144 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 414 and file_name = 'sn.jpg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 414, 'sn.jpg', '.jpg', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-02 08:34:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-02 08:34:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 08:34:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:17,150 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\suffissi SN non gestiti.task\sn.jpg
2021-03-07 18:14:17,151 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 414 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 414, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-09 15:27:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-09 15:27:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-09 15:27:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:17,155 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\suffissi SN non gestiti.task\sql.sql
2021-03-07 18:14:17,161 [49] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 1094;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (1094, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-09 15:27:14', 120));
2021-03-07 18:14:17,164 [49] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\suffissi SN non gestiti.task\sql.sql
2021-03-07 18:14:17,165 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 414 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 414, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-08 10:16:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-08 10:16:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-08 10:16:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:17,170 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\suffissi SN non gestiti.task\Thumbs.db
2021-03-07 18:14:17,171 [49] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 414 and file_name = 'vendite.html';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 414, 'vendite.html', '.html', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-01 19:32:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-01 19:32:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-01 19:32:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:14:17,176 [49] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\suffissi SN non gestiti.task\vendite.html
2021-03-07 18:14:17,178 [49] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 277) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:14:17,187 [49] DEBUG dn_lib.tools.log - SQL: declare @cc_files int; declare @cc_folders int;
      select @cc_files = (select count(*) from dn_files where readed is null) 
      select @cc_folders = (select count(*) from dn_folders where readed is null)
      
      delete from dn_folders where readed is null;
      delete from dn_files where readed is null;
      delete fc from dn_files_contents fc
       where not exists (select top 1 1 from dn_files where file_id = fc.file_id);
      delete from dn_tasks where readed is null;
      delete tn from dn_tasks_notes tn
       where not exists (select top 1 1 from dn_tasks where task_id = tn.task_id);
      select @cc_files, @cc_folders;
2021-03-07 18:14:17,204 [49] DEBUG dn_lib.tools.log - SQL: if not exists (select top 1 1 from users_cache where [user_id] = -1 and var_name = 'synch-files')
        insert into users_cache ([user_id], var_name, var_value)
          values (-1, 'synch-files', '1028')
        else update users_cache set var_value = substring('1028', 1, 500), dt_upd = getdate()
          where [user_id] = -1 and var_name = 'synch-files'
2021-03-07 18:14:17,211 [49] DEBUG dn_lib.tools.log - SQL: if not exists (select top 1 1 from users_cache where [user_id] = -1 and var_name = 'synch-folders')
        insert into users_cache ([user_id], var_name, var_value)
          values (-1, 'synch-folders', '413')
        else update users_cache set var_value = substring('413', 1, 500), dt_upd = getdate()
          where [user_id] = -1 and var_name = 'synch-folders'
2021-03-07 18:14:17,214 [49] DEBUG dn_lib.tools.log - SQL: if not exists (select top 1 1 from users_cache where [user_id] = -1 and var_name = 'synch-lwt')
        insert into users_cache ([user_id], var_name, var_value)
          values (-1, 'synch-lwt', '2021/03/06 18:32:22')
        else update users_cache set var_value = substring('2021/03/06 18:32:22', 1, 500), dt_upd = getdate()
          where [user_id] = -1 and var_name = 'synch-lwt'
2021-03-07 18:14:17,218 [49] DEBUG dn_lib.tools.log - SQL: if not exists (select top 1 1 from users_cache where [user_id] = -1 and var_name = 'synch-last')
        insert into users_cache ([user_id], var_name, var_value)
          values (-1, 'synch-last', '2021/03/07 18:14:17')
        else update users_cache set var_value = substring('2021/03/07 18:14:17', 1, 500), dt_upd = getdate()
          where [user_id] = -1 and var_name = 'synch-last'
2021-03-07 18:15:05,409 [25] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:15:05,410 [25] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:15:05,411 [25] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:15:05,412 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:15:05,413 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:15:05,414 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:15:05,415 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:15:05,415 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:15:05,416 [25] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:15:05,417 [25] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:15:05,417 [25] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:15:05,417 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:15:05,418 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:15:05,418 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:15:05,419 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:15:05,419 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:15:05,420 [25] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:15:05,420 [25] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:15:05,421 [25] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:15:05,421 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:15:05,422 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:15:05,422 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:15:05,422 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:15:05,423 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:15:05,423 [25] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:15:05,424 [25] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:15:05,985 [50] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:15:05,987 [50] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:15:05,988 [50] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:15:05,989 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:15:05,990 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:15:05,992 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:15:05,993 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:15:05,994 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:15:05,995 [50] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:15:05,995 [50] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:15:05,996 [50] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:15:05,997 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:15:05,997 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:15:05,998 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:15:05,999 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:15:05,999 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:15:06,000 [50] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:15:06,001 [50] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:15:06,001 [50] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:15:06,001 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:15:06,003 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:15:06,003 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:15:06,004 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:15:06,004 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:15:06,005 [50] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:15:06,005 [50] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:15:06,013 [50] DEBUG dn_lib.tools.log - SQL: select distinct lower(nome) as nome from users
2021-03-07 18:15:06,014 [50] DEBUG dn_lib.tools.log - SQL: select free_txt, stato, priorita, tipo, stima, (case when [default] = 1 then '1' else '0' end) as [default]
        from dn_task_free_labels 
2021-03-07 18:15:06,015 [50] DEBUG dn_lib.tools.log - SQL: select file_name, type_info from dn_files_info
2021-03-07 18:15:06,016 [50] DEBUG dn_lib.tools.log - SQL: select extension, des_extension, open_comment, close_comment, type_content from dn_files_types
2021-03-07 18:15:06,017 [50] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = -1 and var_name in ('synch-files')
2021-03-07 18:15:06,017 [50] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = -1 and var_name in ('synch-folders')
2021-03-07 18:15:06,019 [50] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = -1 and var_name in ('synch-lwt')
2021-03-07 18:15:06,019 [50] DEBUG dn_lib.tools.log - SQL: select sf.synch_folder_id, sf.pc_name, sf.[title], sf.[des], sf.local_path, sf.http_path, sf.[user], sf.[password]
        from synch_folders sf where sf.pc_name = 'MOLINOVO' order by sf.[title]
2021-03-07 18:15:06,079 [50] DEBUG dn_lib.tools.log - elenco cartelle da sincronizzare
2021-03-07 18:15:06,079 [50] DEBUG dn_lib.tools.log - SQL: select sf.synch_folder_id, sf.pc_name, sf.[title], sf.[des], sf.local_path, sf.http_path, sf.[user], sf.[password]
        from synch_folders sf where sf.pc_name = 'MOLINOVO' order by sf.[title]
2021-03-07 18:15:06,081 [50] DEBUG dn_lib.tools.log -    - cartella di sincronizzazione 'dipa notess' - Deepa Notes, path: C:\root\todd\_test\dn
2021-03-07 18:15:06,082 [50] DEBUG dn_lib.tools.log - SQL: update dn_folders set readed = null;
      update dn_files set readed = null;
      update dn_tasks set readed = null;
2021-03-07 18:15:06,097 [50] DEBUG dn_lib.tools.log - elaboro la cartella C:\root\todd\_test\dn...
2021-03-07 18:15:06,098 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'aggiornamento dati';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'aggiornamento dati', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,099 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 2 
        and folder_name = 'via i prezzi custom di mapfre.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 2, 'via i prezzi custom di mapfre.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,101 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 3 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 3, null, left('via i prezzi custom di mapfre', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('via i prezzi custom di mapfre', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:35', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('via i prezzi custom di mapfre', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,103 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 3 and file_name = 'via i prezzi mapfre custom.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 3, 'via i prezzi mapfre custom.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-26 16:00:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-26 16:00:11', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-26 16:00:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,104 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 2) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,106 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'cauzioni';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'cauzioni', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,108 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'condizione particolare tecnodue .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'condizione particolare tecnodue .task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,109 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 5 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 5, null, left('condizione particolare tecnodue ', 150)
            , 'molina', convert(datetime, '2020-07-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', NULL, convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-30 00:00:00', 120), dt_upd = NULL
         , title = left('condizione particolare tecnodue ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('condizione particolare tecnodue ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,111 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 5 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 5, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 10:08:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-30 10:08:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 10:08:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,112 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 5 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 5, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 11:50:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-30 11:50:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 11:50:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,113 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 3) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,115 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'elimina note interne dopo invio mail.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'elimina note interne dopo invio mail.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,117 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 6 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 6, null, left('elimina note interne dopo invio mail', 150)
            , 'molina', convert(datetime, '2020-07-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-29 00:00:00', 120), dt_upd = NULL
         , title = left('elimina note interne dopo invio mail', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('elimina note interne dopo invio mail', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,118 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 6 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 6, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 16:10:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-29 16:10:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 16:10:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,119 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 4) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,121 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'errore - riferimento a un oggetto non impostato sul rientro.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'errore - riferimento a un oggetto non impostato sul rientro.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,123 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 7 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 7, null, left('errore - riferimento a un oggetto non impostato sul rientro', 150)
            , 'molina', convert(datetime, '2020-07-27 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-27 00:00:00', 120), dt_upd = NULL
         , title = left('errore - riferimento a un oggetto non impostato sul rientro', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('errore - riferimento a un oggetto non impostato sul rientro', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,123 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 7 and file_name = 'dipa-20200727.log';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 7, 'dipa-20200727.log', '.log', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 12:18:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-27 12:18:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 12:18:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,124 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 7 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 7, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 15:33:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-27 15:33:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 15:33:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,125 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 7 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 7, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 15:30:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-27 15:30:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 15:30:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,127 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 5) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,128 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'etichette automatiche arrivi resi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'etichette automatiche arrivi resi.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,129 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 8 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 8, null, left('etichette automatiche arrivi resi', 150)
            , 'molina', convert(datetime, '2020-09-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-23 00:00:00', 120), dt_upd = NULL
         , title = left('etichette automatiche arrivi resi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('etichette automatiche arrivi resi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,130 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 8 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 8, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-23 14:50:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-23 14:50:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-23 14:50:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,131 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 6) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,132 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'filtro anno e altre cosette.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'filtro anno e altre cosette.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,133 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 9 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 9, null, left('filtro anno e altre cosette', 150)
            , 'molina', convert(datetime, '2020-11-16 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-16 00:00:00', 120), dt_upd = NULL
         , title = left('filtro anno e altre cosette', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-16 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('filtro anno e altre cosette', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,134 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 9 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 9, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-16 08:43:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-16 08:43:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-16 08:43:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,135 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 7) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,136 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'mail in automatico al cliente per le garanzie anticipate.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'mail in automatico al cliente per le garanzie anticipate.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,137 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 10 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 10, null, left('mail in automatico al cliente per le garanzie anticipate', 150)
            , 'molina', convert(datetime, '2020-07-07 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-07 00:00:00', 120), dt_upd = NULL
         , title = left('mail in automatico al cliente per le garanzie anticipate', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:35', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-07 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('mail in automatico al cliente per le garanzie anticipate', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,138 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 10 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 10, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-07 09:55:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-07 09:55:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-07 09:55:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,139 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 8) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,140 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'non voglio pi vedere la pratica.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'non voglio pi vedere la pratica.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,141 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 11 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 11, null, left('non voglio pi vedere la pratica', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('non voglio pi vedere la pratica', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('non voglio pi vedere la pratica', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,142 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 11 and file_name = 'i.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 11, 'i.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-26 16:30:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-26 16:30:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 16:30:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,143 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 11 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 11, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-29 08:37:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-29 08:37:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 08:37:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,144 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 9) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,145 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'pagina magento reso carcassa.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'pagina magento reso carcassa.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,146 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 12 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 12, null, left('pagina magento reso carcassa', 150)
            , 'molina', convert(datetime, '2020-09-24 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'settimana', convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-24 00:00:00', 120), dt_upd = NULL
         , title = left('pagina magento reso carcassa', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'settimana', dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('pagina magento reso carcassa', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('settimana', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,147 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 12 
        and folder_name = 'bck';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 12, 'bck', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,148 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 13 and file_name = 'mysql.bck.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 13, 'mysql.bck.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-24 12:33:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-24 12:33:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-24 12:33:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,149 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 13 and file_name = 'rpc-index.bck.php';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 13, 'rpc-index.bck.php', '.php', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-24 11:00:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-24 11:00:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-24 11:00:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,149 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 13 and file_name = 'scheduler.bck.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 13, 'scheduler.bck.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-24 10:57:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-24 10:57:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-24 10:57:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,150 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 10) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,151 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 12 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 12, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-19 11:12:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-19 11:12:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-19 11:12:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,152 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 12 and file_name = 'mysql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 12, 'mysql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-25 14:33:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-25 14:33:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-25 14:33:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,153 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 12 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 12, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-08 14:54:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-08 14:54:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-08 14:54:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,154 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 10) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,155 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'revisione cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'revisione cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,156 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 14 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 14, null, left('revisione cauzioni', 150)
            , 'molina', convert(datetime, '2020-09-04 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'giornata', convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-04 00:00:00', 120), dt_upd = NULL
         , title = left('revisione cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-04 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,157 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 14 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 14, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-11 16:52:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-11 16:52:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-11 16:52:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,158 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 14 and file_name = 'lavs_resi.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 14, 'lavs_resi.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-08 17:20:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-08 17:20:41', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-08 17:20:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,160 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 11) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,161 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'revisione colonne griglia cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'revisione colonne griglia cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,162 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 15 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 15, null, left('revisione colonne griglia cauzioni', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('revisione colonne griglia cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione colonne griglia cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,163 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 15 and file_name = 'img.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 15, 'img.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-26 11:53:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-26 11:53:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 11:53:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,164 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 12) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,165 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'ricerca lavorazioni e gestione note.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'ricerca lavorazioni e gestione note.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,166 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 16 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 16, null, left('ricerca lavorazioni e gestione note', 150)
            , 'molina', convert(datetime, '2020-09-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'giornata', convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-17 00:00:00', 120), dt_upd = NULL
         , title = left('ricerca lavorazioni e gestione note', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ricerca lavorazioni e gestione note', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,168 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 13) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,169 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'ritocchi cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'ritocchi cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,170 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 17 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 17, null, left('ritocchi cauzioni', 150)
            , 'molina', convert(datetime, '2020-09-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-21 00:00:00', 120), dt_upd = NULL
         , title = left('ritocchi cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ritocchi cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,171 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 17 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 17, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-21 09:13:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-21 09:13:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-21 09:13:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,172 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 14) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,173 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'SI-NO-URGENTE nella griglia cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'SI-NO-URGENTE nella griglia cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,175 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 18 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 18, null, left('SI-NO-URGENTE nella griglia cauzioni', 150)
            , 'molina', convert(datetime, '2020-09-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-14 00:00:00', 120), dt_upd = NULL
         , title = left('SI-NO-URGENTE nella griglia cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('SI-NO-URGENTE nella griglia cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,176 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 18 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 18, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-15 14:12:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-15 14:12:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-15 14:12:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,177 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 15) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,178 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'crm';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'crm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-07 18:13:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-07 18:13:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-07 18:13:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,179 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 19 
        and folder_name = 'gestione codici pi ricercati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 19, 'gestione codici pi ricercati.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,180 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 20 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 20, null, left('gestione codici pi ricercati', 150)
            , 'molina', convert(datetime, '2020-11-02 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-02 00:00:00', 120), dt_upd = NULL
         , title = left('gestione codici pi ricercati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione codici pi ricercati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,181 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 20 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 20, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-02 16:32:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-02 16:32:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-02 16:32:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,182 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 16) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,183 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 19 
        and folder_name = 'pulizia crm.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 19, 'pulizia crm.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,184 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 21 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 21, null, left('pulizia crm', 150)
            , 'molina', convert(datetime, '2020-05-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-05-26 00:00:00', 120), dt_upd = NULL
         , title = left('pulizia crm', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-05-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('pulizia crm', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,185 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 21 
        and folder_name = '_oldies';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 21, '_oldies', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,186 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'App_Code';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'App_Code', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,186 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 23 and file_name = 'backup.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 23, 'backup.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-12-13 15:11:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-12-13 15:11:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-12-13 15:11:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,188 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 23 and file_name = 'db_utilities.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 23, 'db_utilities.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-26 10:47:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-26 10:47:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-26 10:47:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,188 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,189 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'pages';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'pages', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,190 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'recovery.aspx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'recovery.aspx', '.aspx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-10-20 17:46:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-10-20 17:46:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-20 17:46:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,191 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'recovery.aspx.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'recovery.aspx.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-26 10:46:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-26 10:46:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-26 10:46:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,192 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'rifs.aspx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'rifs.aspx', '.aspx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-05-08 14:05:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-05-08 14:05:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-05-08 14:05:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,193 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'rifs.aspx.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'rifs.aspx.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-09-16 17:25:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-09-16 17:25:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-09-16 17:25:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,193 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'sys.css';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'sys.css', '.css', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,194 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'tables.aspx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'tables.aspx', '.aspx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-05-08 14:05:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-05-08 14:05:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-05-08 14:05:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,195 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'tables.aspx.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'tables.aspx.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2018-09-21 17:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2018-09-21 17:44:37', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-09-21 17:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,196 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,197 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'pages_xml';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'pages_xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,198 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 25 and file_name = 'pageBackup.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 25, 'pageBackup.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,199 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 25 and file_name = 'pageBackupImport.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 25, 'pageBackupImport.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,199 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 25 and file_name = 'pageBackups.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 25, 'pageBackups.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-25 17:12:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-25 17:12:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-25 17:12:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,200 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 25 and file_name = 'pageImport.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 25, 'pageImport.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-10-16 14:49:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-10-16 14:49:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-16 14:49:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,201 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,202 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'schemas';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'schemas', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,203 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td19_metaq1.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td19_metaq1.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-06-27 17:35:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-06-27 17:35:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-06-27 17:35:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,203 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td19_schemaq1.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td19_schemaq1.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-06-27 17:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-06-27 17:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-06-27 17:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,204 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'tdsql_metaq3.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'tdsql_metaq3.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-05-13 07:49:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-05-13 07:49:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-05-13 07:49:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,205 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'tdsql_schemaq3.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'tdsql_schemaq3.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-05-13 08:52:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-05-13 08:52:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-05-13 08:52:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,206 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_metaq1.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_metaq1.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:05:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:05:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:05:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,207 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_metaq2.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_metaq2.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:05:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:05:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:05:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,207 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_metaq3.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_metaq3.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:05:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:05:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:05:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,208 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_schemaq1.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_schemaq1.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:04:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:04:57', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:04:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,209 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_schemaq2.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_schemaq2.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:06:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:06:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:06:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,209 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_schemaq3.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_schemaq3.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-07 16:41:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-07 16:41:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-07 16:41:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,210 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'web_meta2016.05.01.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'web_meta2016.05.01.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-10-04 10:03:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-10-04 10:03:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-10-04 10:03:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,211 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'web_schema2016.05.01.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'web_schema2016.05.01.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-08 10:20:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-08 10:20:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-08 10:20:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,211 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,213 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'scripts';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'scripts', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,213 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'clean_all.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'clean_all.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,214 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'clean_cache.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'clean_cache.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,215 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'clean_zz.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'clean_zz.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,216 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'initweb.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'initweb.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,216 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_codici_attivo.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_codici_attivo.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-22 10:16:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-22 10:16:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-22 10:16:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,217 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_enums.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_enums.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2018-09-21 15:17:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2018-09-21 15:17:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-09-21 15:17:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,218 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_ricerche.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_ricerche.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-11-09 16:11:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-11-09 16:11:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-11-09 16:11:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,219 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_tpusers.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_tpusers.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,219 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_users.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_users.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,221 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'resetdb.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'resetdb.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,221 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,223 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,224 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,225 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'ditex';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'ditex', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,226 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 28 
        and folder_name = 'struttura base, pagine web, tabelle.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 28, 'struttura base, pagine web, tabelle.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,227 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 29 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 29, null, left('struttura base, pagine web, tabelle', 150)
            , 'molina', convert(datetime, '2020-12-04 00:00:00', 120), NULL, 1
            , 'sospeso', NULL, 'aggiunta', 'settimana', convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-12-04 00:00:00', 120), dt_upd = NULL
         , title = left('struttura base, pagine web, tabelle', 150), [user] = 'molina'
         , stato = 'sospeso', priorita = NULL
         , tipo = 'aggiunta', stima = 'settimana', dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-12-04 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('struttura base, pagine web, tabelle', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('sospeso', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('settimana', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,228 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 29 and file_name = 'Circolare 4E Agenzia Entrate Iperammortamento 30-03-2017.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 29, 'Circolare 4E Agenzia Entrate Iperammortamento 30-03-2017.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-20 16:01:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-20 16:01:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-20 16:01:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,229 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 29 and file_name = 'ditex.msg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 29, 'ditex.msg', '.msg', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-20 16:01:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-20 16:01:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-20 16:01:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,229 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 29 and file_name = 'ERAGON-COMMESSE.doc';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 29, 'ERAGON-COMMESSE.doc', '.doc', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-20 16:01:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-20 16:01:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-20 16:01:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,230 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 29 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 29, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-12-14 11:06:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-12-14 11:06:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-12-14 11:06:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,231 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 18) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,232 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'estrazioni';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'estrazioni', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,233 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 30 
        and folder_name = 'estrazione dati kromeda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 30, 'estrazione dati kromeda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,234 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 31 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 31, null, left('estrazione dati kromeda', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('estrazione dati kromeda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('estrazione dati kromeda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,235 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 31 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 31, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 12:24:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 12:24:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 12:24:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,236 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 19) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,237 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'lavorazioni';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'lavorazioni', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:45:44', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:44', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:44', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,238 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'accetta lavorazione senza invio mail.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'accetta lavorazione senza invio mail.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,239 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 33 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 33, null, left('accetta lavorazione senza invio mail', 150)
            , 'molina', convert(datetime, '2020-07-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-08 00:00:00', 120), dt_upd = NULL
         , title = left('accetta lavorazione senza invio mail', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('accetta lavorazione senza invio mail', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,240 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 33 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 33, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-09 10:09:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-09 10:09:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-09 10:09:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,241 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 20) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,242 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'aggiunto passaggio da ritirare.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'aggiunto passaggio da ritirare.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,243 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 34 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 34, null, left('aggiunto passaggio da ritirare', 150)
            , 'molina', convert(datetime, '2020-09-01 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezzora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-01 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunto passaggio da ritirare', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-01 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunto passaggio da ritirare', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,244 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 34 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 34, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-01 11:06:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-01 11:06:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-01 11:06:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,245 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 34 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 34, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-01 11:07:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-01 11:07:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-01 11:07:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,246 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 21) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,247 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'controlli uploat sito.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'controlli uploat sito.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,248 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 35 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 35, null, left('controlli uploat sito', 150)
            , 'molina', convert(datetime, '2020-10-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-09 00:00:00', 120), dt_upd = NULL
         , title = left('controlli uploat sito', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('controlli uploat sito', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,249 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 35 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 35, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-09 16:42:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-09 16:42:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-09 16:42:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,250 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 22) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,251 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'data aggiornamento lavorazioni sul sito.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'data aggiornamento lavorazioni sul sito.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,252 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 36 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 36, null, left('data aggiornamento lavorazioni sul sito', 150)
            , 'molina', convert(datetime, '2020-09-03 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezzora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-03 00:00:00', 120), dt_upd = NULL
         , title = left('data aggiornamento lavorazioni sul sito', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-03 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('data aggiornamento lavorazioni sul sito', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,253 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 36 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 36, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 10:37:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-03 10:37:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-03 10:37:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,254 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 23) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,255 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'facilitare l''uso del reso no rip.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'facilitare l''uso del reso no rip.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,256 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 37 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 37, null, left('facilitare l''uso del reso no rip', 150)
            , 'molina', convert(datetime, '2020-07-01 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', 'mezza', convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-01 00:00:00', 120), dt_upd = NULL
         , title = left('facilitare l''uso del reso no rip', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:40:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-01 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('facilitare l''uso del reso no rip', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,257 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 37 and file_name = '1.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 37, '1.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-01 16:41:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-01 16:41:08', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-01 16:41:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,258 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 37 and file_name = '2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 37, '2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-01 16:41:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-01 16:41:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-01 16:41:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,259 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 37 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 37, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-02 14:27:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-02 14:27:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 14:27:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,260 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 24) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,261 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'gestione porta lui.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'gestione porta lui.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,262 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 38 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 38, null, left('gestione porta lui', 150)
            , 'molina', convert(datetime, '2020-09-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'facile', 'ora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-15 00:00:00', 120), dt_upd = NULL
         , title = left('gestione porta lui', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione porta lui', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,263 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 25) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,264 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'gestione tasto INVIO note cliente.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'gestione tasto INVIO note cliente.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,265 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 39 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 39, null, left('gestione tasto INVIO note cliente', 150)
            , 'molina', convert(datetime, '2020-09-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-14 00:00:00', 120), dt_upd = NULL
         , title = left('gestione tasto INVIO note cliente', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione tasto INVIO note cliente', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,266 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 39 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 39, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-14 15:58:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-14 15:58:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-14 15:58:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,267 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 26) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,268 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'lavorazioni - mail inchiodata.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'lavorazioni - mail inchiodata.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,269 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 40 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 40, null, left('lavorazioni - mail inchiodata', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('lavorazioni - mail inchiodata', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('lavorazioni - mail inchiodata', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,270 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 40 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 40, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-27 10:27:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-27 10:27:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-27 10:27:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,270 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 27) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,272 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'ma i numeri di telefono da dove arrivano.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'ma i numeri di telefono da dove arrivano.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:41', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,273 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 41 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 41, null, left('ma i numeri di telefono da dove arrivano', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ma i numeri di telefono da dove arrivano', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:41', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ma i numeri di telefono da dove arrivano', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,274 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 41 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 41, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 09:24:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 09:24:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 09:24:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,275 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 41 and file_name = 'tel lav.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 41, 'tel lav.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-09 17:47:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-09 17:47:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-09 17:47:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,275 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 41 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 41, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-20 15:06:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-20 15:06:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-20 15:06:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,276 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 28) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,277 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'mail - prenota ritiri errata.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'mail - prenota ritiri errata.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,279 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 42 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 42, null, left('mail - prenota ritiri errata', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('mail - prenota ritiri errata', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('mail - prenota ritiri errata', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,280 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 42 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 42, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 09:29:44', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-05 09:29:44', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 09:29:44', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,281 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 29) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,282 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'modifica codici scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'modifica codici scheda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,283 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 43 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 43, null, left('modifica codici scheda', 150)
            , 'molina', convert(datetime, '2020-09-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-29 00:00:00', 120), dt_upd = NULL
         , title = left('modifica codici scheda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('modifica codici scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,283 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 43 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 43, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-29 17:55:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-29 17:55:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-29 17:55:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,284 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 30) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,285 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'nuova scheda - aggiungere anche il reso.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'nuova scheda - aggiungere anche il reso.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,287 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 44 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 44, null, left('nuova scheda - aggiungere anche il reso', 150)
            , 'molina', convert(datetime, '2020-07-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-08 00:00:00', 120), dt_upd = NULL
         , title = left('nuova scheda - aggiungere anche il reso', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuova scheda - aggiungere anche il reso', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,287 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 31) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,289 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'nuovo campo no spese.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'nuovo campo no spese.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,290 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 45 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 45, null, left('nuovo campo no spese', 150)
            , 'molina', convert(datetime, '2021-01-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezzora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-15 00:00:00', 120), dt_upd = NULL
         , title = left('nuovo campo no spese', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuovo campo no spese', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,291 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 45 and file_name = '1.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 45, '1.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 17:35:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-15 17:35:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 17:35:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,292 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 45 and file_name = '2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 45, '2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 17:35:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-15 17:35:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 17:35:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,292 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 45 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 45, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 17:34:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-15 17:34:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 17:34:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,293 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 32) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,294 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'nuovo ordine RESO NON ACCETTATO.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'nuovo ordine RESO NON ACCETTATO.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,295 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 46 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 46, null, left('nuovo ordine RESO NON ACCETTATO', 150)
            , 'molina', convert(datetime, '2020-09-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-28 00:00:00', 120), dt_upd = NULL
         , title = left('nuovo ordine RESO NON ACCETTATO', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuovo ordine RESO NON ACCETTATO', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,296 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 46 and file_name = 'task.spese di gestione.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 46, 'task.spese di gestione.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-28 15:16:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-28 15:16:15', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-28 15:16:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,297 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 33) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,298 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'nuovo tipo di lavorazione RESO DA CLIENTE.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'nuovo tipo di lavorazione RESO DA CLIENTE.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,299 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 47 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 47, null, left('nuovo tipo di lavorazione RESO DA CLIENTE', 150)
            , 'molina', convert(datetime, '2020-07-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', NULL, convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-08 00:00:00', 120), dt_upd = NULL
         , title = left('nuovo tipo di lavorazione RESO DA CLIENTE', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuovo tipo di lavorazione RESO DA CLIENTE', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,300 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 47 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 47, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-08 15:29:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-08 15:29:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-08 15:29:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,301 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 34) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,302 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'pdf lavorazione senza intestazione cliente.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'pdf lavorazione senza intestazione cliente.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,303 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 48 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 48, null, left('pdf lavorazione senza intestazione cliente', 150)
            , 'molina', convert(datetime, '2020-06-24 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'facile', NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-24 00:00:00', 120), dt_upd = NULL
         , title = left('pdf lavorazione senza intestazione cliente', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('pdf lavorazione senza intestazione cliente', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,304 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 35) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,305 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'poter cambiare una lavorazione da GAR a LAV.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'poter cambiare una lavorazione da GAR a LAV.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,306 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 49 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 49, null, left('poter cambiare una lavorazione da GAR a LAV', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('poter cambiare una lavorazione da GAR a LAV', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('poter cambiare una lavorazione da GAR a LAV', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,307 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 49 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 49, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-24 15:46:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-24 15:46:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-24 15:46:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,308 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 49 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 49, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,309 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 36) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,310 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'poter inserire anche files pdf o altro oltre alle immagini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'poter inserire anche files pdf o altro oltre alle immagini.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:41', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,311 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 50 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 50, null, left('poter inserire anche files pdf o altro oltre alle immagini', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('poter inserire anche files pdf o altro oltre alle immagini', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:41', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('poter inserire anche files pdf o altro oltre alle immagini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,312 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 37) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,314 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'poter scaricare le immagini dalla scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'poter scaricare le immagini dalla scheda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:41', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,315 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 51 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 51, null, left('poter scaricare le immagini dalla scheda', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('poter scaricare le immagini dalla scheda', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:41', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('poter scaricare le immagini dalla scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,315 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 38) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,317 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'revisione ritiri in rosso.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'revisione ritiri in rosso.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,318 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 52 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 52, null, left('revisione ritiri in rosso', 150)
            , 'molina', convert(datetime, '2020-09-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezzora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-09 00:00:00', 120), dt_upd = NULL
         , title = left('revisione ritiri in rosso', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione ritiri in rosso', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,319 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 52 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 52, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-09 09:52:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-09 09:52:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-09 09:52:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,320 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 39) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,321 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rinomina DIP.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rinomina DIP.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:41', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,322 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 53 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 53, null, left('rinomina DIP', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('rinomina DIP', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:41', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rinomina DIP', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,323 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 53 and file_name = '1.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 53, '1.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-03 17:42:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-03 17:42:57', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-03 17:42:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,324 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 53 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 53, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-03 18:06:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-03 18:06:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-03 18:06:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,325 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 53 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 53, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-05 23:11:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-05 23:11:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-05 23:11:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,325 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 40) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,326 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'ritiri rossi in errore.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'ritiri rossi in errore.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,327 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 54 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 54, null, left('ritiri rossi in errore', 150)
            , 'molina', convert(datetime, '2020-07-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-29 00:00:00', 120), dt_upd = NULL
         , title = left('ritiri rossi in errore', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ritiri rossi in errore', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,328 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 54 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 54, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 17:13:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-29 17:13:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 17:13:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,329 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 54 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 54, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 17:11:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-29 17:11:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 17:11:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,330 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 41) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,331 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rivisitazione colonna lavorazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rivisitazione colonna lavorazioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,332 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 55 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 55, null, left('rivisitazione colonna lavorazioni', 150)
            , 'molina', convert(datetime, '2021-02-04 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-02-04 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione colonna lavorazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-02-04 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione colonna lavorazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,333 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 55 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 55, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-05 14:29:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-05 14:29:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-05 14:29:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,334 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 55 and file_name = 'lavs.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 55, 'lavs.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-04 15:24:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-04 15:24:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-04 15:24:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,335 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 42) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,336 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rivisitazione flusso schede.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rivisitazione flusso schede.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,337 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 56 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 56, null, left('rivisitazione flusso schede', 150)
            , 'molina', convert(datetime, '2020-08-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-28 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione flusso schede', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione flusso schede', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,338 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 56 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 56, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 08:20:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-31 08:20:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-31 08:20:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,338 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 43) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,340 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rivisitazione lavorazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rivisitazione lavorazioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,341 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 57 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 57, null, left('rivisitazione lavorazioni', 150)
            , 'molina', convert(datetime, '2020-08-27 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezza', convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-27 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione lavorazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione lavorazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,342 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 57 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 57, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-28 10:57:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-28 10:57:53', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-28 10:57:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,343 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 44) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,344 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rivisitazione telefoni scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rivisitazione telefoni scheda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,344 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 58 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 58, null, left('rivisitazione telefoni scheda', 150)
            , 'molina', convert(datetime, '2020-10-01 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-01 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione telefoni scheda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-01 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione telefoni scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,345 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 58 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 58, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-01 16:25:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-01 16:25:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-01 16:25:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,346 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 45) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,347 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'selezione da sito dell''indirizzo ritiro lavorazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'selezione da sito dell''indirizzo ritiro lavorazioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,348 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 59 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 59, null, left('selezione da sito dell''indirizzo ritiro lavorazioni', 150)
            , 'molina', convert(datetime, '2020-06-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-15 00:00:00', 120), dt_upd = NULL
         , title = left('selezione da sito dell''indirizzo ritiro lavorazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('selezione da sito dell''indirizzo ritiro lavorazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,349 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 59 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 59, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 17:49:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-29 17:49:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 17:49:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,350 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 59 and file_name = 'img.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 59, 'img.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-15 08:31:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-15 08:31:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-15 08:31:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,351 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 59 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 59, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-08 14:51:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-08 14:51:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-08 14:51:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,351 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 59 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 59, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-15 08:34:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-15 08:34:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-15 08:34:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,352 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 46) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,353 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'stampa etichette codice scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'stampa etichette codice scheda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,354 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 60 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 60, null, left('stampa etichette codice scheda', 150)
            , 'molina', convert(datetime, '2020-09-16 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-16 00:00:00', 120), dt_upd = NULL
         , title = left('stampa etichette codice scheda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-16 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('stampa etichette codice scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,355 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 60 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 60, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-16 16:51:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-16 16:51:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-16 16:51:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,356 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 47) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,357 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'visualizzare telefono - mail nelle domande.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'visualizzare telefono - mail nelle domande.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,359 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 61 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 61, null, left('visualizzare telefono - mail nelle domande', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('visualizzare telefono - mail nelle domande', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('visualizzare telefono - mail nelle domande', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,359 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 61 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 61, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 11:26:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 11:26:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 11:26:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,360 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 61 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 61, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 11:26:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 11:26:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 11:26:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,361 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 48) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,362 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'magazzino';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'magazzino', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,363 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'bertello - melo refresci.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'bertello - melo refresci.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,364 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 63 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 63, null, left('bertello - melo refresci', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', 'alta', 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('bertello - melo refresci', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:47', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('bertello - melo refresci', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,366 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 63 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 63, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 08:39:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-15 08:39:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 08:39:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,366 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 49) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,367 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'carico dei codici DIP nel pedonale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'carico dei codici DIP nel pedonale.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,368 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 64 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 64, null, left('carico dei codici DIP nel pedonale', 150)
            , 'molina', convert(datetime, '2020-07-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-30 00:00:00', 120), dt_upd = NULL
         , title = left('carico dei codici DIP nel pedonale', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('carico dei codici DIP nel pedonale', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,370 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 64 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 64, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 14:22:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-30 14:22:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 14:22:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,371 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 50) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,372 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'gestione nuovo magazzino pallets.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'gestione nuovo magazzino pallets.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,373 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 65 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 65, null, left('gestione nuovo magazzino pallets', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'aggiunta', 'tre_giorni', convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('gestione nuovo magazzino pallets', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'tre_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione nuovo magazzino pallets', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('tre_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,374 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 65 and file_name = 'dipaQuoteXY_trl2.xlsx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 65, 'dipaQuoteXY_trl2.xlsx', '.xlsx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-07 16:34:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-07 16:34:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-07 16:34:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,375 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 65 and file_name = 'patch.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 65, 'patch.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-08 09:26:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-08 09:26:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-08 09:26:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,375 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 65 and file_name = 'script_bck.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 65, 'script_bck.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-07 12:22:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-07 12:22:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-07 12:22:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,375 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 65 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 65, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-08 09:25:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-08 09:25:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-08 09:25:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,376 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 51) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,377 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'gli ordini in viola li deve processare nino .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'gli ordini in viola li deve processare nino .task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,378 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 66 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 66, null, left('gli ordini in viola li deve processare nino ', 150)
            , 'molina', convert(datetime, '2020-07-06 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', 'due_ore', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-06 00:00:00', 120), dt_upd = NULL
         , title = left('gli ordini in viola li deve processare nino ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-06 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gli ordini in viola li deve processare nino ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,380 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 66 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 66, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-06 09:30:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-06 09:30:11', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-06 09:30:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,380 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 52) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,382 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'leds magazzino elettronico.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'leds magazzino elettronico.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,383 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 67 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 67, null, left('leds magazzino elettronico', 150)
            , 'molina', convert(datetime, '2020-01-24 00:00:00', 120), convert(datetime, '2021-03-03 14:40:35', 120), 1
            , 'in_corso', NULL, 'aggiunta', 'settimana', convert(datetime, '2021-03-03 14:40:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-01-24 00:00:00', 120), dt_upd = convert(datetime, '2021-03-03 14:40:35', 120)
         , title = left('leds magazzino elettronico', 150), [user] = 'molina'
         , stato = 'in_corso', priorita = NULL
         , tipo = 'aggiunta', stima = 'settimana', dt_lwt_index = convert(datetime, '2021-03-03 14:40:35', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-01-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(convert(datetime, '2021-03-03 14:40:35', 120), getdate())
          or isnull(title, '') <> isnull('leds magazzino elettronico', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('in_corso', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('settimana', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,384 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 67 
        and folder_name = 'PickToLight';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 67, 'PickToLight', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,385 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 68 
        and folder_name = 'cs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 68, 'cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,385 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 69 
        and folder_name = 'LsSample1a';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 69, 'LsSample1a', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,385 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 70 
        and folder_name = '.vs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 70, '.vs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,387 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 71 
        and folder_name = 'LsSample1a';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 71, 'LsSample1a', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,388 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 72 
        and folder_name = 'v15';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 72, 'v15', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,388 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 73 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 73, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,388 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 74 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 74, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,389 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 75 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 75, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,390 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 75 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 75, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,391 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 75 and file_name = 'storage.ide-shm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 75, 'storage.ide-shm', '.ide-shm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,392 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 75 and file_name = 'storage.ide-wal';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 75, 'storage.ide-wal', '.ide-wal', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,393 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,394 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,395 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 73 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 73, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:00:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:00:37', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:00:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,396 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,397 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 72 
        and folder_name = 'v16';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 72, 'v16', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,398 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 76 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 76, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,399 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 77 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 77, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,399 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 78 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 78, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,400 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 78 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 78, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:04:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:04:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:04:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,401 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,402 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,403 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 76 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 76, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:04:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:04:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:04:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,404 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,405 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,406 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,408 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 70 
        and folder_name = 'Backup';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 70, 'Backup', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,409 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 79 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 79, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,410 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 80 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 80, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,411 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 80 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 80, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,411 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 80 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 80, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,412 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 80 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 80, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,413 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 80 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 80, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,413 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,415 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 79 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 79, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:38:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:38:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:38:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,416 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 79 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 79, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:38:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:38:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:38:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,416 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 79 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 79, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:38:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:38:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:38:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,418 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 79 and file_name = 'LsSample1a.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 79, 'LsSample1a.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-11 16:03:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-11 16:03:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-11 16:03:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,419 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 79 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 79, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,419 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,421 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 70 
        and folder_name = 'bin';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 70, 'bin', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,421 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 81 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 81, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,422 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 82 and file_name = 'AioiSystems.Lightstep.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 82, 'AioiSystems.Lightstep.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-22 16:39:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-22 16:39:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-22 16:39:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,423 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 82 and file_name = 'AioiSystems.Lightstep.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 82, 'AioiSystems.Lightstep.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2012-06-29 10:53:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2012-06-29 10:53:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2012-06-29 10:53:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,424 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 82 and file_name = 'LsSample1a.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 82, 'LsSample1a.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,424 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 82 and file_name = 'LsSample1a.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 82, 'LsSample1a.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,425 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,426 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,427 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 70 
        and folder_name = 'obj';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 70, 'obj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,428 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 83 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 83, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,429 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 84 
        and folder_name = 'TempPE';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 84, 'TempPE', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,430 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 85 and file_name = 'Properties.Resources.Designer.cs.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 85, 'Properties.Resources.Designer.cs.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,431 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,432 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'DesignTimeResolveAssemblyReferences.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'DesignTimeResolveAssemblyReferences.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 17:39:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 17:39:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 17:39:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,433 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'DesignTimeResolveAssemblyReferencesInput.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'DesignTimeResolveAssemblyReferencesInput.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:33:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:33:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:33:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,434 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.csproj.CopyComplete';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.csproj.CopyComplete', '.copycomplete', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,434 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.csproj.CoreCompileInputs.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.csproj.CoreCompileInputs.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,435 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.csproj.FileListAbsolute.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.csproj.FileListAbsolute.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,436 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.csproj.GenerateResource.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.csproj.GenerateResource.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,436 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.csprojAssemblyReference.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.csprojAssemblyReference.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,437 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,438 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.Form1.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.Form1.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,439 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,440 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.Properties.Resources.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.Properties.Resources.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,441 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,442 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,443 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 70 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 70, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,444 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 86 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 86, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,445 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 86 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 86, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,445 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 86 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 86, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,446 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 86 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 86, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,447 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 86 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 86, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,447 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,449 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,450 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,450 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,451 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'LsSample1a.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'LsSample1a.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,452 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'LsSample1a.sln';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'LsSample1a.sln', '.sln', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,452 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,453 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'UpgradeLog.htm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'UpgradeLog.htm', '.htm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,454 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,455 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 69 
        and folder_name = 'LsSample1b';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 69, 'LsSample1b', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,456 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 87 
        and folder_name = '.vs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 87, '.vs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,456 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 88 
        and folder_name = 'LsSample1b';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 88, 'LsSample1b', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,457 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 89 
        and folder_name = 'v15';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 89, 'v15', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,458 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 90 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 90, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,459 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 91 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 91, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,460 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 92 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 92, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,461 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 92 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 92, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,461 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 92 and file_name = 'storage.ide-shm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 92, 'storage.ide-shm', '.ide-shm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,462 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 92 and file_name = 'storage.ide-wal';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 92, 'storage.ide-wal', '.ide-wal', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,463 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,464 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,465 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 90 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 90, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:02:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:02:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:02:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,466 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,467 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 89 
        and folder_name = 'v16';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 89, 'v16', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,468 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 93 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 93, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,468 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 94 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 94, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,470 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 95 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 95, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,471 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 95 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 95, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,471 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,472 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,474 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 93 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 93, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 18:15:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 18:15:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 18:15:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,475 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,475 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,477 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,478 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 87 
        and folder_name = 'Backup';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 87, 'Backup', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,479 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 96 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 96, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,479 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 97 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 97, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,480 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 97 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 97, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 17:35:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 17:35:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 17:35:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,481 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 97 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 97, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,482 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 97 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 97, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 17:35:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 17:35:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 17:35:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,483 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 97 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 97, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,483 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,484 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 96 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 96, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,485 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 96 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 96, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,485 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 96 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 96, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,487 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 96 and file_name = 'LsSample1b.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 96, 'LsSample1b.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-11 16:04:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-11 16:04:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-11 16:04:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,488 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 96 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 96, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 17:35:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 17:35:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 17:35:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,488 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,490 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 87 
        and folder_name = 'bin';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 87, 'bin', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,490 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 98 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 98, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,491 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 99 and file_name = 'AioiSystems.Lightstep.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 99, 'AioiSystems.Lightstep.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-22 16:39:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-22 16:39:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-22 16:39:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,492 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 99 and file_name = 'AioiSystems.Lightstep.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 99, 'AioiSystems.Lightstep.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2012-06-29 10:53:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2012-06-29 10:53:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2012-06-29 10:53:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,492 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 99 and file_name = 'LsSample1b.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 99, 'LsSample1b.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,494 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 99 and file_name = 'LsSample1b.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 99, 'LsSample1b.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,494 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,496 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,497 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 87 
        and folder_name = 'obj';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 87, 'obj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,498 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 100 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 100, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,498 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 101 
        and folder_name = 'TempPE';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 101, 'TempPE', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,499 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 102 and file_name = 'Properties.Resources.Designer.cs.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 102, 'Properties.Resources.Designer.cs.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,500 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,501 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'DesignTimeResolveAssemblyReferences.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'DesignTimeResolveAssemblyReferences.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 18:11:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 18:11:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 18:11:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,502 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'DesignTimeResolveAssemblyReferencesInput.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'DesignTimeResolveAssemblyReferencesInput.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,503 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.csproj.CopyComplete';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.csproj.CopyComplete', '.copycomplete', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,503 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.csproj.CoreCompileInputs.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.csproj.CoreCompileInputs.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,504 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.csproj.FileListAbsolute.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.csproj.FileListAbsolute.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,505 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.csproj.GenerateResource.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.csproj.GenerateResource.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,505 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.csprojAssemblyReference.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.csprojAssemblyReference.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,506 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,507 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.Form1.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.Form1.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 18:11:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 18:11:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 18:11:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,508 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,509 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.Properties.Resources.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.Properties.Resources.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 18:11:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 18:11:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 18:11:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,509 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,511 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,512 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 87 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 87, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,513 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 103 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 103, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,514 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 103 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 103, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,515 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 103 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 103, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,516 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 103 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 103, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,516 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 103 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 103, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,517 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,518 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,519 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,520 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,520 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'LsSample1b.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'LsSample1b.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,521 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'LsSample1b.sln';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'LsSample1b.sln', '.sln', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,522 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 17:35:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 17:35:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 17:35:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,523 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'UpgradeLog.htm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'UpgradeLog.htm', '.htm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,524 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,525 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 69 
        and folder_name = 'LsSample2';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 69, 'LsSample2', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,526 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 104 
        and folder_name = '.vs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 104, '.vs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,527 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 105 
        and folder_name = 'LsSample2';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 105, 'LsSample2', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,527 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 106 
        and folder_name = 'v15';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 106, 'v15', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,528 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 107 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 107, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,529 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 108 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 108, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,530 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 109 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 109, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,531 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 109 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 109, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,531 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 109 and file_name = 'storage.ide-shm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 109, 'storage.ide-shm', '.ide-shm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,532 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 109 and file_name = 'storage.ide-wal';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 109, 'storage.ide-wal', '.ide-wal', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,533 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,535 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,536 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 107 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 107, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,537 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,538 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 106 
        and folder_name = 'v16';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 106, 'v16', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,539 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 110 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 110, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,539 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 111 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 111, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,540 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 112 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 112, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,541 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 112 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 112, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,542 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,543 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,544 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 110 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 110, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 18:11:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 18:11:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 18:11:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,545 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,546 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,547 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,548 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 104 
        and folder_name = 'Backup';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 104, 'Backup', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,549 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 113 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 113, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,550 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 114 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 114, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:08', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,551 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 114 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 114, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,552 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 114 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 114, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,552 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 114 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 114, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,552 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 114 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 114, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:08', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,553 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,554 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'Declare.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'Declare.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-29 16:14:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-29 16:14:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-29 16:14:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,555 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:42:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:42:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:42:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,557 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 15:29:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 15:29:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 15:29:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,558 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 15:29:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 15:29:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 15:29:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,558 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'LsSample2.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'LsSample2.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-11 16:05:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-11 16:05:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-11 16:05:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,559 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,560 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'Workspace.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'Workspace.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:42:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:42:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:42:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,561 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'WorkUnit.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'WorkUnit.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-09-22 14:23:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-09-22 14:23:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-09-22 14:23:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,561 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,563 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 104 
        and folder_name = 'bin';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 104, 'bin', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,563 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 115 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 115, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,563 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 116 and file_name = 'AioiSystems.Lightstep.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 116, 'AioiSystems.Lightstep.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-22 16:39:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-22 16:39:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-22 16:39:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,565 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 116 and file_name = 'AioiSystems.Lightstep.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 116, 'AioiSystems.Lightstep.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2012-06-29 10:53:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2012-06-29 10:53:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2012-06-29 10:53:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,566 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 116 and file_name = 'LsSample2.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 116, 'LsSample2.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,567 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 116 and file_name = 'LsSample2.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 116, 'LsSample2.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,567 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,568 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,569 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 104 
        and folder_name = 'obj';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 104, 'obj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,570 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 117 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 117, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,571 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 118 
        and folder_name = 'TempPE';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 118, 'TempPE', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,571 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 119 and file_name = 'Properties.Resources.Designer.cs.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 119, 'Properties.Resources.Designer.cs.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,573 [50] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:15:06,574 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'DesignTimeResolveAssemblyReferences.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'DesignTimeResolveAssemblyReferences.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 18:10:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 18:10:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 18:10:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,575 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'DesignTimeResolveAssemblyReferencesInput.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'DesignTimeResolveAssemblyReferencesInput.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,576 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.csproj.CopyComplete';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.csproj.CopyComplete', '.copycomplete', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:15:06,577 [50] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.csproj.CoreCompileInputs.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.csproj.CoreCompileInputs.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
