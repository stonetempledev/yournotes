2021-03-07 18:16:25,745 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 294 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 294, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-15 15:40:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-15 15:40:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-15 15:40:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,755 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 172) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:25,755 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'upload marche.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'upload marche.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,765 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 295 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 295, null, left('upload marche', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('upload marche', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('upload marche', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,765 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 295 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 295, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-29 08:47:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-29 08:47:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-29 08:47:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,775 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 173) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:25,775 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'gestione campi seo.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'gestione campi seo.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:57', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,785 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 296 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 296, null, left('gestione campi seo', 150)
            , 'molina', convert(datetime, '2020-10-06 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-06 00:00:00', 120), dt_upd = NULL
         , title = left('gestione campi seo', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:57', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-06 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione campi seo', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,785 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 296 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 296, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-07 11:59:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-07 11:59:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-07 11:59:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,795 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 296 and file_name = 'task.aggiornamento pname.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 296, 'task.aggiornamento pname.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-07 10:25:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-07 10:25:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-07 10:25:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,795 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 296 and file_name = 'task.campi nuovi scheda crm.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 296, 'task.campi nuovi scheda crm.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-07 08:38:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-07 08:38:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-07 08:38:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,795 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 174) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:25,795 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'gestione cross';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'gestione cross', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,795 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 297 
        and folder_name = 'deselezionato mi aspetto di vederlo in verde.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 297, 'deselezionato mi aspetto di vederlo in verde.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,815 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 298 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 298, null, left('deselezionato mi aspetto di vederlo in verde', 150)
            , 'molina', convert(datetime, '2020-06-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-26 00:00:00', 120), dt_upd = NULL
         , title = left('deselezionato mi aspetto di vederlo in verde', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('deselezionato mi aspetto di vederlo in verde', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,815 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 298 and file_name = 'i.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 298, 'i.png', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 17:07:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 17:07:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 17:07:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,815 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 298 and file_name = 'i2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 298, 'i2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 17:07:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 17:07:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 17:07:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,815 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 298 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 298, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 09:34:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-29 09:34:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 09:34:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,815 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 298 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 298, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 08:37:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-29 08:37:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 08:37:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,815 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 175) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:25,825 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 297 
        and folder_name = 'revisione colori rosso - verde.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 297, 'revisione colori rosso - verde.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,835 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 299 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 299, null, left('revisione colori rosso - verde', 150)
            , 'molina', convert(datetime, '2020-06-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'ora', convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-30 00:00:00', 120), dt_upd = NULL
         , title = left('revisione colori rosso - verde', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione colori rosso - verde', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,835 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 176) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:25,845 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 297 
        and folder_name = 'schede incrociate in verde non appaiono.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 297, 'schede incrociate in verde non appaiono.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,855 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 300 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 300, null, left('schede incrociate in verde non appaiono', 150)
            , 'molina', convert(datetime, '2020-06-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-26 00:00:00', 120), dt_upd = NULL
         , title = left('schede incrociate in verde non appaiono', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('schede incrociate in verde non appaiono', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,855 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 300 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 300, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 11:46:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 11:46:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 11:46:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,855 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 300 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 300, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 11:45:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 11:45:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 11:45:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,865 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 177) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:25,865 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'marca dei codici a volte non si aggiorna.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'marca dei codici a volte non si aggiorna.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,875 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 301 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 301, null, left('marca dei codici a volte non si aggiorna', 150)
            , 'molina', convert(datetime, '2020-08-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-17 00:00:00', 120), dt_upd = NULL
         , title = left('marca dei codici a volte non si aggiorna', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('marca dei codici a volte non si aggiorna', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,875 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 301 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 301, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 09:32:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-18 09:32:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 09:32:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,885 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 301 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 301, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 09:30:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-18 09:30:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 09:30:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,885 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 178) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:25,885 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'ottimizzazione caricamento pagina.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'ottimizzazione caricamento pagina.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:57', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,895 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 302 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 302, null, left('ottimizzazione caricamento pagina', 150)
            , 'molina', convert(datetime, '2020-11-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-25 00:00:00', 120), dt_upd = NULL
         , title = left('ottimizzazione caricamento pagina', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:57', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ottimizzazione caricamento pagina', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,895 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 302 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 302, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-25 11:20:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-11-25 11:20:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-25 11:20:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,905 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 179) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:25,905 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'sincronizzazioni';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'sincronizzazioni', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:08', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,905 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'alyante';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'alyante', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,905 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 304 
        and folder_name = 'alyante - descrizioni articoli.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 304, 'alyante - descrizioni articoli.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,915 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 305 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 305, null, left('alyante - descrizioni articoli', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('alyante - descrizioni articoli', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('alyante - descrizioni articoli', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,925 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 305 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 305, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-05 17:21:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-05 17:21:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 17:21:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,925 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 180) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:25,925 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 304 
        and folder_name = 'nota riep.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 304, 'nota riep.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,935 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 306 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 306, null, left('nota riep', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('nota riep', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nota riep', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,935 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 306 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 306, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 14:00:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 14:00:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 14:00:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,935 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 181) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:25,945 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'buffer nasconde le options.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'buffer nasconde le options.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,955 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 307 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 307, null, left('buffer nasconde le options', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', 'alta', NULL, NULL, convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('buffer nasconde le options', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('buffer nasconde le options', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,955 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 307 and file_name = 'connector-2020-07-10.log';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 307, 'connector-2020-07-10.log', '.log', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-10 11:27:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-10 11:27:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-10 11:27:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,965 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 307 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 307, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-10 09:00:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-10 09:00:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-10 09:00:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,965 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 307 and file_name = 'magento-buffer-options.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 307, 'magento-buffer-options.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-10 14:10:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-10 14:10:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-10 14:10:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,965 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 182) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:25,965 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'carica codici nascosti lenta.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'carica codici nascosti lenta.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,985 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 308 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 308, null, left('carica codici nascosti lenta', 150)
            , 'molina', convert(datetime, '2020-09-01 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-01 00:00:00', 120), dt_upd = NULL
         , title = left('carica codici nascosti lenta', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-01 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('carica codici nascosti lenta', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,985 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 308 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 308, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-01 10:12:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-09-01 10:12:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-01 10:12:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,985 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 183) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:25,985 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'collegamento q';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'collegamento q', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:25,985 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 309 
        and folder_name = 'aggiornamento tracciato invio dati gestionale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 309, 'aggiornamento tracciato invio dati gestionale.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,005 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 310 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 310, null, left('aggiornamento tracciato invio dati gestionale', 150)
            , 'molina', convert(datetime, '2020-06-22 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-22 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornamento tracciato invio dati gestionale', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-22 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornamento tracciato invio dati gestionale', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,005 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 310 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 310, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-22 09:54:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-22 09:54:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-22 09:54:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,005 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 184) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,005 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 309 
        and folder_name = 'invia dati a gestionale - via id_hash.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 309, 'invia dati a gestionale - via id_hash.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,025 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 311 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 311, null, left('invia dati a gestionale - via id_hash', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('invia dati a gestionale - via id_hash', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('invia dati a gestionale - via id_hash', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,025 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 311 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 311, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-23 09:17:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-23 09:17:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-23 09:17:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,025 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 185) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,025 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 309 
        and folder_name = 'marchio nel q.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 309, 'marchio nel q.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,044 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 312 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 312, null, left('marchio nel q', 150)
            , 'molina', convert(datetime, '2020-06-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-17 00:00:00', 120), dt_upd = NULL
         , title = left('marchio nel q', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('marchio nel q', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,046 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 312 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 312, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 17:12:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-17 17:12:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-17 17:12:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,047 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 186) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,048 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'duplica schede';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'duplica schede', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,049 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'avviso duplica schede prodotti senza scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'avviso duplica schede prodotti senza scheda.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,064 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 314 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 314, null, left('avviso duplica schede prodotti senza scheda', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('avviso duplica schede prodotti senza scheda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('avviso duplica schede prodotti senza scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,066 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 314 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 314, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 10:37:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-17 10:37:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-17 10:37:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,067 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 187) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,068 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'duplica aggiornamento prezzi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'duplica aggiornamento prezzi.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,075 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 315 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 315, null, left('duplica aggiornamento prezzi', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('duplica aggiornamento prezzi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('duplica aggiornamento prezzi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,075 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 315 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 315, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-08 09:12:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-08 09:12:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-08 09:12:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,085 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 188) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,085 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'duplica attributi sbagliati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'duplica attributi sbagliati.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,095 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 316 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 316, null, left('duplica attributi sbagliati', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('duplica attributi sbagliati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('duplica attributi sbagliati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,095 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 316 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 316, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-27 15:19:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-27 15:19:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-27 15:19:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,105 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 189) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,105 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'duplica schede - controllo campi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'duplica schede - controllo campi.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,115 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 317 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 317, null, left('duplica schede - controllo campi', 150)
            , 'molina', convert(datetime, '2020-06-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-23 00:00:00', 120), dt_upd = NULL
         , title = left('duplica schede - controllo campi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('duplica schede - controllo campi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,125 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 317 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 317, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-23 11:10:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-23 11:10:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-23 11:10:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,125 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 190) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,125 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'duplica schede prezzi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'duplica schede prezzi.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,135 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 318 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 318, null, left('duplica schede prezzi', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('duplica schede prezzi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('duplica schede prezzi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,145 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 318 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 318, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-11 16:55:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-11 16:55:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-11 16:55:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,145 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 191) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,145 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'duplica si inchioda sul buf_attrs.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'duplica si inchioda sul buf_attrs.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,155 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 319 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 319, null, left('duplica si inchioda sul buf_attrs', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('duplica si inchioda sul buf_attrs', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('duplica si inchioda sul buf_attrs', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,155 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 319 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 319, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-25 17:16:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-25 17:16:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-25 17:16:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,165 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 192) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,165 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'problema nel duplica schede.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'problema nel duplica schede.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,175 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 320 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 320, null, left('problema nel duplica schede', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('problema nel duplica schede', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('problema nel duplica schede', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,175 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 320 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 320, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 10:04:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-17 10:04:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-17 10:04:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,175 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 193) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,185 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'rivisitazione generale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'rivisitazione generale.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,195 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 321 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 321, null, left('rivisitazione generale', 150)
            , 'molina', convert(datetime, '2021-01-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-25 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione generale', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione generale', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,195 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 321 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 321, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-25 11:34:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-25 11:34:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-25 11:34:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,195 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 194) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,205 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'inserisco nel sito i codici nascosti dei N, R, AN.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'inserisco nel sito i codici nascosti dei N, R, AN.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,215 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 322 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 322, null, left('inserisco nel sito i codici nascosti dei N, R, AN', 150)
            , 'molina', convert(datetime, '2020-08-31 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', 'ora', convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-31 00:00:00', 120), dt_upd = NULL
         , title = left('inserisco nel sito i codici nascosti dei N, R, AN', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-31 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('inserisco nel sito i codici nascosti dei N, R, AN', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,215 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 322 and file_name = 'cross codici sito.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 322, 'cross codici sito.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-31 12:29:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-31 12:29:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-31 12:29:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,215 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 322 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 322, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-31 12:32:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-31 12:32:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-31 12:32:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,215 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 195) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,215 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'ml fortuna listino.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'ml fortuna listino.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:08', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,235 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 323 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 323, null, left('ml fortuna listino', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ml fortuna listino', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:08', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ml fortuna listino', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,235 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 323 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 323, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-19 11:02:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-19 11:02:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-19 11:02:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,235 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 196) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,235 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'ogni tanto il magazzino si pianta o importa male ordini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'ogni tanto il magazzino si pianta o importa male ordini.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,255 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 324 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 324, null, left('ogni tanto il magazzino si pianta o importa male ordini', 150)
            , 'molina', convert(datetime, '2020-08-26 00:00:00', 120), NULL, 1
            , 'fatto', 'alta', 'facile', 'due_ore', convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-26 00:00:00', 120), dt_upd = NULL
         , title = left('ogni tanto il magazzino si pianta o importa male ordini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'facile', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ogni tanto il magazzino si pianta o importa male ordini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,255 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 324 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 324, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-26 17:00:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-26 17:00:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-26 17:00:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,255 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 197) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,255 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'per qualche motivo son state sparate sul sito tutte le quantit.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'per qualche motivo son state sparate sul sito tutte le quantit.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,275 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 325 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 325, null, left('per qualche motivo son state sparate sul sito tutte le quantit', 150)
            , 'molina', convert(datetime, '2020-07-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-29 00:00:00', 120), dt_upd = NULL
         , title = left('per qualche motivo son state sparate sul sito tutte le quantit', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('per qualche motivo son state sparate sul sito tutte le quantit', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,275 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 325 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 325, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 11:03:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-29 11:03:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 11:03:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,275 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 325 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 325, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 10:56:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-29 10:56:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 10:56:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,275 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 198) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,285 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'prodotti';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'prodotti', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,285 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'abs189n.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'abs189n.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,295 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 327 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 327, null, left('abs189n', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('abs189n', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('abs189n', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,295 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 327 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 327, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-12 09:50:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-12 09:50:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-12 09:50:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,295 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 199) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,305 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'ABS452.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'ABS452.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,315 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 328 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 328, null, left('ABS452', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ABS452', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ABS452', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,315 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 328 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 328, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-04 15:30:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-04 15:30:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 15:30:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,315 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 200) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,325 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'aggiornamento meta xml prodotti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'aggiornamento meta xml prodotti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,335 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 329 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 329, null, left('aggiornamento meta xml prodotti', 150)
            , 'molina', convert(datetime, '2020-06-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'facile', 'ora', convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-29 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornamento meta xml prodotti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornamento meta xml prodotti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,335 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 329 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 329, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 11:22:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-29 11:22:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 11:22:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,335 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 201) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,335 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'ARC163ELSR.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'ARC163ELSR.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,355 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 330 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 330, null, left('ARC163ELSR', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ARC163ELSR', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ARC163ELSR', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,355 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 330 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 330, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 10:43:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 10:43:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 10:43:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,355 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 202) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,355 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'ARC164DLPN.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'ARC164DLPN.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,375 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 331 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 331, null, left('ARC164DLPN', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ARC164DLPN', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ARC164DLPN', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,375 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 331 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 331, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-04 15:21:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-04 15:21:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 15:21:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,375 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 203) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,375 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'body035r - lav vs.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'body035r - lav vs.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,395 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 332 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 332, null, left('body035r - lav vs', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('body035r - lav vs', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('body035r - lav vs', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,395 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 332 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 332, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-12 14:43:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-12 14:43:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-12 14:43:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,395 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 204) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,405 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'categoria in importazione articoli CA nel gestionale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'categoria in importazione articoli CA nel gestionale.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,415 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 333 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 333, null, left('categoria in importazione articoli CA nel gestionale', 150)
            , 'molina', convert(datetime, '2020-06-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-26 00:00:00', 120), dt_upd = NULL
         , title = left('categoria in importazione articoli CA nel gestionale', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('categoria in importazione articoli CA nel gestionale', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,415 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 333 and file_name = 'AL_EXPORT_ARTICOLI_DELTA.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 333, 'AL_EXPORT_ARTICOLI_DELTA.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 16:25:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 16:25:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 16:25:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,415 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 333 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 333, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 16:47:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 16:47:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 16:47:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,415 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 205) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,425 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'codici nascosti senza brand.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'codici nascosti senza brand.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,435 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 334 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 334, null, left('codici nascosti senza brand', 150)
            , 'molina', convert(datetime, '2020-09-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-14 00:00:00', 120), dt_upd = NULL
         , title = left('codici nascosti senza brand', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('codici nascosti senza brand', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,435 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 334 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 334, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-14 17:33:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-09-14 17:33:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-14 17:33:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,435 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 206) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,435 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'injb55run.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'injb55run.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,455 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 335 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 335, null, left('injb55run', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('injb55run', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('injb55run', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,455 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 335 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 335, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 09:05:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 09:05:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 09:05:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,455 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 207) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,455 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'nuova categoria EMU.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'nuova categoria EMU.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,475 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 336 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 336, null, left('nuova categoria EMU', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('nuova categoria EMU', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuova categoria EMU', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,475 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 336 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 336, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-19 10:49:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-19 10:49:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-19 10:49:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,475 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 208) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,475 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'nuova gestione scarico prodotti immagini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'nuova gestione scarico prodotti immagini.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,495 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 337 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 337, null, left('nuova gestione scarico prodotti immagini', 150)
            , 'molina', convert(datetime, '2020-09-18 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-18 00:00:00', 120), dt_upd = NULL
         , title = left('nuova gestione scarico prodotti immagini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuova gestione scarico prodotti immagini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,495 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 209) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,495 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'ottimizzazione scarico immagini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'ottimizzazione scarico immagini.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,505 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 338 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 338, null, left('ottimizzazione scarico immagini', 150)
            , 'molina', convert(datetime, '2020-09-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-23 00:00:00', 120), dt_upd = NULL
         , title = left('ottimizzazione scarico immagini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ottimizzazione scarico immagini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,515 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 338 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 338, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-23 12:40:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-09-23 12:40:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-23 12:40:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,515 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 210) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,515 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'rinomina codice dip anche sulle ricerche targa.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'rinomina codice dip anche sulle ricerche targa.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,535 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 339 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 339, null, left('rinomina codice dip anche sulle ricerche targa', 150)
            , 'molina', convert(datetime, '2020-08-11 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-11 00:00:00', 120), dt_upd = NULL
         , title = left('rinomina codice dip anche sulle ricerche targa', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-11 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rinomina codice dip anche sulle ricerche targa', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,535 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 339 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 339, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-11 18:19:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-11 18:19:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-11 18:19:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,535 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 211) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,535 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = ' capitato di avere il product_id della LISTINIPRODOTTI disallineato.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, ' capitato di avere il product_id della LISTINIPRODOTTI disallineato.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,555 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 340 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 340, null, left(' capitato di avere il product_id della LISTINIPRODOTTI disallineato', 150)
            , 'molina', convert(datetime, '2020-07-20 00:00:00', 120), NULL, 1
            , NULL, NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-20 00:00:00', 120), dt_upd = NULL
         , title = left(' capitato di avere il product_id della LISTINIPRODOTTI disallineato', 150), [user] = 'molina'
         , stato = NULL, priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-20 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull(' capitato di avere il product_id della LISTINIPRODOTTI disallineato', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull(NULL, '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,555 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 212) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,555 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'scheduler';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'scheduler', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,555 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 341 
        and folder_name = 'invio mail cambio listini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 341, 'invio mail cambio listini.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,575 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 342 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 342, null, left('invio mail cambio listini', 150)
            , 'molina', convert(datetime, '2020-11-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-23 00:00:00', 120), dt_upd = NULL
         , title = left('invio mail cambio listini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('invio mail cambio listini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,575 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 342 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 342, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-23 11:43:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-11-23 11:43:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-23 11:43:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,575 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 213) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,575 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 341 
        and folder_name = 'ottimizzare e gestire meglio errori scheduler .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 341, 'ottimizzare e gestire meglio errori scheduler .task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,595 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 343 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 343, null, left('ottimizzare e gestire meglio errori scheduler ', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ottimizzare e gestire meglio errori scheduler ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ottimizzare e gestire meglio errori scheduler ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,595 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 343 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 343, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-11 11:03:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-11-11 11:03:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-11 11:03:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,595 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 343 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 343, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,595 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 214) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,595 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'sito web';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'sito web', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,595 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 344 
        and folder_name = 'aggiornamento intelligente meta_description.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 344, 'aggiornamento intelligente meta_description.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,615 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 345 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 345, null, left('aggiornamento intelligente meta_description', 150)
            , 'molina', convert(datetime, '2020-10-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-29 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornamento intelligente meta_description', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornamento intelligente meta_description', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,615 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 345 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 345, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-29 17:01:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-29 17:01:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-29 17:01:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,620 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 215) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,620 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 344 
        and folder_name = 'aggiornamento macchine.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 344, 'aggiornamento macchine.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,635 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 346 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 346, null, left('aggiornamento macchine', 150)
            , 'molina', convert(datetime, '2020-10-22 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-22 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornamento macchine', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-22 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornamento macchine', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,635 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 346 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 346, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-22 12:24:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-22 12:24:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-22 12:24:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,635 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 216) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,635 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 344 
        and folder_name = 'disponibilit sul sito non allineata.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 344, 'disponibilit sul sito non allineata.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,655 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 347 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 347, null, left('disponibilit sul sito non allineata', 150)
            , 'molina', convert(datetime, '2020-07-27 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-27 00:00:00', 120), dt_upd = NULL
         , title = left('disponibilit sul sito non allineata', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('disponibilit sul sito non allineata', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,655 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 347 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 347, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 09:04:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-28 09:04:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 09:04:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,655 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 347 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 347, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-27 18:04:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-27 18:04:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 18:04:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,655 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 217) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,655 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 344 
        and folder_name = 'esecuzione proc_day bloccata.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 344, 'esecuzione proc_day bloccata.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,675 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 348 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 348, null, left('esecuzione proc_day bloccata', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', 'alta', 'controllo', NULL, convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('esecuzione proc_day bloccata', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('esecuzione proc_day bloccata', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,675 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 348 and file_name = 'esecuzione proc_day bloccata.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 348, 'esecuzione proc_day bloccata.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 09:18:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-28 09:18:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 09:18:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,675 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 348 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 348, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 09:21:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-28 09:21:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 09:21:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,675 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 218) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,685 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 344 
        and folder_name = 'non si aggiornano correttamente prezzo e metas.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 344, 'non si aggiornano correttamente prezzo e metas.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,695 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 349 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 349, null, left('non si aggiornano correttamente prezzo e metas', 150)
            , 'molina', convert(datetime, '2020-10-13 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-13 00:00:00', 120), dt_upd = NULL
         , title = left('non si aggiornano correttamente prezzo e metas', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-13 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('non si aggiornano correttamente prezzo e metas', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,695 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 349 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 349, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-13 16:04:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-13 16:04:08', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-13 16:04:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,695 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 219) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,695 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 344 
        and folder_name = 'ogni tanto il buffer si inchioda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 344, 'ogni tanto il buffer si inchioda.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,715 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 350 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 350, null, left('ogni tanto il buffer si inchioda', 150)
            , 'molina', convert(datetime, '2020-08-11 00:00:00', 120), NULL, 1
            , 'fatto', 'altissima', 'fix', NULL, convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-11 00:00:00', 120), dt_upd = NULL
         , title = left('ogni tanto il buffer si inchioda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'altissima'
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-11 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ogni tanto il buffer si inchioda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('altissima', '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,715 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 350 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 350, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-17 08:40:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-17 08:40:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-17 08:40:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,715 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 220) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,715 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'timeout - dipa scripts crm e recalc ordini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'timeout - dipa scripts crm e recalc ordini.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,735 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 351 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 351, null, left('timeout - dipa scripts crm e recalc ordini', 150)
            , 'molina', convert(datetime, '2020-07-27 00:00:00', 120), NULL, 1
            , 'fatto', 'alta', 'controllo', NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-27 00:00:00', 120), dt_upd = NULL
         , title = left('timeout - dipa scripts crm e recalc ordini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('timeout - dipa scripts crm e recalc ordini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,735 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 351 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 351, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 08:59:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-29 08:59:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 08:59:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,735 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 351 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 351, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-27 11:02:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-27 11:02:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 11:02:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,735 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 221) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,735 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'sistema';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'sistema', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,735 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 352 
        and folder_name = 'login applicazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 352, 'login applicazioni.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,755 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 353 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 353, null, left('login applicazioni', 150)
            , 'molina', convert(datetime, '2020-10-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-09 00:00:00', 120), dt_upd = NULL
         , title = left('login applicazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('login applicazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,755 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 353 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 353, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-09 17:32:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-09 17:32:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-09 17:32:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,755 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 222) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,755 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 352 
        and folder_name = 'nuova tabella LOG_SCHEDULER.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 352, 'nuova tabella LOG_SCHEDULER.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,775 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 354 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 354, null, left('nuova tabella LOG_SCHEDULER', 150)
            , 'molina', convert(datetime, '2020-07-31 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-31 00:00:00', 120), dt_upd = NULL
         , title = left('nuova tabella LOG_SCHEDULER', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-31 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuova tabella LOG_SCHEDULER', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,775 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 354 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 354, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 16:54:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-31 16:54:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-31 16:54:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,775 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 354 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 354, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 12:33:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-31 12:33:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-31 12:33:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,775 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 223) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,775 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 352 
        and folder_name = 'via tutte le tabelle e procedure ZZ_.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 352, 'via tutte le tabelle e procedure ZZ_.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,795 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 355 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 355, null, left('via tutte le tabelle e procedure ZZ_', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('via tutte le tabelle e procedure ZZ_', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('via tutte le tabelle e procedure ZZ_', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,795 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 224) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,795 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'sito web';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'sito web', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,795 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'aggiunta campo collo,bancale ritiro.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'aggiunta campo collo,bancale ritiro.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:08', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,815 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 357 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 357, null, left('aggiunta campo collo,bancale ritiro', 150)
            , 'molina', convert(datetime, '2021-01-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-15 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta campo collo,bancale ritiro', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:08', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta campo collo,bancale ritiro', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,815 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 357 and file_name = '1.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 357, '1.png', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-18 11:06:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-18 11:06:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-18 11:06:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,815 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 357 and file_name = '2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 357, '2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-18 11:06:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-18 11:06:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-18 11:06:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,815 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 357 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 357, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 18:19:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 18:19:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 18:19:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,815 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 225) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,825 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'carrello lavorazioni SINTRA.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'carrello lavorazioni SINTRA.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,835 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 358 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 358, null, left('carrello lavorazioni SINTRA', 150)
            , 'molina', convert(datetime, '2020-08-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_giorni', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-21 00:00:00', 120), dt_upd = NULL
         , title = left('carrello lavorazioni SINTRA', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('carrello lavorazioni SINTRA', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,835 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 358 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 358, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 12:03:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-21 12:03:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-21 12:03:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,835 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 358 and file_name = 'LAVS_IMPORT_SINTRA.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 358, 'LAVS_IMPORT_SINTRA.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 12:10:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-21 12:10:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-21 12:10:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,835 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 358 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 358, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 12:19:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-21 12:19:53', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-21 12:19:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,845 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 226) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,845 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'check utente ceabdue@libero.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'check utente ceabdue@libero.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,855 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 359 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 359, null, left('check utente ceabdue@libero', 150)
            , 'molina', convert(datetime, '2020-07-07 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:39:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-07 00:00:00', 120), dt_upd = NULL
         , title = left('check utente ceabdue@libero', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-07 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('check utente ceabdue@libero', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,855 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 227) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,855 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'fatturati e premi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'fatturati e premi.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,875 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 360 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 360, null, left('fatturati e premi', 150)
            , 'molina', convert(datetime, '2020-12-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'settimana', convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-12-14 00:00:00', 120), dt_upd = NULL
         , title = left('fatturati e premi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'settimana', dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-12-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('fatturati e premi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('settimana', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,875 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 360 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 360, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-19 09:22:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-19 09:22:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-19 09:22:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,875 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 228) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,875 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'listino da scaricare per i clienti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'listino da scaricare per i clienti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,895 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 361 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 361, null, left('listino da scaricare per i clienti', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('listino da scaricare per i clienti', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('listino da scaricare per i clienti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,895 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 229) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,895 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'pagina php targhe.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'pagina php targhe.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:08', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,905 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 362 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 362, null, left('pagina php targhe', 150)
            , 'molina', convert(datetime, '2021-01-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-15 00:00:00', 120), dt_upd = NULL
         , title = left('pagina php targhe', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:08', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('pagina php targhe', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,905 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 362 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 362, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 11:21:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 11:21:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 11:21:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,915 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 362 and file_name = 'rt.bat';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 362, 'rt.bat', '.bat', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 11:22:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 11:22:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 11:22:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,915 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 230) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,915 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'pagine interne';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'pagine interne', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,915 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 363 
        and folder_name = '3a autoricambi snc appare due volte nella lista clienti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 363, '3a autoricambi snc appare due volte nella lista clienti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,925 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 364 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 364, null, left('3a autoricambi snc appare due volte nella lista clienti', 150)
            , 'molina', convert(datetime, '2020-07-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-09 00:00:00', 120), dt_upd = NULL
         , title = left('3a autoricambi snc appare due volte nella lista clienti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('3a autoricambi snc appare due volte nella lista clienti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,935 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 231) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,935 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 363 
        and folder_name = 'assegnazione agente cliente.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 363, 'assegnazione agente cliente.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,951 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 365 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 365, null, left('assegnazione agente cliente', 150)
            , 'molina', convert(datetime, '2020-10-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-30 00:00:00', 120), dt_upd = NULL
         , title = left('assegnazione agente cliente', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('assegnazione agente cliente', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,955 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 365 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 365, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-30 14:35:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-30 14:35:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-30 14:35:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,955 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 232) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,955 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 363 
        and folder_name = 'controllo associazione clienti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 363, 'controllo associazione clienti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,965 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 366 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 366, null, left('controllo associazione clienti', 150)
            , 'molina', convert(datetime, '2020-09-11 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'ora', convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-11 00:00:00', 120), dt_upd = NULL
         , title = left('controllo associazione clienti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-11 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('controllo associazione clienti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,975 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 366 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 366, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-11 17:45:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-09-11 17:45:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-11 17:45:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,975 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 233) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,975 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 363 
        and folder_name = 'rinfrescata pagina prodotti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 363, 'rinfrescata pagina prodotti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,985 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 367 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 367, null, left('rinfrescata pagina prodotti', 150)
            , 'molina', convert(datetime, '2020-11-03 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-03 00:00:00', 120), dt_upd = NULL
         , title = left('rinfrescata pagina prodotti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-03 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rinfrescata pagina prodotti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,985 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 367 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 367, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-03 12:01:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-11-03 12:01:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-03 12:01:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:26,985 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 234) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:26,995 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 363 
        and folder_name = 'storico assegnazione agenti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 363, 'storico assegnazione agenti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,005 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 368 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 368, null, left('storico assegnazione agenti', 150)
            , 'molina', convert(datetime, '2020-10-22 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-22 00:00:00', 120), dt_upd = NULL
         , title = left('storico assegnazione agenti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-22 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('storico assegnazione agenti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,005 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 368 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 368, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-22 10:13:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-22 10:13:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-22 10:13:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,005 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 235) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,005 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'premi cliente.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'premi cliente.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:08', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,025 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 369 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 369, null, left('premi cliente', 150)
            , 'molina', convert(datetime, '2021-01-14 00:00:00', 120), NULL, 1
            , 'fatto', 'alta', 'aggiunta', 'tre_giorni', convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-14 00:00:00', 120), dt_upd = NULL
         , title = left('premi cliente', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'aggiunta', stima = 'tre_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:08', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('premi cliente', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('tre_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,025 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 369 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 369, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-22 10:02:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-22 10:02:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-22 10:02:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,025 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 236) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,025 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'ricerche targa';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'ricerche targa', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,035 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 370 
        and folder_name = 'cancellazione virtuale ricerche.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 370, 'cancellazione virtuale ricerche.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,045 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 371 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 371, null, left('cancellazione virtuale ricerche', 150)
            , 'molina', convert(datetime, '2020-09-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-30 00:00:00', 120), dt_upd = NULL
         , title = left('cancellazione virtuale ricerche', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('cancellazione virtuale ricerche', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,051 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 371 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 371, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-30 18:14:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-09-30 18:14:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-30 18:14:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,051 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 237) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,051 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'upload documenti alyante.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'upload documenti alyante.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,065 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 372 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 372, null, left('upload documenti alyante', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', 'alta', 'aggiunta', 'tre_giorni', convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('upload documenti alyante', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = 'alta'
         , tipo = 'aggiunta', stima = 'tre_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('upload documenti alyante', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('tre_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,065 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 238) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,065 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'upload documenti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'upload documenti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,085 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 373 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 373, null, left('upload documenti', 150)
            , 'molina', convert(datetime, '2021-02-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'tre_giorni', convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-02-23 00:00:00', 120), dt_upd = NULL
         , title = left('upload documenti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'tre_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-02-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('upload documenti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('tre_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,085 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 373 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 373, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-26 17:27:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-02-26 17:27:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-26 17:27:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,085 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 373 and file_name = 'synch docs.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 373, 'synch docs.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-26 17:27:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-02-26 17:27:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-26 17:27:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,085 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 239) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,085 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'spedizioni corrieri';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'spedizioni corrieri', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,085 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'bartolini';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'bartolini', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,095 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 375 
        and folder_name = 'Implementare i tracking number BRT.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 375, 'Implementare i tracking number BRT.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,105 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 376 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 376, null, left('Implementare i tracking number BRT', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('Implementare i tracking number BRT', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:11', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('Implementare i tracking number BRT', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,105 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 376 and file_name = 'R Tracking BRT.msg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 376, 'R Tracking BRT.msg', '.msg', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 08:36:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-17 08:36:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-17 08:36:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,105 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 376 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 376, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-18 17:55:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-18 17:55:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-18 17:55:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,115 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 240) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,115 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 375 
        and folder_name = 'tre ordini bartolini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 375, 'tre ordini bartolini.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,125 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 377 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 377, null, left('tre ordini bartolini', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('tre ordini bartolini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:11', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('tre ordini bartolini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,125 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 377 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 377, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-11 09:23:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-11 09:23:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-11 09:23:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,125 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 241) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,125 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'cambio dei cap in lombardia.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'cambio dei cap in lombardia.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:59', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,145 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 378 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 378, null, left('cambio dei cap in lombardia', 150)
            , 'molina', convert(datetime, '2020-07-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:39:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-28 00:00:00', 120), dt_upd = NULL
         , title = left('cambio dei cap in lombardia', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:59', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('cambio dei cap in lombardia', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,151 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 378 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 378, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 17:29:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-28 17:29:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 17:29:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,151 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 378 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 378, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 08:32:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-29 08:32:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 08:32:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,151 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 242) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,151 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'check resi no rip spedizioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'check resi no rip spedizioni.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,165 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 379 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 379, null, left('check resi no rip spedizioni', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('check resi no rip spedizioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:11', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('check resi no rip spedizioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,165 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 379 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 379, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-02 11:04:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-02 11:04:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 11:04:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,165 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 243) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,165 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'chiusura corrieri a volte rimangono dei WAIT.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'chiusura corrieri a volte rimangono dei WAIT.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,185 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 380 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 380, null, left('chiusura corrieri a volte rimangono dei WAIT', 150)
            , 'molina', convert(datetime, '2020-07-31 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-31 00:00:00', 120), dt_upd = NULL
         , title = left('chiusura corrieri a volte rimangono dei WAIT', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-31 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('chiusura corrieri a volte rimangono dei WAIT', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,185 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 380 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 380, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 10:54:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-31 10:54:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-31 10:54:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,185 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 244) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,185 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'controlli spedizioni EDP.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'controlli spedizioni EDP.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,195 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 381 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 381, null, left('controlli spedizioni EDP', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('controlli spedizioni EDP', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:11', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('controlli spedizioni EDP', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,205 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 381 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 381, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-18 10:08:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-18 10:08:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-18 10:08:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,205 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 245) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,205 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'corriere ctl domandina.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'corriere ctl domandina.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,215 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 382 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 382, null, left('corriere ctl domandina', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('corriere ctl domandina', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('corriere ctl domandina', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,225 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 382 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 382, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-11 15:20:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-11 15:20:37', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-11 15:20:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,225 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 246) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,225 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'corrieri.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'corrieri.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,245 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 383 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 383, null, left('corrieri', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('corrieri', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('corrieri', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,245 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 383 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 383, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 09:34:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 09:34:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 09:34:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,245 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 247) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,245 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'da un orario in poi cambio di corriere.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'da un orario in poi cambio di corriere.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,255 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 384 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 384, null, left('da un orario in poi cambio di corriere', 150)
            , 'molina', convert(datetime, '2020-06-23 00:00:00', 120), NULL, 1
            , 'fatto', 'alta', 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:39:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-23 00:00:00', 120), dt_upd = NULL
         , title = left('da un orario in poi cambio di corriere', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('da un orario in poi cambio di corriere', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,265 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 384 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 384, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-23 16:31:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-23 16:31:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-23 16:31:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,265 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 248) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,265 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'gestione porto L.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'gestione porto L.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,275 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 385 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 385, null, left('gestione porto L', 150)
            , 'molina', convert(datetime, '2021-01-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-15 00:00:00', 120), dt_upd = NULL
         , title = left('gestione porto L', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione porto L', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,275 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 385 and file_name = '1.PNG';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 385, '1.PNG', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:04:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 16:04:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 16:04:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,285 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 385 and file_name = '2.PNG';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 385, '2.PNG', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:04:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 16:04:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 16:04:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,285 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 385 and file_name = '3.PNG';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 385, '3.PNG', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:04:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 16:04:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 16:04:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,285 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 385 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 385, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:04:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 16:04:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 16:04:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,285 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 385 and file_name = 'porto L.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 385, 'porto L.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:41:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 16:41:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 16:41:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,285 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 249) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,285 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'i resi no rip non devono andare in multicollo.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'i resi no rip non devono andare in multicollo.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,305 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 386 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 386, null, left('i resi no rip non devono andare in multicollo', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('i resi no rip non devono andare in multicollo', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('i resi no rip non devono andare in multicollo', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,305 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 386 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 386, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-02 10:22:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-02 10:22:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 10:22:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,305 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 250) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,305 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'indirizzi senza provincia.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'indirizzi senza provincia.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,325 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 387 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 387, null, left('indirizzi senza provincia', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('indirizzi senza provincia', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('indirizzi senza provincia', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,325 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 387 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 387, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-24 08:43:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-24 08:43:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-24 08:43:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,325 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 251) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,325 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'indirizzo spedizione bazzolo.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'indirizzo spedizione bazzolo.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,345 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 388 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 388, null, left('indirizzo spedizione bazzolo', 150)
            , 'molina', convert(datetime, '2020-07-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-29 00:00:00', 120), dt_upd = NULL
         , title = left('indirizzo spedizione bazzolo', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('indirizzo spedizione bazzolo', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,345 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 388 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 388, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 15:42:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-29 15:42:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 15:42:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,345 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 388 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 388, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 15:36:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-29 15:36:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 15:36:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,345 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 252) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,350 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'mail di riepilogo spedizioni per ECOMMERCEPARTS .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'mail di riepilogo spedizioni per ECOMMERCEPARTS .task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,365 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 389 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 389, null, left('mail di riepilogo spedizioni per ECOMMERCEPARTS ', 150)
            , 'molina', convert(datetime, '2020-07-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', NULL, convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-30 00:00:00', 120), dt_upd = NULL
         , title = left('mail di riepilogo spedizioni per ECOMMERCEPARTS ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('mail di riepilogo spedizioni per ECOMMERCEPARTS ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,365 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 389 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 389, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-30 15:41:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-30 15:41:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 15:41:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,365 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 389 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 389, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 12:33:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-31 12:33:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-31 12:33:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,365 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 253) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,365 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'margine su tutti i corrieri.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'margine su tutti i corrieri.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,385 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 390 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 390, null, left('margine su tutti i corrieri', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('margine su tutti i corrieri', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('margine su tutti i corrieri', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,390 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 390 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 390, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-29 10:33:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-29 10:33:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-29 10:33:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,390 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 254) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,390 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'NO e VB mettere il corriere da EPD a CTL.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'NO e VB mettere il corriere da EPD a CTL.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,405 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 391 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 391, null, left('NO e VB mettere il corriere da EPD a CTL', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('NO e VB mettere il corriere da EPD a CTL', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('NO e VB mettere il corriere da EPD a CTL', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,405 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 391 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 391, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 09:58:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 09:58:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 09:58:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,405 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 255) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,405 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'risolvi errori.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'risolvi errori.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,425 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 392 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 392, null, left('risolvi errori', 150)
            , 'molina', convert(datetime, '2020-10-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-08 00:00:00', 120), dt_upd = NULL
         , title = left('risolvi errori', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('risolvi errori', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,425 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 392 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 392, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-08 15:58:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-08 15:58:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-08 15:58:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,425 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 256) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,425 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'spedizioni da annullare e rifare.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'spedizioni da annullare e rifare.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,445 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 393 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 393, null, left('spedizioni da annullare e rifare', 150)
            , 'molina', convert(datetime, '2020-07-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-30 00:00:00', 120), dt_upd = NULL
         , title = left('spedizioni da annullare e rifare', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('spedizioni da annullare e rifare', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,445 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 393 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 393, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-30 14:53:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-30 14:53:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 14:53:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,445 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 257) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,451 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'stampa bolle di pi pagine.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'stampa bolle di pi pagine.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,465 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 394 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 394, null, left('stampa bolle di pi pagine', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('stampa bolle di pi pagine', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('stampa bolle di pi pagine', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,465 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 394 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 394, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-12 18:24:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-12 18:24:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-12 18:24:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,465 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 258) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,465 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'statistiche';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'statistiche', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,465 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'aggiornamento mail venduto del giorno.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'aggiornamento mail venduto del giorno.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,485 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 396 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 396, null, left('aggiornamento mail venduto del giorno', 150)
            , 'molina', convert(datetime, '2020-10-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezza', convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-23 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornamento mail venduto del giorno', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:14', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornamento mail venduto del giorno', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,485 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 396 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 396, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-23 16:23:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-23 16:23:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-23 16:23:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,485 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 259) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,485 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'aggiunta colonne fatturato.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'aggiunta colonne fatturato.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,505 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 397 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 397, null, left('aggiunta colonne fatturato', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, 'mezza', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta colonne fatturato', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta colonne fatturato', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,505 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 397 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 397, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 11:12:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-21 11:12:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-21 11:12:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,505 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 397 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 397, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 08:34:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-21 08:34:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-21 08:34:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,505 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 260) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,505 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'carcasse mail riepilogo vendite.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'carcasse mail riepilogo vendite.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,525 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 398 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 398, null, left('carcasse mail riepilogo vendite', 150)
            , 'molina', convert(datetime, '2021-01-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-25 00:00:00', 120), dt_upd = NULL
         , title = left('carcasse mail riepilogo vendite', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:14', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('carcasse mail riepilogo vendite', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,525 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 398 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 398, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-26 14:18:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-26 14:18:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-26 14:18:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,525 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 261) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,525 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'col019r non appare dopo il riordino dei pezzi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'col019r non appare dopo il riordino dei pezzi.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,545 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 399 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 399, null, left('col019r non appare dopo il riordino dei pezzi', 150)
            , 'molina', convert(datetime, '2020-08-18 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-18 00:00:00', 120), dt_upd = NULL
         , title = left('col019r non appare dopo il riordino dei pezzi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('col019r non appare dopo il riordino dei pezzi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,550 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 399 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 399, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 12:16:44', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-18 12:16:44', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 12:16:44', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,550 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 262) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,551 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'considerare le spese nella mail vendite.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'considerare le spese nella mail vendite.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,565 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 400 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 400, null, left('considerare le spese nella mail vendite', 150)
            , 'molina', convert(datetime, '2020-08-12 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', NULL, convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-12 00:00:00', 120), dt_upd = NULL
         , title = left('considerare le spese nella mail vendite', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-12 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('considerare le spese nella mail vendite', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,565 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 400 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 400, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 14:21:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-13 14:21:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-13 14:21:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,565 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 400 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 400, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 14:16:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-13 14:16:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-13 14:16:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,565 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 263) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,565 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'fatturati manager non vanno per codice dipa.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'fatturati manager non vanno per codice dipa.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,585 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 401 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 401, null, left('fatturati manager non vanno per codice dipa', 150)
            , 'molina', convert(datetime, '2020-08-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezzora', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-25 00:00:00', 120), dt_upd = NULL
         , title = left('fatturati manager non vanno per codice dipa', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('fatturati manager non vanno per codice dipa', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,585 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 264) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,585 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'fatturato manager - rivisitazione.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'fatturato manager - rivisitazione.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,605 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 402 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 402, null, left('fatturato manager - rivisitazione', 150)
            , 'molina', convert(datetime, '2020-08-12 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_giorni', convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-12 00:00:00', 120), dt_upd = NULL
         , title = left('fatturato manager - rivisitazione', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-12 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('fatturato manager - rivisitazione', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,605 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 402 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 402, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 12:21:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-18 12:21:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 12:21:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,605 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 265) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,605 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'grafico a torta.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'grafico a torta.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,625 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 403 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 403, null, left('grafico a torta', 150)
            , 'molina', convert(datetime, '2020-08-18 00:00:00', 120), NULL, 1
            , 'sospeso', NULL, 'aggiunta', 'tre_giorni', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-18 00:00:00', 120), dt_upd = NULL
         , title = left('grafico a torta', 150), [user] = 'molina'
         , stato = 'sospeso', priorita = NULL
         , tipo = 'aggiunta', stima = 'tre_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('grafico a torta', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('sospeso', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('tre_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,625 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 403 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 403, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-19 09:07:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-19 09:07:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 09:07:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,625 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 403 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 403, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-29 15:57:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-29 15:57:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:57:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,625 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 266) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,625 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'i codici MIX non sono inclusi nel fatturato.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'i codici MIX non sono inclusi nel fatturato.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,645 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 404 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 404, null, left('i codici MIX non sono inclusi nel fatturato', 150)
            , 'molina', convert(datetime, '2020-08-12 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-12 00:00:00', 120), dt_upd = NULL
         , title = left('i codici MIX non sono inclusi nel fatturato', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-12 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('i codici MIX non sono inclusi nel fatturato', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,645 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 404 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 404, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 15:08:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-13 15:08:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-13 15:08:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,651 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 404 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 404, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 17:34:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-13 17:34:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-13 17:34:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,651 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 267) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,655 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'personale - vendite - categorie.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'personale - vendite - categorie.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:59', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,670 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 405 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 405, null, left('personale - vendite - categorie', 150)
            , 'molina', convert(datetime, '2020-08-10 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:39:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-10 00:00:00', 120), dt_upd = NULL
         , title = left('personale - vendite - categorie', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:39:59', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-10 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('personale - vendite - categorie', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,670 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 405 and file_name = 'calcolo_media.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 405, 'calcolo_media.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-12 09:51:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-12 09:51:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-12 09:51:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,670 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 405 and file_name = 'fatturati.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 405, 'fatturati.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-14 15:30:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-14 15:30:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-14 15:30:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,675 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 405 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 405, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-12 11:38:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-12 11:38:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-12 11:38:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,675 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 405 and file_name = 'personale.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 405, 'personale.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-10 10:34:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-10 10:34:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-10 10:34:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,675 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 405 and file_name = 'personale.xlsx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 405, 'personale.xlsx', '.xlsx', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-12 10:59:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-12 10:59:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-12 10:59:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,675 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 405 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 405, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-11 16:39:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-11 16:39:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-11 16:39:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,675 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 268) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,675 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'report categorie magazzino da chiudere.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'report categorie magazzino da chiudere.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,695 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 406 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 406, null, left('report categorie magazzino da chiudere', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('report categorie magazzino da chiudere', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('report categorie magazzino da chiudere', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,695 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 406 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 406, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-19 16:16:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-19 16:16:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 16:16:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,695 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 269) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,695 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'revisione mail venduto.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'revisione mail venduto.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,715 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 407 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 407, null, left('revisione mail venduto', 150)
            , 'molina', convert(datetime, '2020-10-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-15 00:00:00', 120), dt_upd = NULL
         , title = left('revisione mail venduto', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione mail venduto', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,715 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 407 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 407, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-19 10:15:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-19 10:15:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-19 10:15:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,715 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 270) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,715 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'riepilogo e somme spese finali sulla mail del venduto.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'riepilogo e somme spese finali sulla mail del venduto.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,725 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 408 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 408, null, left('riepilogo e somme spese finali sulla mail del venduto', 150)
            , 'molina', convert(datetime, '2020-08-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-14 00:00:00', 120), dt_upd = NULL
         , title = left('riepilogo e somme spese finali sulla mail del venduto', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('riepilogo e somme spese finali sulla mail del venduto', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,735 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 408 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 408, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-14 17:47:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-14 17:47:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-14 17:47:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,735 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 271) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,735 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'rimanenze di magazzino nei fatturati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'rimanenze di magazzino nei fatturati.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,755 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 409 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 409, null, left('rimanenze di magazzino nei fatturati', 150)
            , 'molina', convert(datetime, '2020-08-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'ora', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-26 00:00:00', 120), dt_upd = NULL
         , title = left('rimanenze di magazzino nei fatturati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rimanenze di magazzino nei fatturati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,755 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 409 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 409, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-26 14:26:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-26 14:26:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-26 14:26:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,755 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 272) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,755 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'segnalazione prodotti invenduti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'segnalazione prodotti invenduti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,775 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 410 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 410, null, left('segnalazione prodotti invenduti', 150)
            , 'molina', convert(datetime, '2020-08-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'ora', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-25 00:00:00', 120), dt_upd = NULL
         , title = left('segnalazione prodotti invenduti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('segnalazione prodotti invenduti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,775 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 410 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 410, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-26 16:42:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-26 16:42:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-26 16:42:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,775 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 410 and file_name = 'prodotti invenduti.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 410, 'prodotti invenduti.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-25 12:22:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-25 12:22:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-25 12:22:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,775 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 273) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,775 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'sistemata mail venduto.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'sistemata mail venduto.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,800 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 411 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 411, null, left('sistemata mail venduto', 150)
            , 'molina', convert(datetime, '2020-10-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-09 00:00:00', 120), dt_upd = NULL
         , title = left('sistemata mail venduto', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('sistemata mail venduto', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,800 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 411 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 411, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-09 12:38:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-09 12:38:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-09 12:38:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,800 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 274) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,800 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'statistiche articoli duplicati fornitori.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'statistiche articoli duplicati fornitori.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,815 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 412 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 412, null, left('statistiche articoli duplicati fornitori', 150)
            , 'molina', convert(datetime, '2020-10-02 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-02 00:00:00', 120), dt_upd = NULL
         , title = left('statistiche articoli duplicati fornitori', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('statistiche articoli duplicati fornitori', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,820 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 412 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 412, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-05 09:39:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-05 09:39:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-05 09:39:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,820 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 412 and file_name = 'task.statistiche schede duplicate.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 412, 'task.statistiche schede duplicate.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-05 09:38:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-05 09:38:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-05 09:38:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,820 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 275) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,820 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'statistiche ricerca codici.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'statistiche ricerca codici.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,835 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 413 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 413, null, left('statistiche ricerca codici', 150)
            , 'molina', convert(datetime, '2021-02-02 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'giornata', convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-02-02 00:00:00', 120), dt_upd = NULL
         , title = left('statistiche ricerca codici', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:45:14', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-02-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('statistiche ricerca codici', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,840 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 413 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 413, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-02-02 10:34:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-02 10:34:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,840 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 413 and file_name = 'my-search.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 413, 'my-search.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-02-02 10:34:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-02 10:34:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,840 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 413 and file_name = 'search-procs.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 413, 'search-procs.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-02-02 10:34:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-02 10:34:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,840 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 413 and file_name = 'search.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 413, 'search.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-02-02 10:34:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-02 10:34:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,840 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 276) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,845 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'suffissi SN non gestiti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'suffissi SN non gestiti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,860 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 414 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 414, null, left('suffissi SN non gestiti', 150)
            , 'molina', convert(datetime, '2020-07-02 00:00:00', 120), NULL, 1
            , 'fatto', 'alta', 'fix', NULL, convert(datetime, '2021-03-02 22:39:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-02 00:00:00', 120), dt_upd = NULL
         , title = left('suffissi SN non gestiti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('suffissi SN non gestiti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,860 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 414 and file_name = 'sn.jpg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 414, 'sn.jpg', '.jpg', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-02 08:34:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-02 08:34:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 08:34:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,860 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 414 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 414, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-09 15:27:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-09 15:27:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-09 15:27:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,865 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 414 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 414, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-08 10:16:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-08 10:16:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-08 10:16:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,865 [52] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 414 and file_name = 'vendite.html';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 414, 'vendite.html', '.html', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-01 19:32:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-01 19:32:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-01 19:32:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:16:27,865 [52] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 277) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:16:27,865 [52] DEBUG dn_lib.tools.log - SQL: declare @cc_files int; declare @cc_folders int;
      select @cc_files = (select count(*) from dn_files where readed is null) 
      select @cc_folders = (select count(*) from dn_folders where readed is null)
      
      delete from dn_folders where readed is null;
      delete from dn_files where readed is null;
      delete fc from dn_files_contents fc
       where not exists (select top 1 1 from dn_files where file_id = fc.file_id);
      delete from dn_tasks where readed is null;
      delete tn from dn_tasks_notes tn
       where not exists (select top 1 1 from dn_tasks where task_id = tn.task_id);
      select @cc_files, @cc_folders;
2021-03-07 18:16:27,875 [52] DEBUG dn_lib.tools.log - SQL: if not exists (select top 1 1 from users_cache where [user_id] = -1 and var_name = 'synch-files')
        insert into users_cache ([user_id], var_name, var_value)
          values (-1, 'synch-files', '1028')
        else update users_cache set var_value = substring('1028', 1, 500), dt_upd = getdate()
          where [user_id] = -1 and var_name = 'synch-files'
2021-03-07 18:16:27,880 [52] DEBUG dn_lib.tools.log - SQL: if not exists (select top 1 1 from users_cache where [user_id] = -1 and var_name = 'synch-folders')
        insert into users_cache ([user_id], var_name, var_value)
          values (-1, 'synch-folders', '413')
        else update users_cache set var_value = substring('413', 1, 500), dt_upd = getdate()
          where [user_id] = -1 and var_name = 'synch-folders'
2021-03-07 18:16:27,880 [52] DEBUG dn_lib.tools.log - SQL: if not exists (select top 1 1 from users_cache where [user_id] = -1 and var_name = 'synch-lwt')
        insert into users_cache ([user_id], var_name, var_value)
          values (-1, 'synch-lwt', '2021/03/06 18:32:22')
        else update users_cache set var_value = substring('2021/03/06 18:32:22', 1, 500), dt_upd = getdate()
          where [user_id] = -1 and var_name = 'synch-lwt'
2021-03-07 18:16:27,880 [52] DEBUG dn_lib.tools.log - SQL: if not exists (select top 1 1 from users_cache where [user_id] = -1 and var_name = 'synch-last')
        insert into users_cache ([user_id], var_name, var_value)
          values (-1, 'synch-last', '2021/03/07 18:16:27')
        else update users_cache set var_value = substring('2021/03/07 18:16:27', 1, 500), dt_upd = getdate()
          where [user_id] = -1 and var_name = 'synch-last'
2021-03-07 18:16:31,878 [53] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:16:31,879 [53] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:16:31,881 [53] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:16:31,882 [53] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:16:31,882 [53] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:16:31,883 [53] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:16:31,884 [53] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:16:31,884 [53] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:16:31,885 [53] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:16:31,886 [53] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:16:31,886 [53] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:16:31,887 [53] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:16:31,888 [53] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:16:31,888 [53] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:16:31,888 [53] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:16:31,889 [53] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:16:31,889 [53] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:16:31,889 [53] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:16:31,890 [53] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:16:31,890 [53] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:16:31,891 [53] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:16:31,891 [53] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:16:31,892 [53] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:16:31,892 [53] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:16:31,893 [53] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:16:31,894 [53] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:16:31,921 [25] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:16:31,922 [25] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:16:31,923 [25] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:16:31,923 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:16:31,924 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:16:31,924 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:16:31,925 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:16:31,925 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:16:31,926 [25] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:16:31,926 [25] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:16:31,927 [25] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:16:31,927 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:16:31,927 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:16:31,928 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:16:31,928 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:16:31,928 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:16:31,929 [25] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:16:31,929 [25] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:16:31,929 [25] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:16:31,930 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:16:31,930 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:16:31,931 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:16:31,931 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:16:31,931 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:16:31,932 [25] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:16:31,932 [25] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:16:31,969 [49] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:16:31,970 [49] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:16:31,970 [49] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:16:31,971 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:16:31,972 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:16:31,972 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:16:31,972 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:16:31,973 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:16:31,973 [49] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:16:31,974 [49] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:16:31,974 [49] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:16:31,974 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:16:31,975 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:16:31,975 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:16:31,975 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:16:31,976 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:16:31,976 [49] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:16:31,977 [49] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:16:31,977 [49] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:16:31,978 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:16:31,978 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:16:31,978 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:16:31,979 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:16:31,979 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:16:31,979 [49] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:16:31,980 [49] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:16:31,990 [49] DEBUG dn_lib.tools.log - SQL: select task_filter_id, filter_title, filter_notes, filter_def, filter_class
 from dn_tasks_filters order by filter_order
2021-03-07 18:16:31,991 [49] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = 0 and var_name in ('active-task-filter')
2021-03-07 18:16:31,992 [49] DEBUG dn_lib.tools.log - SQL: select ft.tp, ft.synch_folder_id, ft.folder_id, ft.parent_id, ft.title
       , ft.des, ft.http_path, ft.lvl, dbo.folder_path(ft.folder_id) as folder_path
       , (select top 1 1 from dn_tasks where folder_id = ft.folder_id) as is_task
      from dbo.fnc_dn_folders(null, null) ft
      
      order by ft.synch_folder_id, ft.lvl, ft.title
2021-03-07 18:16:32,070 [49] DEBUG dn_lib.tools.log - SQL: select f.synch_folder_id, f.file_id, f.folder_id, f.file_name, f.dt_ins , null as found_file
       from dn_files f
       where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
        
	      where ft.synch_folder_id = f.synch_folder_id 
          and isnull(ft.folder_id, 0) = isnull(f.folder_id, 0))
2021-03-07 18:16:32,130 [49] DEBUG dn_lib.tools.log - SQL: select t3.*
      , tst.stato, tst.[order] as stato_order, isnull(tst.class, 'light') as stato_class, isnull(tst.title_plurale, '') as stato_title_plurale, isnull(tst.title_singolare, '') as stato_title_singolare
      , tp.priorita, tp.[order] as priorita_order, isnull(tp.class, 'light') as priorita_class, isnull(tp.title_plurale, '') as priorita_title_plurale, isnull(tp.title_singolare, '') as priorita_title_singolare
      , tt.tipo, tt.[order] as tipo_order, isnull(tt.class, 'light') as tipo_class, isnull(tt.title_plurale, '') as tipo_title_plurale, isnull(tt.title_singolare, '') as tipo_title_singolare
      , ts.stima, ts.[days] as stima_days, isnull(ts.class, 'light') as stima_class, isnull(ts.title_plurale, '') as stima_title_plurale, isnull(ts.title_singolare, '') as stima_title_singolare
      , (select top 1 1 from dn_tasks_notes where task_id = t3.task_id) as task_notes
      , (select top 1 1 from vw_task_allegati f2 where f2.task_id = t3.task_id 
          and not exists (select top 1 1 from dn_files_info where file_name = f2.file_name)) as task_files
  from (select t2.*, datediff(day, t2.dt_ref, getdate()) as diff_days
    from (select t.task_id, t.synch_folder_id, isnull(t.folder_id, f.folder_id) as folder_id
	   , t.file_id, t.title, t.[user], t.stato, t.priorita, t.tipo, t.stima, t.dt_ins, t.dt_upd
     , t.dt_lwt, (case when isnull(t.dt_ins, 0) > isnull(t.dt_upd, 0) then t.dt_ins else t.dt_upd end) as dt_ref
	  from dn_tasks t
    
	  left join dn_files f on f.file_id = t.file_id
    where (null is null or (null is not null and t.task_id = null)) ) t2
    where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
	    where  ft.synch_folder_id = t2.synch_folder_id 
       and isnull(ft.folder_id, 0) = isnull(t2.folder_id, 0))) t3
   left join dn_task_stato tst on tst.stato = t3.stato
   left join dn_task_priorita tp on tp.priorita = t3.priorita
   left join dn_task_tipo tt on tt.tipo = t3.tipo
   left join dn_task_stima ts on ts.stima = t3.stima
   where 1 = 1 
2021-03-07 18:16:32,256 [49] DEBUG dn_lib.tools.log - SQL: select title_singolare, stato from dn_task_stato order by [order]
2021-03-07 18:16:32,506 [49] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, priorita as [value], [order] from dn_task_priorita
      ) t order by t.[order]
2021-03-07 18:16:32,508 [49] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [days]
       union select title_singolare as title, stima as [value], [days] from dn_task_stima 
       ) t order by t.[days]
2021-03-07 18:16:32,509 [49] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, tipo as [value], [order] from dn_task_tipo
       ) t order by t.[order]
2021-03-07 18:16:32,511 [49] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value]
       union select nome as title, nome as [value] from users
       ) t order by 2
2021-03-07 18:16:34,286 [50] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:16:34,287 [50] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:16:34,289 [50] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:16:34,290 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:16:34,291 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:16:34,292 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:16:34,293 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:16:34,294 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:16:34,295 [50] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:16:34,296 [50] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:16:34,297 [50] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:16:34,297 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:16:34,298 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:16:34,298 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:16:34,299 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:16:34,299 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:16:34,300 [50] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:16:34,300 [50] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:16:34,301 [50] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:16:34,301 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:16:34,302 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:16:34,302 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:16:34,303 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:16:34,304 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:16:34,304 [50] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:16:34,305 [50] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:16:34,344 [49] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:16:34,345 [49] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:16:34,346 [49] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:16:34,347 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:16:34,347 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:16:34,348 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:16:34,348 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:16:34,359 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:16:34,361 [49] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:16:34,361 [49] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:16:34,362 [49] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:16:34,362 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:16:34,363 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:16:34,363 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:16:34,364 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:16:34,364 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:16:34,365 [49] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:16:34,365 [49] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:16:34,365 [49] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:16:34,366 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:16:34,366 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:16:34,367 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:16:34,367 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:16:34,368 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:16:34,368 [49] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:16:34,368 [49] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:16:34,378 [49] DEBUG dn_lib.tools.log - SQL: select task_filter_id, filter_title, filter_notes, filter_def, filter_class
 from dn_tasks_filters order by filter_order
2021-03-07 18:16:34,379 [49] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = 0 and var_name in ('active-task-filter')
2021-03-07 18:16:34,380 [49] DEBUG dn_lib.tools.log - SQL: select ft.tp, ft.synch_folder_id, ft.folder_id, ft.parent_id, ft.title
       , ft.des, ft.http_path, ft.lvl, dbo.folder_path(ft.folder_id) as folder_path
       , (select top 1 1 from dn_tasks where folder_id = ft.folder_id) as is_task
      from dbo.fnc_dn_folders(19, null) ft
      
      order by ft.synch_folder_id, ft.lvl, ft.title
2021-03-07 18:16:34,382 [49] DEBUG dn_lib.tools.log - SQL: select f.synch_folder_id, f.file_id, f.folder_id, f.file_name, f.dt_ins , null as found_file
       from dn_files f
       where exists (select top 1 1 from dbo.fnc_dn_folders(19, null) ft 
        
	      where ft.synch_folder_id = f.synch_folder_id 
          and isnull(ft.folder_id, 0) = isnull(f.folder_id, 0))
2021-03-07 18:16:34,385 [49] DEBUG dn_lib.tools.log - SQL: select t3.*
      , tst.stato, tst.[order] as stato_order, isnull(tst.class, 'light') as stato_class, isnull(tst.title_plurale, '') as stato_title_plurale, isnull(tst.title_singolare, '') as stato_title_singolare
      , tp.priorita, tp.[order] as priorita_order, isnull(tp.class, 'light') as priorita_class, isnull(tp.title_plurale, '') as priorita_title_plurale, isnull(tp.title_singolare, '') as priorita_title_singolare
      , tt.tipo, tt.[order] as tipo_order, isnull(tt.class, 'light') as tipo_class, isnull(tt.title_plurale, '') as tipo_title_plurale, isnull(tt.title_singolare, '') as tipo_title_singolare
      , ts.stima, ts.[days] as stima_days, isnull(ts.class, 'light') as stima_class, isnull(ts.title_plurale, '') as stima_title_plurale, isnull(ts.title_singolare, '') as stima_title_singolare
      , (select top 1 1 from dn_tasks_notes where task_id = t3.task_id) as task_notes
      , (select top 1 1 from vw_task_allegati f2 where f2.task_id = t3.task_id 
          and not exists (select top 1 1 from dn_files_info where file_name = f2.file_name)) as task_files
  from (select t2.*, datediff(day, t2.dt_ref, getdate()) as diff_days
    from (select t.task_id, t.synch_folder_id, isnull(t.folder_id, f.folder_id) as folder_id
	   , t.file_id, t.title, t.[user], t.stato, t.priorita, t.tipo, t.stima, t.dt_ins, t.dt_upd
     , t.dt_lwt, (case when isnull(t.dt_ins, 0) > isnull(t.dt_upd, 0) then t.dt_ins else t.dt_upd end) as dt_ref
	  from dn_tasks t
    
	  left join dn_files f on f.file_id = t.file_id
    where (null is null or (null is not null and t.task_id = null)) ) t2
    where exists (select top 1 1 from dbo.fnc_dn_folders(19, null) ft 
	    where  ft.tp <> 'synch_folder' and  ft.synch_folder_id = t2.synch_folder_id 
       and isnull(ft.folder_id, 0) = isnull(t2.folder_id, 0))) t3
   left join dn_task_stato tst on tst.stato = t3.stato
   left join dn_task_priorita tp on tp.priorita = t3.priorita
   left join dn_task_tipo tt on tt.tipo = t3.tipo
   left join dn_task_stima ts on ts.stima = t3.stima
   where 1 = 1 
2021-03-07 18:16:34,390 [49] DEBUG dn_lib.tools.log - SQL: select title_singolare, stato from dn_task_stato order by [order]
2021-03-07 18:16:34,393 [49] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, priorita as [value], [order] from dn_task_priorita
      ) t order by t.[order]
2021-03-07 18:16:34,395 [49] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [days]
       union select title_singolare as title, stima as [value], [days] from dn_task_stima 
       ) t order by t.[days]
2021-03-07 18:16:34,396 [49] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, tipo as [value], [order] from dn_task_tipo
       ) t order by t.[order]
2021-03-07 18:16:34,397 [49] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value]
       union select nome as title, nome as [value] from users
       ) t order by 2
2021-03-07 18:17:03,625 [50] INFO dn_lib.tools.log - reload core
2021-03-07 18:17:03,668 [50] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:17:03,669 [50] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:17:03,670 [50] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:17:03,671 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:17:03,673 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:17:03,674 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:17:03,675 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:17:03,676 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:17:03,677 [50] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:17:03,678 [50] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:17:03,679 [50] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:17:03,679 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:17:03,681 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:17:03,682 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:17:03,682 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:17:03,683 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:17:03,684 [50] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:17:03,685 [50] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:17:03,709 [50] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:17:03,711 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:17:03,712 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:17:03,713 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:17:03,714 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:17:03,715 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:17:03,716 [50] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:17:03,718 [50] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:17:03,777 [49] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:17:03,778 [49] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:17:03,779 [49] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:17:03,779 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:17:03,780 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:17:03,780 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:17:03,781 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:17:03,781 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:17:03,782 [49] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:17:03,782 [49] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:17:03,783 [49] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:17:03,783 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:17:03,783 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:17:03,784 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:17:03,784 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:17:03,784 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:17:03,785 [49] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:17:03,785 [49] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:17:03,786 [49] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:17:03,786 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:17:03,787 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:17:03,787 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:17:03,788 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:17:03,789 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:17:03,790 [49] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:17:03,791 [49] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:17:03,873 [25] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:17:03,874 [25] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:17:03,875 [25] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:17:03,876 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:17:03,877 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:17:03,877 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:17:03,878 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:17:03,878 [25] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:17:03,879 [25] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:17:03,879 [25] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:17:03,880 [25] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:17:03,880 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:17:03,880 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:17:03,881 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:17:03,881 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:17:03,881 [25] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:17:03,882 [25] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:17:03,882 [25] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:17:03,882 [25] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:17:03,883 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:17:03,883 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:17:03,884 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:17:03,884 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:17:03,885 [25] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:17:03,885 [25] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:17:03,886 [25] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:17:03,911 [25] DEBUG dn_lib.tools.log - SQL: select task_filter_id, filter_title, filter_notes, filter_def, filter_class
 from dn_tasks_filters order by filter_order
2021-03-07 18:17:03,916 [25] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = 0 and var_name in ('active-task-filter')
2021-03-07 18:17:03,917 [25] DEBUG dn_lib.tools.log - SQL: select ft.tp, ft.synch_folder_id, ft.folder_id, ft.parent_id, ft.title
       , ft.des, ft.http_path, ft.lvl, dbo.folder_path(ft.folder_id) as folder_path
       , (select top 1 1 from dn_tasks where folder_id = ft.folder_id) as is_task
      from dbo.fnc_dn_folders(null, null) ft
      
      order by ft.synch_folder_id, ft.lvl, ft.title
2021-03-07 18:17:04,011 [25] DEBUG dn_lib.tools.log - SQL: select f.synch_folder_id, f.file_id, f.folder_id, f.file_name, f.dt_ins , null as found_file
       from dn_files f
       where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
        
	      where ft.synch_folder_id = f.synch_folder_id 
          and isnull(ft.folder_id, 0) = isnull(f.folder_id, 0))
2021-03-07 18:17:04,079 [25] DEBUG dn_lib.tools.log - SQL: select t3.*
      , tst.stato, tst.[order] as stato_order, isnull(tst.class, 'light') as stato_class, isnull(tst.title_plurale, '') as stato_title_plurale, isnull(tst.title_singolare, '') as stato_title_singolare
      , tp.priorita, tp.[order] as priorita_order, isnull(tp.class, 'light') as priorita_class, isnull(tp.title_plurale, '') as priorita_title_plurale, isnull(tp.title_singolare, '') as priorita_title_singolare
      , tt.tipo, tt.[order] as tipo_order, isnull(tt.class, 'light') as tipo_class, isnull(tt.title_plurale, '') as tipo_title_plurale, isnull(tt.title_singolare, '') as tipo_title_singolare
      , ts.stima, ts.[days] as stima_days, isnull(ts.class, 'light') as stima_class, isnull(ts.title_plurale, '') as stima_title_plurale, isnull(ts.title_singolare, '') as stima_title_singolare
      , (select top 1 1 from dn_tasks_notes where task_id = t3.task_id) as task_notes
      , (select top 1 1 from vw_task_allegati f2 where f2.task_id = t3.task_id 
          and not exists (select top 1 1 from dn_files_info where file_name = f2.file_name)) as task_files
  from (select t2.*, datediff(day, t2.dt_ref, getdate()) as diff_days
    from (select t.task_id, t.synch_folder_id, isnull(t.folder_id, f.folder_id) as folder_id
	   , t.file_id, t.title, t.[user], t.stato, t.priorita, t.tipo, t.stima, t.dt_ins, t.dt_upd
     , t.dt_lwt, (case when isnull(t.dt_ins, 0) > isnull(t.dt_upd, 0) then t.dt_ins else t.dt_upd end) as dt_ref
	  from dn_tasks t
    
	  left join dn_files f on f.file_id = t.file_id
    where (null is null or (null is not null and t.task_id = null)) ) t2
    where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
	    where  ft.synch_folder_id = t2.synch_folder_id 
       and isnull(ft.folder_id, 0) = isnull(t2.folder_id, 0))) t3
   left join dn_task_stato tst on tst.stato = t3.stato
   left join dn_task_priorita tp on tp.priorita = t3.priorita
   left join dn_task_tipo tt on tt.tipo = t3.tipo
   left join dn_task_stima ts on ts.stima = t3.stima
   where 1 = 1 
2021-03-07 18:17:04,217 [25] DEBUG dn_lib.tools.log - SQL: select title_singolare, stato from dn_task_stato order by [order]
2021-03-07 18:17:04,479 [25] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, priorita as [value], [order] from dn_task_priorita
      ) t order by t.[order]
2021-03-07 18:17:04,536 [25] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [days]
       union select title_singolare as title, stima as [value], [days] from dn_task_stima 
       ) t order by t.[days]
2021-03-07 18:17:04,538 [25] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, tipo as [value], [order] from dn_task_tipo
       ) t order by t.[order]
2021-03-07 18:17:04,540 [25] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value]
       union select nome as title, nome as [value] from users
       ) t order by 2
2021-03-07 18:17:08,827 [50] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:17:08,829 [50] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:17:08,830 [50] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:17:08,831 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:17:08,832 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:17:08,833 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:17:08,833 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:17:08,834 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:17:08,835 [50] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:17:08,835 [50] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:17:08,835 [50] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:17:08,836 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:17:08,836 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:17:08,837 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:17:08,838 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:17:08,839 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:17:08,839 [50] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:17:08,839 [50] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:17:08,840 [50] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:17:08,840 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:17:08,841 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:17:08,841 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:17:08,841 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:17:08,842 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:17:08,842 [50] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:17:08,842 [50] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:17:08,879 [49] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:17:08,879 [49] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:17:08,880 [49] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:17:08,881 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:17:08,881 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:17:08,881 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:17:08,882 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:17:08,882 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:17:08,883 [49] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:17:08,883 [49] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:17:08,884 [49] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:17:08,884 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:17:08,884 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:17:08,885 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:17:08,885 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:17:08,886 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:17:08,886 [49] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:17:08,887 [49] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:17:08,888 [49] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:17:08,888 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:17:08,889 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:17:08,889 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:17:08,889 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:17:08,890 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:17:08,890 [49] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:17:08,891 [49] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:17:08,898 [49] DEBUG dn_lib.tools.log - SQL: select task_filter_id, filter_title, filter_notes, filter_def, filter_class
 from dn_tasks_filters order by filter_order
2021-03-07 18:17:08,899 [49] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = 0 and var_name in ('active-task-filter')
2021-03-07 18:17:08,900 [49] DEBUG dn_lib.tools.log - SQL: select ft.tp, ft.synch_folder_id, ft.folder_id, ft.parent_id, ft.title
       , ft.des, ft.http_path, ft.lvl, dbo.folder_path(ft.folder_id) as folder_path
       , (select top 1 1 from dn_tasks where folder_id = ft.folder_id) as is_task
      from dbo.fnc_dn_folders(19, null) ft
      
      order by ft.synch_folder_id, ft.lvl, ft.title
2021-03-07 18:17:08,903 [49] DEBUG dn_lib.tools.log - SQL: select f.synch_folder_id, f.file_id, f.folder_id, f.file_name, f.dt_ins , null as found_file
       from dn_files f
       where exists (select top 1 1 from dbo.fnc_dn_folders(19, null) ft 
        
	      where ft.synch_folder_id = f.synch_folder_id 
          and isnull(ft.folder_id, 0) = isnull(f.folder_id, 0))
2021-03-07 18:17:08,906 [49] DEBUG dn_lib.tools.log - SQL: select t3.*
      , tst.stato, tst.[order] as stato_order, isnull(tst.class, 'light') as stato_class, isnull(tst.title_plurale, '') as stato_title_plurale, isnull(tst.title_singolare, '') as stato_title_singolare
      , tp.priorita, tp.[order] as priorita_order, isnull(tp.class, 'light') as priorita_class, isnull(tp.title_plurale, '') as priorita_title_plurale, isnull(tp.title_singolare, '') as priorita_title_singolare
      , tt.tipo, tt.[order] as tipo_order, isnull(tt.class, 'light') as tipo_class, isnull(tt.title_plurale, '') as tipo_title_plurale, isnull(tt.title_singolare, '') as tipo_title_singolare
      , ts.stima, ts.[days] as stima_days, isnull(ts.class, 'light') as stima_class, isnull(ts.title_plurale, '') as stima_title_plurale, isnull(ts.title_singolare, '') as stima_title_singolare
      , (select top 1 1 from dn_tasks_notes where task_id = t3.task_id) as task_notes
      , (select top 1 1 from vw_task_allegati f2 where f2.task_id = t3.task_id 
          and not exists (select top 1 1 from dn_files_info where file_name = f2.file_name)) as task_files
  from (select t2.*, datediff(day, t2.dt_ref, getdate()) as diff_days
    from (select t.task_id, t.synch_folder_id, isnull(t.folder_id, f.folder_id) as folder_id
	   , t.file_id, t.title, t.[user], t.stato, t.priorita, t.tipo, t.stima, t.dt_ins, t.dt_upd
     , t.dt_lwt, (case when isnull(t.dt_ins, 0) > isnull(t.dt_upd, 0) then t.dt_ins else t.dt_upd end) as dt_ref
	  from dn_tasks t
    
	  left join dn_files f on f.file_id = t.file_id
    where (null is null or (null is not null and t.task_id = null)) ) t2
    where exists (select top 1 1 from dbo.fnc_dn_folders(19, null) ft 
	    where  ft.tp <> 'synch_folder' and  ft.synch_folder_id = t2.synch_folder_id 
       and isnull(ft.folder_id, 0) = isnull(t2.folder_id, 0))) t3
   left join dn_task_stato tst on tst.stato = t3.stato
   left join dn_task_priorita tp on tp.priorita = t3.priorita
   left join dn_task_tipo tt on tt.tipo = t3.tipo
   left join dn_task_stima ts on ts.stima = t3.stima
   where 1 = 1 
2021-03-07 18:17:08,911 [49] DEBUG dn_lib.tools.log - SQL: select title_singolare, stato from dn_task_stato order by [order]
2021-03-07 18:17:08,914 [49] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, priorita as [value], [order] from dn_task_priorita
      ) t order by t.[order]
2021-03-07 18:17:08,915 [49] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [days]
       union select title_singolare as title, stima as [value], [days] from dn_task_stima 
       ) t order by t.[days]
2021-03-07 18:17:08,917 [49] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, tipo as [value], [order] from dn_task_tipo
       ) t order by t.[order]
2021-03-07 18:17:08,918 [49] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value]
       union select nome as title, nome as [value] from users
       ) t order by 2
2021-03-07 18:17:35,815 [50] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:17:35,815 [50] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:17:35,825 [50] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:17:35,825 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:17:35,825 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:17:35,825 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:17:35,825 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:17:35,825 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:17:35,825 [50] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:17:35,825 [50] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:17:35,825 [50] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:17:35,825 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:17:35,825 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:17:35,825 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:17:35,825 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:17:35,825 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:17:35,835 [50] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:17:35,835 [50] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:17:35,835 [50] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:17:35,835 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:17:35,835 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:17:35,835 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:17:35,835 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:17:35,835 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:17:35,835 [50] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:17:35,835 [50] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:17:39,825 [50] DEBUG dn_lib.tools.log - SQL: select sf.local_path + replace(dbo.folder_path(f.folder_id), '/', '\') as local_path, sf.synch_folder_id, f.folder_name as name
 from dn_folders f 
 join synch_folders sf on sf.synch_folder_id = f.synch_folder_id
 where f.folder_id = 19
2021-03-07 18:17:45,328 [50] DEBUG dn_lib.tools.log - SQL: select free_txt, stato, priorita, tipo, stima, (case when [default] = 1 then '1' else '0' end) as [default]
        from dn_task_free_labels 
2021-03-07 18:18:10,085 [50] ERROR dn_lib.tools.log - error
System.ArgumentException: Formato del percorso non valido.
   in System.IO.Path.LegacyNormalizePath(String path, Boolean fullCheck, Int32 maxPathLength, Boolean expandShortPaths)
   in System.IO.Path.GetFullPathInternal(String path)
   in System.IO.FileInfo.Init(String fileName, Boolean checkHost)
   in dn_lib.doc_task.save(String path) in C:\root\todd\git\dn\dn_lib\notes\doc_task.cs:riga 24
   in deepanotes.notes.add_task(Int32 synch_folder_id, Int32 folder_id, Nullable`1 search_id, String stato, String title, String assegna, String priorita, String tipo, String stima) in c:\root\todd\git\dn\deepanotes\App_Code\notes.cs:riga 550
   in _notes.OnInit(EventArgs e) in c:\root\todd\git\dn\deepanotes\notes.aspx.cs:riga 137
2021-03-07 18:18:42,435 [50] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:18:42,435 [50] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:18:42,445 [50] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:18:42,445 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:18:42,445 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:18:42,445 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:18:42,445 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:18:42,445 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:18:42,445 [50] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:18:42,445 [50] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:18:42,445 [50] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:18:42,445 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:18:42,455 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:18:42,455 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:18:42,455 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:18:42,455 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:18:42,455 [50] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:18:42,455 [50] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:18:42,455 [50] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:18:42,455 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:18:42,455 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:18:42,455 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:18:42,455 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:18:42,455 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:18:42,455 [50] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:18:42,455 [50] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:18:55,483 [50] DEBUG dn_lib.tools.log - SQL: select sf.local_path + replace(dbo.folder_path(f.folder_id), '/', '\') as local_path, sf.synch_folder_id, f.folder_name as name
 from dn_folders f 
 join synch_folders sf on sf.synch_folder_id = f.synch_folder_id
 where f.folder_id = 19
2021-03-07 18:18:55,499 [50] DEBUG dn_lib.tools.log - SQL: select free_txt, stato, priorita, tipo, stima, (case when [default] = 1 then '1' else '0' end) as [default]
        from dn_task_free_labels 
2021-03-07 18:19:35,634 [50] ERROR dn_lib.tools.log - error
System.ArgumentException: Formato del percorso non valido.
   in System.IO.Path.LegacyNormalizePath(String path, Boolean fullCheck, Int32 maxPathLength, Boolean expandShortPaths)
   in System.IO.Path.GetFullPathInternal(String path)
   in System.IO.FileInfo.Init(String fileName, Boolean checkHost)
   in dn_lib.doc_task.save(String path) in C:\root\todd\git\dn\dn_lib\notes\doc_task.cs:riga 24
   in deepanotes.notes.add_task(Int32 synch_folder_id, Int32 folder_id, Nullable`1 search_id, String stato, String title, String assegna, String priorita, String tipo, String stima) in c:\root\todd\git\dn\deepanotes\App_Code\notes.cs:riga 550
   in _notes.OnInit(EventArgs e) in c:\root\todd\git\dn\deepanotes\notes.aspx.cs:riga 137
2021-03-07 18:20:55,826 [50] INFO dn_lib.tools.log - reload core
2021-03-07 18:20:55,860 [50] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:20:55,863 [50] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:20:55,865 [50] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:20:55,866 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:20:55,868 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:20:55,870 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:20:55,881 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:20:55,889 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:20:55,891 [50] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:20:55,892 [50] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:20:55,894 [50] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:20:55,896 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:20:55,896 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:20:55,897 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:20:55,898 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:20:55,899 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:20:55,900 [50] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:20:55,902 [50] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:20:55,918 [50] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:20:55,920 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:20:55,921 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:20:55,922 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:20:55,923 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:20:55,923 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:20:55,924 [50] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:20:55,925 [50] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:20:55,980 [18] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:20:55,981 [18] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:20:55,982 [18] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:20:55,982 [18] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:20:55,983 [18] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:20:55,984 [18] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:20:55,986 [18] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:20:55,986 [18] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:20:55,987 [18] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:20:55,987 [18] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:20:55,988 [18] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:20:55,988 [18] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:20:55,988 [18] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:20:55,989 [18] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:20:55,989 [18] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:20:55,990 [18] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:20:55,990 [18] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:20:55,991 [18] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:20:55,991 [18] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:20:55,991 [18] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:20:55,992 [18] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:20:55,992 [18] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:20:55,993 [18] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:20:55,993 [18] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:20:55,993 [18] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:20:55,994 [18] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:20:56,063 [49] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:20:56,063 [49] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:20:56,064 [49] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:20:56,065 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:20:56,065 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:20:56,066 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:20:56,066 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:20:56,067 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:20:56,069 [49] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:20:56,070 [49] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:20:56,071 [49] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:20:56,071 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:20:56,072 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:20:56,072 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:20:56,073 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:20:56,073 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:20:56,074 [49] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:20:56,074 [49] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:20:56,075 [49] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:20:56,075 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:20:56,076 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:20:56,076 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:20:56,077 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:20:56,077 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:20:56,078 [49] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:20:56,081 [49] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:20:56,109 [49] DEBUG dn_lib.tools.log - SQL: select task_filter_id, filter_title, filter_notes, filter_def, filter_class
 from dn_tasks_filters order by filter_order
2021-03-07 18:20:56,113 [49] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = 0 and var_name in ('active-task-filter')
2021-03-07 18:20:56,118 [49] DEBUG dn_lib.tools.log - SQL: select ft.tp, ft.synch_folder_id, ft.folder_id, ft.parent_id, ft.title
       , ft.des, ft.http_path, ft.lvl, dbo.folder_path(ft.folder_id) as folder_path
       , (select top 1 1 from dn_tasks where folder_id = ft.folder_id) as is_task
      from dbo.fnc_dn_folders(null, null) ft
      
      order by ft.synch_folder_id, ft.lvl, ft.title
2021-03-07 18:20:56,202 [49] DEBUG dn_lib.tools.log - SQL: select f.synch_folder_id, f.file_id, f.folder_id, f.file_name, f.dt_ins , null as found_file
       from dn_files f
       where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
        
	      where ft.synch_folder_id = f.synch_folder_id 
          and isnull(ft.folder_id, 0) = isnull(f.folder_id, 0))
2021-03-07 18:20:56,263 [49] DEBUG dn_lib.tools.log - SQL: select t3.*
      , tst.stato, tst.[order] as stato_order, isnull(tst.class, 'light') as stato_class, isnull(tst.title_plurale, '') as stato_title_plurale, isnull(tst.title_singolare, '') as stato_title_singolare
      , tp.priorita, tp.[order] as priorita_order, isnull(tp.class, 'light') as priorita_class, isnull(tp.title_plurale, '') as priorita_title_plurale, isnull(tp.title_singolare, '') as priorita_title_singolare
      , tt.tipo, tt.[order] as tipo_order, isnull(tt.class, 'light') as tipo_class, isnull(tt.title_plurale, '') as tipo_title_plurale, isnull(tt.title_singolare, '') as tipo_title_singolare
      , ts.stima, ts.[days] as stima_days, isnull(ts.class, 'light') as stima_class, isnull(ts.title_plurale, '') as stima_title_plurale, isnull(ts.title_singolare, '') as stima_title_singolare
      , (select top 1 1 from dn_tasks_notes where task_id = t3.task_id) as task_notes
      , (select top 1 1 from vw_task_allegati f2 where f2.task_id = t3.task_id 
          and not exists (select top 1 1 from dn_files_info where file_name = f2.file_name)) as task_files
  from (select t2.*, datediff(day, t2.dt_ref, getdate()) as diff_days
    from (select t.task_id, t.synch_folder_id, isnull(t.folder_id, f.folder_id) as folder_id
	   , t.file_id, t.title, t.[user], t.stato, t.priorita, t.tipo, t.stima, t.dt_ins, t.dt_upd
     , t.dt_lwt, (case when isnull(t.dt_ins, 0) > isnull(t.dt_upd, 0) then t.dt_ins else t.dt_upd end) as dt_ref
	  from dn_tasks t
    
	  left join dn_files f on f.file_id = t.file_id
    where (null is null or (null is not null and t.task_id = null)) ) t2
    where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
	    where  ft.synch_folder_id = t2.synch_folder_id 
       and isnull(ft.folder_id, 0) = isnull(t2.folder_id, 0))) t3
   left join dn_task_stato tst on tst.stato = t3.stato
   left join dn_task_priorita tp on tp.priorita = t3.priorita
   left join dn_task_tipo tt on tt.tipo = t3.tipo
   left join dn_task_stima ts on ts.stima = t3.stima
   where 1 = 1 
2021-03-07 18:20:56,420 [49] DEBUG dn_lib.tools.log - SQL: select title_singolare, stato from dn_task_stato order by [order]
2021-03-07 18:20:56,683 [49] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, priorita as [value], [order] from dn_task_priorita
      ) t order by t.[order]
2021-03-07 18:20:56,770 [49] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [days]
       union select title_singolare as title, stima as [value], [days] from dn_task_stima 
       ) t order by t.[days]
2021-03-07 18:20:56,772 [49] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, tipo as [value], [order] from dn_task_tipo
       ) t order by t.[order]
2021-03-07 18:20:56,773 [49] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value]
       union select nome as title, nome as [value] from users
       ) t order by 2
2021-03-07 18:21:00,752 [50] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:21:00,753 [50] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:21:00,754 [50] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:21:00,755 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:21:00,756 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:21:00,757 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:21:00,757 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:21:00,758 [50] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:21:00,758 [50] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:21:00,759 [50] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:21:00,759 [50] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:21:00,760 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:21:00,760 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:21:00,761 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:21:00,761 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:21:00,762 [50] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:21:00,762 [50] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:21:00,763 [50] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:21:00,763 [50] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:21:00,764 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:21:00,764 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:21:00,765 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:21:00,765 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:21:00,766 [50] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:21:00,767 [50] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:21:00,768 [50] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:21:00,807 [18] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:21:00,808 [18] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:21:00,809 [18] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:21:00,809 [18] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:21:00,809 [18] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:21:00,810 [18] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:21:00,811 [18] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:21:00,811 [18] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:21:00,811 [18] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:21:00,812 [18] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:21:00,812 [18] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:21:00,813 [18] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:21:00,813 [18] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:21:00,813 [18] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:21:00,814 [18] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:21:00,814 [18] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:21:00,814 [18] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:21:00,815 [18] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:21:00,815 [18] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:21:00,815 [18] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:21:00,816 [18] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:21:00,817 [18] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:21:00,817 [18] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:21:00,818 [18] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:21:00,819 [18] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:21:00,820 [18] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:21:00,829 [18] DEBUG dn_lib.tools.log - SQL: select task_filter_id, filter_title, filter_notes, filter_def, filter_class
 from dn_tasks_filters order by filter_order
2021-03-07 18:21:00,830 [18] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = 0 and var_name in ('active-task-filter')
2021-03-07 18:21:00,831 [18] DEBUG dn_lib.tools.log - SQL: select ft.tp, ft.synch_folder_id, ft.folder_id, ft.parent_id, ft.title
       , ft.des, ft.http_path, ft.lvl, dbo.folder_path(ft.folder_id) as folder_path
       , (select top 1 1 from dn_tasks where folder_id = ft.folder_id) as is_task
      from dbo.fnc_dn_folders(19, null) ft
      
      order by ft.synch_folder_id, ft.lvl, ft.title
2021-03-07 18:21:00,835 [18] DEBUG dn_lib.tools.log - SQL: select f.synch_folder_id, f.file_id, f.folder_id, f.file_name, f.dt_ins , null as found_file
       from dn_files f
       where exists (select top 1 1 from dbo.fnc_dn_folders(19, null) ft 
        
	      where ft.synch_folder_id = f.synch_folder_id 
          and isnull(ft.folder_id, 0) = isnull(f.folder_id, 0))
2021-03-07 18:21:00,838 [18] DEBUG dn_lib.tools.log - SQL: select t3.*
      , tst.stato, tst.[order] as stato_order, isnull(tst.class, 'light') as stato_class, isnull(tst.title_plurale, '') as stato_title_plurale, isnull(tst.title_singolare, '') as stato_title_singolare
      , tp.priorita, tp.[order] as priorita_order, isnull(tp.class, 'light') as priorita_class, isnull(tp.title_plurale, '') as priorita_title_plurale, isnull(tp.title_singolare, '') as priorita_title_singolare
      , tt.tipo, tt.[order] as tipo_order, isnull(tt.class, 'light') as tipo_class, isnull(tt.title_plurale, '') as tipo_title_plurale, isnull(tt.title_singolare, '') as tipo_title_singolare
      , ts.stima, ts.[days] as stima_days, isnull(ts.class, 'light') as stima_class, isnull(ts.title_plurale, '') as stima_title_plurale, isnull(ts.title_singolare, '') as stima_title_singolare
      , (select top 1 1 from dn_tasks_notes where task_id = t3.task_id) as task_notes
      , (select top 1 1 from vw_task_allegati f2 where f2.task_id = t3.task_id 
          and not exists (select top 1 1 from dn_files_info where file_name = f2.file_name)) as task_files
  from (select t2.*, datediff(day, t2.dt_ref, getdate()) as diff_days
    from (select t.task_id, t.synch_folder_id, isnull(t.folder_id, f.folder_id) as folder_id
	   , t.file_id, t.title, t.[user], t.stato, t.priorita, t.tipo, t.stima, t.dt_ins, t.dt_upd
     , t.dt_lwt, (case when isnull(t.dt_ins, 0) > isnull(t.dt_upd, 0) then t.dt_ins else t.dt_upd end) as dt_ref
	  from dn_tasks t
    
	  left join dn_files f on f.file_id = t.file_id
    where (null is null or (null is not null and t.task_id = null)) ) t2
    where exists (select top 1 1 from dbo.fnc_dn_folders(19, null) ft 
	    where  ft.tp <> 'synch_folder' and  ft.synch_folder_id = t2.synch_folder_id 
       and isnull(ft.folder_id, 0) = isnull(t2.folder_id, 0))) t3
   left join dn_task_stato tst on tst.stato = t3.stato
   left join dn_task_priorita tp on tp.priorita = t3.priorita
   left join dn_task_tipo tt on tt.tipo = t3.tipo
   left join dn_task_stima ts on ts.stima = t3.stima
   where 1 = 1 
2021-03-07 18:21:00,844 [18] DEBUG dn_lib.tools.log - SQL: select title_singolare, stato from dn_task_stato order by [order]
2021-03-07 18:21:00,847 [18] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, priorita as [value], [order] from dn_task_priorita
      ) t order by t.[order]
2021-03-07 18:21:00,849 [18] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [days]
       union select title_singolare as title, stima as [value], [days] from dn_task_stima 
       ) t order by t.[days]
2021-03-07 18:21:00,851 [18] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, tipo as [value], [order] from dn_task_tipo
       ) t order by t.[order]
2021-03-07 18:21:00,852 [18] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value]
       union select nome as title, nome as [value] from users
       ) t order by 2
2021-03-07 18:21:08,140 [49] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:21:08,141 [49] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:21:08,142 [49] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:21:08,143 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:21:08,143 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:21:08,144 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:21:08,145 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:21:08,146 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:21:08,146 [49] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:21:08,147 [49] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:21:08,148 [49] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:21:08,148 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:21:08,149 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:21:08,150 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:21:08,150 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:21:08,151 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:21:08,151 [49] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:21:08,152 [49] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:21:08,152 [49] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:21:08,153 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:21:08,154 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:21:08,154 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:21:08,155 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:21:08,155 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:21:08,156 [49] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:21:08,156 [49] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:21:14,007 [49] DEBUG dn_lib.tools.log - SQL: select sf.local_path + replace(dbo.folder_path(f.folder_id), '/', '\') as local_path, sf.synch_folder_id, f.folder_name as name
 from dn_folders f 
 join synch_folders sf on sf.synch_folder_id = f.synch_folder_id
 where f.folder_id = 19
2021-03-07 18:21:14,010 [49] DEBUG dn_lib.tools.log - SQL: select free_txt, stato, priorita, tipo, stima, (case when [default] = 1 then '1' else '0' end) as [default]
        from dn_task_free_labels 
2021-03-07 18:22:06,578 [49] ERROR dn_lib.tools.log - error
System.ArgumentException: Formato del percorso non valido.
   in System.IO.Path.LegacyNormalizePath(String path, Boolean fullCheck, Int32 maxPathLength, Boolean expandShortPaths)
   in System.IO.Path.GetFullPathInternal(String path)
   in System.IO.FileInfo.Init(String fileName, Boolean checkHost)
   in dn_lib.doc_task.save(String path) in C:\root\todd\git\dn\dn_lib\notes\doc_task.cs:riga 24
   in deepanotes.notes.add_task(Int32 synch_folder_id, Int32 folder_id, Nullable`1 search_id, String stato, String title, String assegna, String priorita, String tipo, String stima) in c:\root\todd\git\dn\deepanotes\App_Code\notes.cs:riga 550
   in _notes.OnInit(EventArgs e) in c:\root\todd\git\dn\deepanotes\notes.aspx.cs:riga 137
2021-03-07 18:26:21,165 [46] INFO dn_lib.tools.log - reload core
2021-03-07 18:26:21,197 [46] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:26:21,199 [46] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:21,201 [46] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:21,201 [46] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:21,203 [46] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:21,204 [46] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:21,214 [46] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:21,223 [46] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:21,224 [46] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:21,225 [46] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:21,227 [46] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:21,228 [46] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:21,228 [46] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:21,229 [46] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:21,230 [46] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:21,231 [46] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:21,232 [46] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:21,233 [46] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:21,239 [46] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:21,241 [46] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:21,242 [46] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:21,243 [46] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:21,244 [46] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:21,244 [46] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:21,245 [46] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:21,247 [46] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:26:21,278 [36] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:26:21,279 [36] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:21,280 [36] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:21,280 [36] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:21,282 [36] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:21,283 [36] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:21,284 [36] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:21,285 [36] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:21,285 [36] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:21,286 [36] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:21,287 [36] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:21,287 [36] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:21,287 [36] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:21,288 [36] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:21,288 [36] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:21,289 [36] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:21,289 [36] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:21,290 [36] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:21,290 [36] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:21,291 [36] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:21,291 [36] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:21,292 [36] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:21,292 [36] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:21,293 [36] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:21,293 [36] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:21,294 [36] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:26:21,325 [39] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:26:21,326 [39] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:21,326 [39] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:21,327 [39] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:21,328 [39] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:21,329 [39] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:21,329 [39] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:21,330 [39] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:21,331 [39] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:21,332 [39] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:21,333 [39] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:21,334 [39] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:21,335 [39] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:21,335 [39] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:21,336 [39] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:21,336 [39] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:21,337 [39] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:21,337 [39] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:21,338 [39] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:21,338 [39] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:21,339 [39] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:21,339 [39] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:21,340 [39] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:21,340 [39] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:21,340 [39] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:21,343 [39] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:26:21,366 [39] DEBUG dn_lib.tools.log - SQL: select task_filter_id, filter_title, filter_notes, filter_def, filter_class
 from dn_tasks_filters order by filter_order
2021-03-07 18:26:21,370 [39] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = 0 and var_name in ('active-task-filter')
2021-03-07 18:26:21,374 [39] DEBUG dn_lib.tools.log - SQL: select ft.tp, ft.synch_folder_id, ft.folder_id, ft.parent_id, ft.title
       , ft.des, ft.http_path, ft.lvl, dbo.folder_path(ft.folder_id) as folder_path
       , (select top 1 1 from dn_tasks where folder_id = ft.folder_id) as is_task
      from dbo.fnc_dn_folders(null, null) ft
      
      order by ft.synch_folder_id, ft.lvl, ft.title
2021-03-07 18:26:21,452 [39] DEBUG dn_lib.tools.log - SQL: select f.synch_folder_id, f.file_id, f.folder_id, f.file_name, f.dt_ins , null as found_file
       from dn_files f
       where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
        
	      where ft.synch_folder_id = f.synch_folder_id 
          and isnull(ft.folder_id, 0) = isnull(f.folder_id, 0))
2021-03-07 18:26:21,517 [39] DEBUG dn_lib.tools.log - SQL: select t3.*
      , tst.stato, tst.[order] as stato_order, isnull(tst.class, 'light') as stato_class, isnull(tst.title_plurale, '') as stato_title_plurale, isnull(tst.title_singolare, '') as stato_title_singolare
      , tp.priorita, tp.[order] as priorita_order, isnull(tp.class, 'light') as priorita_class, isnull(tp.title_plurale, '') as priorita_title_plurale, isnull(tp.title_singolare, '') as priorita_title_singolare
      , tt.tipo, tt.[order] as tipo_order, isnull(tt.class, 'light') as tipo_class, isnull(tt.title_plurale, '') as tipo_title_plurale, isnull(tt.title_singolare, '') as tipo_title_singolare
      , ts.stima, ts.[days] as stima_days, isnull(ts.class, 'light') as stima_class, isnull(ts.title_plurale, '') as stima_title_plurale, isnull(ts.title_singolare, '') as stima_title_singolare
      , (select top 1 1 from dn_tasks_notes where task_id = t3.task_id) as task_notes
      , (select top 1 1 from vw_task_allegati f2 where f2.task_id = t3.task_id 
          and not exists (select top 1 1 from dn_files_info where file_name = f2.file_name)) as task_files
  from (select t2.*, datediff(day, t2.dt_ref, getdate()) as diff_days
    from (select t.task_id, t.synch_folder_id, isnull(t.folder_id, f.folder_id) as folder_id
	   , t.file_id, t.title, t.[user], t.stato, t.priorita, t.tipo, t.stima, t.dt_ins, t.dt_upd
     , t.dt_lwt, (case when isnull(t.dt_ins, 0) > isnull(t.dt_upd, 0) then t.dt_ins else t.dt_upd end) as dt_ref
	  from dn_tasks t
    
	  left join dn_files f on f.file_id = t.file_id
    where (null is null or (null is not null and t.task_id = null)) ) t2
    where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
	    where  ft.synch_folder_id = t2.synch_folder_id 
       and isnull(ft.folder_id, 0) = isnull(t2.folder_id, 0))) t3
   left join dn_task_stato tst on tst.stato = t3.stato
   left join dn_task_priorita tp on tp.priorita = t3.priorita
   left join dn_task_tipo tt on tt.tipo = t3.tipo
   left join dn_task_stima ts on ts.stima = t3.stima
   where 1 = 1 
2021-03-07 18:26:21,651 [39] DEBUG dn_lib.tools.log - SQL: select title_singolare, stato from dn_task_stato order by [order]
2021-03-07 18:26:21,899 [39] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, priorita as [value], [order] from dn_task_priorita
      ) t order by t.[order]
2021-03-07 18:26:21,980 [39] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [days]
       union select title_singolare as title, stima as [value], [days] from dn_task_stima 
       ) t order by t.[days]
2021-03-07 18:26:21,982 [39] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, tipo as [value], [order] from dn_task_tipo
       ) t order by t.[order]
2021-03-07 18:26:21,983 [39] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value]
       union select nome as title, nome as [value] from users
       ) t order by 2
2021-03-07 18:26:28,941 [41] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:26:28,942 [41] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:28,943 [41] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:28,944 [41] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:28,945 [41] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:28,945 [41] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:28,946 [41] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:28,947 [41] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:28,948 [41] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:28,949 [41] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:28,949 [41] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:28,949 [41] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:28,950 [41] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:28,950 [41] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:28,951 [41] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:28,951 [41] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:28,951 [41] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:28,952 [41] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:28,952 [41] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:28,953 [41] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:28,953 [41] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:28,953 [41] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:28,954 [41] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:28,954 [41] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:28,954 [41] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:28,955 [41] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:26:28,967 [36] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:26:28,967 [36] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:28,968 [36] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:28,968 [36] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:28,969 [36] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:28,970 [36] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:28,970 [36] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:28,971 [36] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:28,971 [36] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:28,972 [36] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:28,972 [36] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:28,972 [36] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:28,973 [36] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:28,973 [36] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:28,974 [36] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:28,974 [36] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:28,974 [36] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:28,975 [36] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:28,975 [36] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:28,976 [36] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:28,976 [36] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:28,976 [36] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:28,977 [36] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:28,977 [36] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:28,978 [36] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:28,978 [36] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:26:28,986 [36] DEBUG dn_lib.tools.log - SQL: select task_filter_id, filter_title, filter_notes, filter_def, filter_class
 from dn_tasks_filters order by filter_order
2021-03-07 18:26:28,987 [36] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = 0 and var_name in ('active-task-filter')
2021-03-07 18:26:28,988 [36] DEBUG dn_lib.tools.log - SQL: select ft.tp, ft.synch_folder_id, ft.folder_id, ft.parent_id, ft.title
       , ft.des, ft.http_path, ft.lvl, dbo.folder_path(ft.folder_id) as folder_path
       , (select top 1 1 from dn_tasks where folder_id = ft.folder_id) as is_task
      from dbo.fnc_dn_folders(19, null) ft
      
      order by ft.synch_folder_id, ft.lvl, ft.title
2021-03-07 18:26:28,990 [36] DEBUG dn_lib.tools.log - SQL: select f.synch_folder_id, f.file_id, f.folder_id, f.file_name, f.dt_ins , null as found_file
       from dn_files f
       where exists (select top 1 1 from dbo.fnc_dn_folders(19, null) ft 
        
	      where ft.synch_folder_id = f.synch_folder_id 
          and isnull(ft.folder_id, 0) = isnull(f.folder_id, 0))
2021-03-07 18:26:28,993 [36] DEBUG dn_lib.tools.log - SQL: select t3.*
      , tst.stato, tst.[order] as stato_order, isnull(tst.class, 'light') as stato_class, isnull(tst.title_plurale, '') as stato_title_plurale, isnull(tst.title_singolare, '') as stato_title_singolare
      , tp.priorita, tp.[order] as priorita_order, isnull(tp.class, 'light') as priorita_class, isnull(tp.title_plurale, '') as priorita_title_plurale, isnull(tp.title_singolare, '') as priorita_title_singolare
      , tt.tipo, tt.[order] as tipo_order, isnull(tt.class, 'light') as tipo_class, isnull(tt.title_plurale, '') as tipo_title_plurale, isnull(tt.title_singolare, '') as tipo_title_singolare
      , ts.stima, ts.[days] as stima_days, isnull(ts.class, 'light') as stima_class, isnull(ts.title_plurale, '') as stima_title_plurale, isnull(ts.title_singolare, '') as stima_title_singolare
      , (select top 1 1 from dn_tasks_notes where task_id = t3.task_id) as task_notes
      , (select top 1 1 from vw_task_allegati f2 where f2.task_id = t3.task_id 
          and not exists (select top 1 1 from dn_files_info where file_name = f2.file_name)) as task_files
  from (select t2.*, datediff(day, t2.dt_ref, getdate()) as diff_days
    from (select t.task_id, t.synch_folder_id, isnull(t.folder_id, f.folder_id) as folder_id
	   , t.file_id, t.title, t.[user], t.stato, t.priorita, t.tipo, t.stima, t.dt_ins, t.dt_upd
     , t.dt_lwt, (case when isnull(t.dt_ins, 0) > isnull(t.dt_upd, 0) then t.dt_ins else t.dt_upd end) as dt_ref
	  from dn_tasks t
    
	  left join dn_files f on f.file_id = t.file_id
    where (null is null or (null is not null and t.task_id = null)) ) t2
    where exists (select top 1 1 from dbo.fnc_dn_folders(19, null) ft 
	    where  ft.tp <> 'synch_folder' and  ft.synch_folder_id = t2.synch_folder_id 
       and isnull(ft.folder_id, 0) = isnull(t2.folder_id, 0))) t3
   left join dn_task_stato tst on tst.stato = t3.stato
   left join dn_task_priorita tp on tp.priorita = t3.priorita
   left join dn_task_tipo tt on tt.tipo = t3.tipo
   left join dn_task_stima ts on ts.stima = t3.stima
   where 1 = 1 
2021-03-07 18:26:28,999 [36] DEBUG dn_lib.tools.log - SQL: select title_singolare, stato from dn_task_stato order by [order]
2021-03-07 18:26:29,002 [36] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, priorita as [value], [order] from dn_task_priorita
      ) t order by t.[order]
2021-03-07 18:26:29,003 [36] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [days]
       union select title_singolare as title, stima as [value], [days] from dn_task_stima 
       ) t order by t.[days]
2021-03-07 18:26:29,004 [36] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, tipo as [value], [order] from dn_task_tipo
       ) t order by t.[order]
2021-03-07 18:26:29,005 [36] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value]
       union select nome as title, nome as [value] from users
       ) t order by 2
2021-03-07 18:26:58,850 [49] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:26:58,851 [49] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:58,852 [49] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:58,853 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:58,854 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:58,854 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:58,855 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:58,856 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:58,856 [49] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:58,857 [49] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:58,857 [49] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:58,858 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:58,859 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:58,859 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:58,860 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:58,860 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:58,861 [49] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:58,861 [49] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:58,862 [49] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:58,862 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:58,863 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:58,863 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:58,864 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:58,865 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:58,865 [49] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:58,866 [49] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:26:58,879 [52] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:26:58,880 [52] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:58,880 [52] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:58,881 [52] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:58,881 [52] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:58,882 [52] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:58,883 [52] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:58,883 [52] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:58,884 [52] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:58,884 [52] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:58,885 [52] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:58,885 [52] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:58,886 [52] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:58,886 [52] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:58,887 [52] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:58,887 [52] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:58,887 [52] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:58,888 [52] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:58,888 [52] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:58,888 [52] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:58,889 [52] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:58,889 [52] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:58,890 [52] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:58,890 [52] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:58,891 [52] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:58,892 [52] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:26:58,903 [36] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:26:58,904 [36] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:58,905 [36] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:58,905 [36] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:58,906 [36] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:58,906 [36] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:58,907 [36] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:58,908 [36] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:58,909 [36] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:58,909 [36] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:58,909 [36] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:58,910 [36] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:58,910 [36] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:58,911 [36] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:58,911 [36] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:58,911 [36] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:58,912 [36] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:58,912 [36] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:58,913 [36] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:58,913 [36] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:58,914 [36] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:58,914 [36] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:58,915 [36] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:58,915 [36] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:58,916 [36] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:58,916 [36] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:26:59,472 [41] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:26:59,473 [41] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:59,475 [41] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:59,476 [41] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:59,477 [41] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:59,478 [41] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:59,479 [41] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:59,479 [41] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:59,480 [41] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:59,481 [41] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:59,482 [41] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:59,482 [41] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:59,483 [41] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:59,484 [41] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:59,484 [41] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:59,485 [41] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:59,485 [41] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:59,486 [41] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:26:59,486 [41] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:26:59,487 [41] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:26:59,488 [41] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:26:59,488 [41] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:26:59,489 [41] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:26:59,489 [41] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:26:59,489 [41] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:26:59,490 [41] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:26:59,534 [41] DEBUG dn_lib.tools.log - SQL: select distinct lower(nome) as nome from users
2021-03-07 18:26:59,536 [41] DEBUG dn_lib.tools.log - SQL: select free_txt, stato, priorita, tipo, stima, (case when [default] = 1 then '1' else '0' end) as [default]
        from dn_task_free_labels 
2021-03-07 18:26:59,538 [41] DEBUG dn_lib.tools.log - SQL: select file_name, type_info from dn_files_info
2021-03-07 18:26:59,540 [41] DEBUG dn_lib.tools.log - SQL: select extension, des_extension, open_comment, close_comment, type_content from dn_files_types
2021-03-07 18:26:59,542 [41] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = -1 and var_name in ('synch-files')
2021-03-07 18:26:59,543 [41] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = -1 and var_name in ('synch-folders')
2021-03-07 18:26:59,544 [41] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = -1 and var_name in ('synch-lwt')
2021-03-07 18:26:59,545 [41] DEBUG dn_lib.tools.log - SQL: select sf.synch_folder_id, sf.pc_name, sf.[title], sf.[des], sf.local_path, sf.http_path, sf.[user], sf.[password]
        from synch_folders sf where sf.pc_name = 'MOLINOVO' order by sf.[title]
2021-03-07 18:26:59,609 [41] DEBUG dn_lib.tools.log - elenco cartelle da sincronizzare
2021-03-07 18:26:59,610 [41] DEBUG dn_lib.tools.log - SQL: select sf.synch_folder_id, sf.pc_name, sf.[title], sf.[des], sf.local_path, sf.http_path, sf.[user], sf.[password]
        from synch_folders sf where sf.pc_name = 'MOLINOVO' order by sf.[title]
2021-03-07 18:26:59,611 [41] DEBUG dn_lib.tools.log -    - cartella di sincronizzazione 'dipa notess' - Deepa Notes, path: C:\root\todd\_test\dn
2021-03-07 18:26:59,613 [41] DEBUG dn_lib.tools.log - SQL: update dn_folders set readed = null;
      update dn_files set readed = null;
      update dn_tasks set readed = null;
2021-03-07 18:26:59,628 [41] DEBUG dn_lib.tools.log - elaboro la cartella C:\root\todd\_test\dn...
2021-03-07 18:26:59,630 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'aggiornamento dati';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'aggiornamento dati', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,634 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 2 
        and folder_name = 'via i prezzi custom di mapfre.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 2, 'via i prezzi custom di mapfre.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,638 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 3 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 3, null, left('via i prezzi custom di mapfre', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('via i prezzi custom di mapfre', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:35', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('via i prezzi custom di mapfre', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,641 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 3 and file_name = 'via i prezzi mapfre custom.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 3, 'via i prezzi mapfre custom.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-26 16:00:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-26 16:00:11', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-26 16:00:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,643 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 2) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,645 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'cauzioni';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'cauzioni', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,647 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'condizione particolare tecnodue .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'condizione particolare tecnodue .task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,649 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 5 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 5, null, left('condizione particolare tecnodue ', 150)
            , 'molina', convert(datetime, '2020-07-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', NULL, convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-30 00:00:00', 120), dt_upd = NULL
         , title = left('condizione particolare tecnodue ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('condizione particolare tecnodue ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,650 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 5 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 5, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 10:08:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-30 10:08:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 10:08:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,651 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 5 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 5, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 11:50:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-30 11:50:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 11:50:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,653 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 3) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,655 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'elimina note interne dopo invio mail.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'elimina note interne dopo invio mail.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,656 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 6 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 6, null, left('elimina note interne dopo invio mail', 150)
            , 'molina', convert(datetime, '2020-07-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-29 00:00:00', 120), dt_upd = NULL
         , title = left('elimina note interne dopo invio mail', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('elimina note interne dopo invio mail', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,657 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 6 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 6, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 16:10:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-29 16:10:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 16:10:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,658 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 4) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,659 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'errore - riferimento a un oggetto non impostato sul rientro.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'errore - riferimento a un oggetto non impostato sul rientro.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,660 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 7 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 7, null, left('errore - riferimento a un oggetto non impostato sul rientro', 150)
            , 'molina', convert(datetime, '2020-07-27 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-27 00:00:00', 120), dt_upd = NULL
         , title = left('errore - riferimento a un oggetto non impostato sul rientro', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('errore - riferimento a un oggetto non impostato sul rientro', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,661 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 7 and file_name = 'dipa-20200727.log';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 7, 'dipa-20200727.log', '.log', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 12:18:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-27 12:18:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 12:18:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,662 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 7 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 7, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 15:33:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-27 15:33:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 15:33:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,663 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 7 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 7, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 15:30:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-27 15:30:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 15:30:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,663 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 5) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,665 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'etichette automatiche arrivi resi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'etichette automatiche arrivi resi.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,666 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 8 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 8, null, left('etichette automatiche arrivi resi', 150)
            , 'molina', convert(datetime, '2020-09-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-23 00:00:00', 120), dt_upd = NULL
         , title = left('etichette automatiche arrivi resi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('etichette automatiche arrivi resi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,667 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 8 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 8, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-23 14:50:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-23 14:50:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-23 14:50:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,668 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 6) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,669 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'filtro anno e altre cosette.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'filtro anno e altre cosette.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,670 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 9 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 9, null, left('filtro anno e altre cosette', 150)
            , 'molina', convert(datetime, '2020-11-16 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-16 00:00:00', 120), dt_upd = NULL
         , title = left('filtro anno e altre cosette', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-16 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('filtro anno e altre cosette', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,671 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 9 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 9, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-16 08:43:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-16 08:43:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-16 08:43:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,672 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 7) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,673 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'mail in automatico al cliente per le garanzie anticipate.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'mail in automatico al cliente per le garanzie anticipate.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,674 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 10 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 10, null, left('mail in automatico al cliente per le garanzie anticipate', 150)
            , 'molina', convert(datetime, '2020-07-07 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-07 00:00:00', 120), dt_upd = NULL
         , title = left('mail in automatico al cliente per le garanzie anticipate', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:35', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-07 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('mail in automatico al cliente per le garanzie anticipate', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,676 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 10 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 10, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-07 09:55:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-07 09:55:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-07 09:55:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,677 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 8) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,678 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'non voglio pi vedere la pratica.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'non voglio pi vedere la pratica.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,679 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 11 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 11, null, left('non voglio pi vedere la pratica', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('non voglio pi vedere la pratica', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('non voglio pi vedere la pratica', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,681 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 11 and file_name = 'i.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 11, 'i.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-26 16:30:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-26 16:30:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 16:30:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,681 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 11 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 11, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-29 08:37:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-29 08:37:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 08:37:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,682 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 9) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,683 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'pagina magento reso carcassa.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'pagina magento reso carcassa.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,684 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 12 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 12, null, left('pagina magento reso carcassa', 150)
            , 'molina', convert(datetime, '2020-09-24 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'settimana', convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-24 00:00:00', 120), dt_upd = NULL
         , title = left('pagina magento reso carcassa', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'settimana', dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('pagina magento reso carcassa', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('settimana', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,685 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 12 
        and folder_name = 'bck';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 12, 'bck', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,686 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 13 and file_name = 'mysql.bck.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 13, 'mysql.bck.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-24 12:33:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-24 12:33:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-24 12:33:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,687 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 13 and file_name = 'rpc-index.bck.php';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 13, 'rpc-index.bck.php', '.php', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-24 11:00:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-24 11:00:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-24 11:00:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,687 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 13 and file_name = 'scheduler.bck.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 13, 'scheduler.bck.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-24 10:57:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-24 10:57:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-24 10:57:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,688 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 10) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,690 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 12 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 12, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-19 11:12:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-19 11:12:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-19 11:12:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,691 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 12 and file_name = 'mysql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 12, 'mysql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-25 14:33:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-25 14:33:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-25 14:33:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,692 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 12 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 12, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-08 14:54:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-08 14:54:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-08 14:54:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,693 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 10) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,694 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'revisione cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'revisione cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,695 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 14 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 14, null, left('revisione cauzioni', 150)
            , 'molina', convert(datetime, '2020-09-04 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'giornata', convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-04 00:00:00', 120), dt_upd = NULL
         , title = left('revisione cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-04 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,696 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 14 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 14, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-11 16:52:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-11 16:52:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-11 16:52:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,697 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 14 and file_name = 'lavs_resi.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 14, 'lavs_resi.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-08 17:20:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-08 17:20:41', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-08 17:20:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,698 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 11) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,699 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'revisione colonne griglia cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'revisione colonne griglia cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,700 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 15 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 15, null, left('revisione colonne griglia cauzioni', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('revisione colonne griglia cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione colonne griglia cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,701 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 15 and file_name = 'img.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 15, 'img.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-26 11:53:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-26 11:53:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 11:53:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,702 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 12) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,703 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'ricerca lavorazioni e gestione note.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'ricerca lavorazioni e gestione note.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,704 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 16 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 16, null, left('ricerca lavorazioni e gestione note', 150)
            , 'molina', convert(datetime, '2020-09-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'giornata', convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-17 00:00:00', 120), dt_upd = NULL
         , title = left('ricerca lavorazioni e gestione note', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ricerca lavorazioni e gestione note', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,705 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 13) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,707 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'ritocchi cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'ritocchi cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,708 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 17 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 17, null, left('ritocchi cauzioni', 150)
            , 'molina', convert(datetime, '2020-09-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-21 00:00:00', 120), dt_upd = NULL
         , title = left('ritocchi cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ritocchi cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,709 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 17 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 17, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-21 09:13:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-21 09:13:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-21 09:13:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,710 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 14) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,711 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'SI-NO-URGENTE nella griglia cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'SI-NO-URGENTE nella griglia cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,712 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 18 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 18, null, left('SI-NO-URGENTE nella griglia cauzioni', 150)
            , 'molina', convert(datetime, '2020-09-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-14 00:00:00', 120), dt_upd = NULL
         , title = left('SI-NO-URGENTE nella griglia cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('SI-NO-URGENTE nella griglia cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,713 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 18 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 18, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-15 14:12:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-15 14:12:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-15 14:12:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,714 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 15) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,715 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'crm';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'crm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-07 18:26:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-07 18:26:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-07 18:26:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,719 [41] DEBUG dn_lib.tools.log - aggiornato folder nel database: C:\root\todd\_test\dn\crm
2021-03-07 18:26:59,720 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 19 
        and folder_name = 'gestione codici pi ricercati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 19, 'gestione codici pi ricercati.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,721 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 20 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 20, null, left('gestione codici pi ricercati', 150)
            , 'molina', convert(datetime, '2020-11-02 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-02 00:00:00', 120), dt_upd = NULL
         , title = left('gestione codici pi ricercati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione codici pi ricercati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,722 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 20 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 20, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-02 16:32:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-02 16:32:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-02 16:32:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,724 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 16) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,725 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 19 
        and folder_name = 'pulizia crm.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 19, 'pulizia crm.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,726 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 21 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 21, null, left('pulizia crm', 150)
            , 'molina', convert(datetime, '2020-05-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-05-26 00:00:00', 120), dt_upd = NULL
         , title = left('pulizia crm', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-05-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('pulizia crm', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,727 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 21 
        and folder_name = '_oldies';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 21, '_oldies', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,728 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'App_Code';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'App_Code', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,729 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 23 and file_name = 'backup.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 23, 'backup.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-12-13 15:11:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-12-13 15:11:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-12-13 15:11:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,730 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 23 and file_name = 'db_utilities.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 23, 'db_utilities.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-26 10:47:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-26 10:47:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-26 10:47:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,730 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,732 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'pages';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'pages', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,732 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'recovery.aspx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'recovery.aspx', '.aspx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-10-20 17:46:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-10-20 17:46:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-20 17:46:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,733 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'recovery.aspx.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'recovery.aspx.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-26 10:46:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-26 10:46:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-26 10:46:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,734 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'rifs.aspx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'rifs.aspx', '.aspx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-05-08 14:05:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-05-08 14:05:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-05-08 14:05:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,735 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'rifs.aspx.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'rifs.aspx.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-09-16 17:25:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-09-16 17:25:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-09-16 17:25:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,736 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'sys.css';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'sys.css', '.css', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,736 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'tables.aspx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'tables.aspx', '.aspx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-05-08 14:05:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-05-08 14:05:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-05-08 14:05:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,738 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'tables.aspx.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'tables.aspx.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2018-09-21 17:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2018-09-21 17:44:37', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-09-21 17:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,739 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,740 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'pages_xml';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'pages_xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,741 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 25 and file_name = 'pageBackup.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 25, 'pageBackup.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,742 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 25 and file_name = 'pageBackupImport.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 25, 'pageBackupImport.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,742 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 25 and file_name = 'pageBackups.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 25, 'pageBackups.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-25 17:12:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-25 17:12:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-25 17:12:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,743 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 25 and file_name = 'pageImport.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 25, 'pageImport.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-10-16 14:49:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-10-16 14:49:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-16 14:49:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,744 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,745 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'schemas';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'schemas', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,746 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td19_metaq1.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td19_metaq1.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-06-27 17:35:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-06-27 17:35:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-06-27 17:35:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,747 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td19_schemaq1.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td19_schemaq1.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-06-27 17:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-06-27 17:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-06-27 17:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,748 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'tdsql_metaq3.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'tdsql_metaq3.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-05-13 07:49:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-05-13 07:49:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-05-13 07:49:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,749 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'tdsql_schemaq3.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'tdsql_schemaq3.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-05-13 08:52:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-05-13 08:52:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-05-13 08:52:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,750 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_metaq1.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_metaq1.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:05:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:05:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:05:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,750 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_metaq2.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_metaq2.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:05:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:05:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:05:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,751 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_metaq3.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_metaq3.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:05:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:05:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:05:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,751 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_schemaq1.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_schemaq1.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:04:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:04:57', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:04:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,752 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_schemaq2.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_schemaq2.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:06:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:06:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:06:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,753 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_schemaq3.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_schemaq3.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-07 16:41:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-07 16:41:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-07 16:41:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,754 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'web_meta2016.05.01.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'web_meta2016.05.01.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-10-04 10:03:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-10-04 10:03:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-10-04 10:03:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,755 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'web_schema2016.05.01.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'web_schema2016.05.01.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-08 10:20:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-08 10:20:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-08 10:20:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,756 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,757 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'scripts';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'scripts', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,758 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'clean_all.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'clean_all.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,758 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'clean_cache.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'clean_cache.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,759 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'clean_zz.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'clean_zz.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,760 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'initweb.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'initweb.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,761 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_codici_attivo.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_codici_attivo.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-22 10:16:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-22 10:16:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-22 10:16:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,761 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_enums.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_enums.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2018-09-21 15:17:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2018-09-21 15:17:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-09-21 15:17:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,762 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_ricerche.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_ricerche.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-11-09 16:11:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-11-09 16:11:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-11-09 16:11:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,763 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_tpusers.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_tpusers.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,764 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_users.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_users.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,765 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'resetdb.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'resetdb.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,766 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,767 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,768 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,769 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'ditex';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'ditex', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,770 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 28 
        and folder_name = 'struttura base, pagine web, tabelle.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 28, 'struttura base, pagine web, tabelle.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,771 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 29 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 29, null, left('struttura base, pagine web, tabelle', 150)
            , 'molina', convert(datetime, '2020-12-04 00:00:00', 120), NULL, 1
            , 'sospeso', NULL, 'aggiunta', 'settimana', convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-12-04 00:00:00', 120), dt_upd = NULL
         , title = left('struttura base, pagine web, tabelle', 150), [user] = 'molina'
         , stato = 'sospeso', priorita = NULL
         , tipo = 'aggiunta', stima = 'settimana', dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-12-04 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('struttura base, pagine web, tabelle', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('sospeso', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('settimana', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,772 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 29 and file_name = 'Circolare 4E Agenzia Entrate Iperammortamento 30-03-2017.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 29, 'Circolare 4E Agenzia Entrate Iperammortamento 30-03-2017.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-20 16:01:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-20 16:01:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-20 16:01:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,773 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 29 and file_name = 'ditex.msg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 29, 'ditex.msg', '.msg', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-20 16:01:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-20 16:01:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-20 16:01:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,773 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 29 and file_name = 'ERAGON-COMMESSE.doc';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 29, 'ERAGON-COMMESSE.doc', '.doc', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-20 16:01:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-20 16:01:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-20 16:01:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,774 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 29 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 29, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-12-14 11:06:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-12-14 11:06:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-12-14 11:06:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,776 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 18) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,777 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'estrazioni';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'estrazioni', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,778 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 30 
        and folder_name = 'estrazione dati kromeda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 30, 'estrazione dati kromeda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,779 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 31 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 31, null, left('estrazione dati kromeda', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('estrazione dati kromeda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('estrazione dati kromeda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,780 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 31 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 31, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 12:24:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 12:24:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 12:24:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,781 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 19) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,782 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'lavorazioni';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'lavorazioni', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:45:44', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:44', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:44', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,783 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'accetta lavorazione senza invio mail.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'accetta lavorazione senza invio mail.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,784 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 33 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 33, null, left('accetta lavorazione senza invio mail', 150)
            , 'molina', convert(datetime, '2020-07-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-08 00:00:00', 120), dt_upd = NULL
         , title = left('accetta lavorazione senza invio mail', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('accetta lavorazione senza invio mail', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,785 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 33 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 33, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-09 10:09:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-09 10:09:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-09 10:09:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,786 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 20) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,787 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'aggiunto passaggio da ritirare.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'aggiunto passaggio da ritirare.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,788 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 34 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 34, null, left('aggiunto passaggio da ritirare', 150)
            , 'molina', convert(datetime, '2020-09-01 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezzora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-01 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunto passaggio da ritirare', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-01 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunto passaggio da ritirare', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,789 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 34 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 34, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-01 11:06:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-01 11:06:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-01 11:06:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,791 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 34 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 34, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-01 11:07:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-01 11:07:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-01 11:07:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,792 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 21) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,793 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'controlli uploat sito.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'controlli uploat sito.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,794 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 35 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 35, null, left('controlli uploat sito', 150)
            , 'molina', convert(datetime, '2020-10-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-09 00:00:00', 120), dt_upd = NULL
         , title = left('controlli uploat sito', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('controlli uploat sito', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,795 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 35 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 35, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-09 16:42:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-09 16:42:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-09 16:42:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,796 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 22) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,797 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'data aggiornamento lavorazioni sul sito.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'data aggiornamento lavorazioni sul sito.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,798 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 36 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 36, null, left('data aggiornamento lavorazioni sul sito', 150)
            , 'molina', convert(datetime, '2020-09-03 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezzora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-03 00:00:00', 120), dt_upd = NULL
         , title = left('data aggiornamento lavorazioni sul sito', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-03 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('data aggiornamento lavorazioni sul sito', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,799 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 36 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 36, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 10:37:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-03 10:37:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-03 10:37:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,800 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 23) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,801 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'facilitare l''uso del reso no rip.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'facilitare l''uso del reso no rip.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,803 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 37 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 37, null, left('facilitare l''uso del reso no rip', 150)
            , 'molina', convert(datetime, '2020-07-01 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', 'mezza', convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-01 00:00:00', 120), dt_upd = NULL
         , title = left('facilitare l''uso del reso no rip', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:40:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-01 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('facilitare l''uso del reso no rip', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,804 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 37 and file_name = '1.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 37, '1.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-01 16:41:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-01 16:41:08', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-01 16:41:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,805 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 37 and file_name = '2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 37, '2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-01 16:41:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-01 16:41:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-01 16:41:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,806 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 37 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 37, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-02 14:27:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-02 14:27:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 14:27:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,807 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 24) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,808 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'gestione porta lui.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'gestione porta lui.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,809 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 38 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 38, null, left('gestione porta lui', 150)
            , 'molina', convert(datetime, '2020-09-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'facile', 'ora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-15 00:00:00', 120), dt_upd = NULL
         , title = left('gestione porta lui', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione porta lui', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,810 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 25) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,811 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'gestione tasto INVIO note cliente.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'gestione tasto INVIO note cliente.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,812 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 39 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 39, null, left('gestione tasto INVIO note cliente', 150)
            , 'molina', convert(datetime, '2020-09-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-14 00:00:00', 120), dt_upd = NULL
         , title = left('gestione tasto INVIO note cliente', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione tasto INVIO note cliente', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,813 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 39 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 39, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-14 15:58:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-14 15:58:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-14 15:58:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,814 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 26) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,815 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'lavorazioni - mail inchiodata.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'lavorazioni - mail inchiodata.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,816 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 40 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 40, null, left('lavorazioni - mail inchiodata', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('lavorazioni - mail inchiodata', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('lavorazioni - mail inchiodata', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,817 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 40 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 40, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-27 10:27:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-27 10:27:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-27 10:27:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,819 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 27) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,820 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'ma i numeri di telefono da dove arrivano.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'ma i numeri di telefono da dove arrivano.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:41', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,821 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 41 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 41, null, left('ma i numeri di telefono da dove arrivano', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ma i numeri di telefono da dove arrivano', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:41', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ma i numeri di telefono da dove arrivano', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,822 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 41 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 41, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 09:24:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 09:24:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 09:24:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,823 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 41 and file_name = 'tel lav.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 41, 'tel lav.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-09 17:47:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-09 17:47:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-09 17:47:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,824 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 41 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 41, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-20 15:06:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-20 15:06:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-20 15:06:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,825 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 28) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,826 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'mail - prenota ritiri errata.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'mail - prenota ritiri errata.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,827 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 42 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 42, null, left('mail - prenota ritiri errata', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('mail - prenota ritiri errata', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('mail - prenota ritiri errata', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,828 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 42 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 42, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 09:29:44', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-05 09:29:44', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 09:29:44', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,829 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 29) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,830 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'modifica codici scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'modifica codici scheda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,831 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 43 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 43, null, left('modifica codici scheda', 150)
            , 'molina', convert(datetime, '2020-09-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-29 00:00:00', 120), dt_upd = NULL
         , title = left('modifica codici scheda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('modifica codici scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,832 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 43 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 43, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-29 17:55:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-29 17:55:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-29 17:55:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,833 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 30) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,834 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'nuova scheda - aggiungere anche il reso.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'nuova scheda - aggiungere anche il reso.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,835 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 44 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 44, null, left('nuova scheda - aggiungere anche il reso', 150)
            , 'molina', convert(datetime, '2020-07-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-08 00:00:00', 120), dt_upd = NULL
         , title = left('nuova scheda - aggiungere anche il reso', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuova scheda - aggiungere anche il reso', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,836 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 31) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,837 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'nuovo campo no spese.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'nuovo campo no spese.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,839 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 45 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 45, null, left('nuovo campo no spese', 150)
            , 'molina', convert(datetime, '2021-01-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezzora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-15 00:00:00', 120), dt_upd = NULL
         , title = left('nuovo campo no spese', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuovo campo no spese', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,840 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 45 and file_name = '1.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 45, '1.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 17:35:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-15 17:35:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 17:35:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,841 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 45 and file_name = '2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 45, '2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 17:35:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-15 17:35:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 17:35:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,841 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 45 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 45, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 17:34:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-15 17:34:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 17:34:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,842 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 32) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,843 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'nuovo ordine RESO NON ACCETTATO.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'nuovo ordine RESO NON ACCETTATO.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,845 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 46 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 46, null, left('nuovo ordine RESO NON ACCETTATO', 150)
            , 'molina', convert(datetime, '2020-09-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-28 00:00:00', 120), dt_upd = NULL
         , title = left('nuovo ordine RESO NON ACCETTATO', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuovo ordine RESO NON ACCETTATO', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,846 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 46 and file_name = 'task.spese di gestione.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 46, 'task.spese di gestione.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-28 15:16:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-28 15:16:15', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-28 15:16:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,846 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 33) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,848 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'nuovo tipo di lavorazione RESO DA CLIENTE.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'nuovo tipo di lavorazione RESO DA CLIENTE.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,849 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 47 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 47, null, left('nuovo tipo di lavorazione RESO DA CLIENTE', 150)
            , 'molina', convert(datetime, '2020-07-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', NULL, convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-08 00:00:00', 120), dt_upd = NULL
         , title = left('nuovo tipo di lavorazione RESO DA CLIENTE', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuovo tipo di lavorazione RESO DA CLIENTE', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,850 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 47 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 47, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-08 15:29:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-08 15:29:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-08 15:29:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,851 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 34) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,852 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'pdf lavorazione senza intestazione cliente.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'pdf lavorazione senza intestazione cliente.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,853 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 48 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 48, null, left('pdf lavorazione senza intestazione cliente', 150)
            , 'molina', convert(datetime, '2020-06-24 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'facile', NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-24 00:00:00', 120), dt_upd = NULL
         , title = left('pdf lavorazione senza intestazione cliente', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('pdf lavorazione senza intestazione cliente', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,854 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 35) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,855 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'poter cambiare una lavorazione da GAR a LAV.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'poter cambiare una lavorazione da GAR a LAV.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,856 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 49 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 49, null, left('poter cambiare una lavorazione da GAR a LAV', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('poter cambiare una lavorazione da GAR a LAV', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('poter cambiare una lavorazione da GAR a LAV', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,857 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 49 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 49, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-24 15:46:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-24 15:46:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-24 15:46:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,858 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 49 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 49, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,859 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 36) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,860 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'poter inserire anche files pdf o altro oltre alle immagini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'poter inserire anche files pdf o altro oltre alle immagini.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:41', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,862 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 50 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 50, null, left('poter inserire anche files pdf o altro oltre alle immagini', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('poter inserire anche files pdf o altro oltre alle immagini', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:41', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('poter inserire anche files pdf o altro oltre alle immagini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,863 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 37) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,864 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'poter scaricare le immagini dalla scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'poter scaricare le immagini dalla scheda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:41', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,865 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 51 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 51, null, left('poter scaricare le immagini dalla scheda', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('poter scaricare le immagini dalla scheda', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:41', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('poter scaricare le immagini dalla scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,866 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 38) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,868 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'revisione ritiri in rosso.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'revisione ritiri in rosso.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,869 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 52 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 52, null, left('revisione ritiri in rosso', 150)
            , 'molina', convert(datetime, '2020-09-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezzora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-09 00:00:00', 120), dt_upd = NULL
         , title = left('revisione ritiri in rosso', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione ritiri in rosso', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,870 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 52 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 52, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-09 09:52:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-09 09:52:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-09 09:52:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,871 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 39) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,872 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rinomina DIP.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rinomina DIP.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:41', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,873 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 53 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 53, null, left('rinomina DIP', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('rinomina DIP', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:41', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rinomina DIP', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,874 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 53 and file_name = '1.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 53, '1.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-03 17:42:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-03 17:42:57', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-03 17:42:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,875 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 53 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 53, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-03 18:06:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-03 18:06:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-03 18:06:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,876 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 53 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 53, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-05 23:11:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-05 23:11:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-05 23:11:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,877 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 40) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,878 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'ritiri rossi in errore.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'ritiri rossi in errore.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,879 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 54 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 54, null, left('ritiri rossi in errore', 150)
            , 'molina', convert(datetime, '2020-07-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-29 00:00:00', 120), dt_upd = NULL
         , title = left('ritiri rossi in errore', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ritiri rossi in errore', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,880 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 54 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 54, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 17:13:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-29 17:13:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 17:13:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,881 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 54 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 54, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 17:11:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-29 17:11:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 17:11:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,882 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 41) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,883 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rivisitazione colonna lavorazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rivisitazione colonna lavorazioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,884 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 55 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 55, null, left('rivisitazione colonna lavorazioni', 150)
            , 'molina', convert(datetime, '2021-02-04 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-02-04 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione colonna lavorazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-02-04 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione colonna lavorazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,885 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 55 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 55, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-05 14:29:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-05 14:29:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-05 14:29:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,886 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 55 and file_name = 'lavs.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 55, 'lavs.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-04 15:24:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-04 15:24:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-04 15:24:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,887 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 42) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,888 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rivisitazione flusso schede.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rivisitazione flusso schede.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,889 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 56 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 56, null, left('rivisitazione flusso schede', 150)
            , 'molina', convert(datetime, '2020-08-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-28 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione flusso schede', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione flusso schede', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,891 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 56 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 56, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 08:20:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-31 08:20:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-31 08:20:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,892 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 43) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,893 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rivisitazione lavorazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rivisitazione lavorazioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,894 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 57 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 57, null, left('rivisitazione lavorazioni', 150)
            , 'molina', convert(datetime, '2020-08-27 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezza', convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-27 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione lavorazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione lavorazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,895 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 57 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 57, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-28 10:57:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-28 10:57:53', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-28 10:57:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,896 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 44) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,897 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rivisitazione telefoni scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rivisitazione telefoni scheda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,898 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 58 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 58, null, left('rivisitazione telefoni scheda', 150)
            , 'molina', convert(datetime, '2020-10-01 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-01 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione telefoni scheda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-01 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione telefoni scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,899 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 58 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 58, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-01 16:25:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-01 16:25:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-01 16:25:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,900 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 45) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,901 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'selezione da sito dell''indirizzo ritiro lavorazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'selezione da sito dell''indirizzo ritiro lavorazioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,902 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 59 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 59, null, left('selezione da sito dell''indirizzo ritiro lavorazioni', 150)
            , 'molina', convert(datetime, '2020-06-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-15 00:00:00', 120), dt_upd = NULL
         , title = left('selezione da sito dell''indirizzo ritiro lavorazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('selezione da sito dell''indirizzo ritiro lavorazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,903 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 59 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 59, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 17:49:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-29 17:49:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 17:49:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,904 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 59 and file_name = 'img.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 59, 'img.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-15 08:31:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-15 08:31:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-15 08:31:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,905 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 59 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 59, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-08 14:51:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-08 14:51:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-08 14:51:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,906 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 59 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 59, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-15 08:34:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-15 08:34:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-15 08:34:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,907 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 46) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,908 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'stampa etichette codice scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'stampa etichette codice scheda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,909 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 60 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 60, null, left('stampa etichette codice scheda', 150)
            , 'molina', convert(datetime, '2020-09-16 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-16 00:00:00', 120), dt_upd = NULL
         , title = left('stampa etichette codice scheda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-16 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('stampa etichette codice scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,910 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 60 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 60, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-16 16:51:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-16 16:51:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-16 16:51:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,911 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 47) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,912 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'visualizzare telefono - mail nelle domande.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'visualizzare telefono - mail nelle domande.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,913 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 61 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 61, null, left('visualizzare telefono - mail nelle domande', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('visualizzare telefono - mail nelle domande', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('visualizzare telefono - mail nelle domande', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,914 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 61 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 61, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 11:26:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 11:26:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 11:26:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,915 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 61 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 61, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 11:26:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 11:26:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 11:26:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,917 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 48) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,918 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'magazzino';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'magazzino', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,919 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'bertello - melo refresci.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'bertello - melo refresci.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,920 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 63 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 63, null, left('bertello - melo refresci', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', 'alta', 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('bertello - melo refresci', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:47', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('bertello - melo refresci', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,921 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 63 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 63, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 08:39:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-15 08:39:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 08:39:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,922 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 49) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,923 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'carico dei codici DIP nel pedonale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'carico dei codici DIP nel pedonale.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,924 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 64 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 64, null, left('carico dei codici DIP nel pedonale', 150)
            , 'molina', convert(datetime, '2020-07-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-30 00:00:00', 120), dt_upd = NULL
         , title = left('carico dei codici DIP nel pedonale', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('carico dei codici DIP nel pedonale', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,925 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 64 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 64, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 14:22:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-30 14:22:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 14:22:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,926 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 50) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,927 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'gestione nuovo magazzino pallets.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'gestione nuovo magazzino pallets.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,929 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 65 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 65, null, left('gestione nuovo magazzino pallets', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'aggiunta', 'tre_giorni', convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('gestione nuovo magazzino pallets', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'tre_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione nuovo magazzino pallets', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('tre_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,930 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 65 and file_name = 'dipaQuoteXY_trl2.xlsx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 65, 'dipaQuoteXY_trl2.xlsx', '.xlsx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-07 16:34:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-07 16:34:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-07 16:34:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,931 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 65 and file_name = 'patch.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 65, 'patch.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-08 09:26:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-08 09:26:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-08 09:26:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,932 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 65 and file_name = 'script_bck.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 65, 'script_bck.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-07 12:22:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-07 12:22:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-07 12:22:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,932 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 65 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 65, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-08 09:25:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-08 09:25:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-08 09:25:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,933 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 51) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,934 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'gli ordini in viola li deve processare nino .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'gli ordini in viola li deve processare nino .task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,935 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 66 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 66, null, left('gli ordini in viola li deve processare nino ', 150)
            , 'molina', convert(datetime, '2020-07-06 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', 'due_ore', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-06 00:00:00', 120), dt_upd = NULL
         , title = left('gli ordini in viola li deve processare nino ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-06 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gli ordini in viola li deve processare nino ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,936 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 66 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 66, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-06 09:30:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-06 09:30:11', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-06 09:30:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,937 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 52) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,938 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'leds magazzino elettronico.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'leds magazzino elettronico.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,940 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 67 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 67, null, left('leds magazzino elettronico', 150)
            , 'molina', convert(datetime, '2020-01-24 00:00:00', 120), convert(datetime, '2021-03-03 14:40:35', 120), 1
            , 'in_corso', NULL, 'aggiunta', 'settimana', convert(datetime, '2021-03-03 14:40:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-01-24 00:00:00', 120), dt_upd = convert(datetime, '2021-03-03 14:40:35', 120)
         , title = left('leds magazzino elettronico', 150), [user] = 'molina'
         , stato = 'in_corso', priorita = NULL
         , tipo = 'aggiunta', stima = 'settimana', dt_lwt_index = convert(datetime, '2021-03-03 14:40:35', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-01-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(convert(datetime, '2021-03-03 14:40:35', 120), getdate())
          or isnull(title, '') <> isnull('leds magazzino elettronico', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('in_corso', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('settimana', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,941 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 67 
        and folder_name = 'PickToLight';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 67, 'PickToLight', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,942 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 68 
        and folder_name = 'cs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 68, 'cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,943 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 69 
        and folder_name = 'LsSample1a';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 69, 'LsSample1a', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,944 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 70 
        and folder_name = '.vs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 70, '.vs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,945 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 71 
        and folder_name = 'LsSample1a';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 71, 'LsSample1a', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,946 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 72 
        and folder_name = 'v15';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 72, 'v15', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,947 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 73 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 73, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,947 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 74 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 74, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,948 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 75 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 75, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,949 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 75 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 75, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,950 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 75 and file_name = 'storage.ide-shm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 75, 'storage.ide-shm', '.ide-shm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,951 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 75 and file_name = 'storage.ide-wal';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 75, 'storage.ide-wal', '.ide-wal', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,952 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,953 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,954 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 73 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 73, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:00:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:00:37', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:00:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,955 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,956 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 72 
        and folder_name = 'v16';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 72, 'v16', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,957 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 76 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 76, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,958 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 77 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 77, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,959 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 78 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 78, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,960 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 78 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 78, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:04:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:04:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:04:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,960 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,961 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,962 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 76 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 76, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:04:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:04:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:04:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,964 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,965 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,966 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,967 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 70 
        and folder_name = 'Backup';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 70, 'Backup', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,968 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 79 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 79, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,969 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 80 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 80, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,970 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 80 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 80, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,971 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 80 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 80, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,971 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 80 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 80, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,972 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 80 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 80, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,973 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,975 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 79 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 79, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:38:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:38:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:38:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,976 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 79 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 79, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:38:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:38:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:38:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,976 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 79 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 79, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:38:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:38:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:38:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,977 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 79 and file_name = 'LsSample1a.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 79, 'LsSample1a.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-11 16:03:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-11 16:03:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-11 16:03:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,978 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 79 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 79, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,979 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,980 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 70 
        and folder_name = 'bin';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 70, 'bin', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,981 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 81 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 81, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,982 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 82 and file_name = 'AioiSystems.Lightstep.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 82, 'AioiSystems.Lightstep.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-22 16:39:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-22 16:39:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-22 16:39:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,983 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 82 and file_name = 'AioiSystems.Lightstep.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 82, 'AioiSystems.Lightstep.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2012-06-29 10:53:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2012-06-29 10:53:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2012-06-29 10:53:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,983 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 82 and file_name = 'LsSample1a.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 82, 'LsSample1a.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,984 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 82 and file_name = 'LsSample1a.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 82, 'LsSample1a.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,985 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,986 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,987 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 70 
        and folder_name = 'obj';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 70, 'obj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,988 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 83 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 83, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,989 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 84 
        and folder_name = 'TempPE';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 84, 'TempPE', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,990 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 85 and file_name = 'Properties.Resources.Designer.cs.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 85, 'Properties.Resources.Designer.cs.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,991 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:26:59,992 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'DesignTimeResolveAssemblyReferences.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'DesignTimeResolveAssemblyReferences.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 17:39:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 17:39:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 17:39:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,993 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'DesignTimeResolveAssemblyReferencesInput.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'DesignTimeResolveAssemblyReferencesInput.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:33:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:33:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:33:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,994 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.csproj.CopyComplete';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.csproj.CopyComplete', '.copycomplete', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,995 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.csproj.CoreCompileInputs.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.csproj.CoreCompileInputs.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,996 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.csproj.FileListAbsolute.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.csproj.FileListAbsolute.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,996 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.csproj.GenerateResource.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.csproj.GenerateResource.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,997 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.csprojAssemblyReference.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.csprojAssemblyReference.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,998 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:26:59,999 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.Form1.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.Form1.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,000 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,002 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.Properties.Resources.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.Properties.Resources.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,003 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,005 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,007 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 70 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 70, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,008 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 86 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 86, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,010 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 86 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 86, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,011 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 86 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 86, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,012 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 86 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 86, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,014 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 86 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 86, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,015 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,016 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,018 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,019 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,020 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'LsSample1a.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'LsSample1a.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,021 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'LsSample1a.sln';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'LsSample1a.sln', '.sln', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,022 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,022 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'UpgradeLog.htm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'UpgradeLog.htm', '.htm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,023 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,025 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 69 
        and folder_name = 'LsSample1b';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 69, 'LsSample1b', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,026 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 87 
        and folder_name = '.vs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 87, '.vs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,027 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 88 
        and folder_name = 'LsSample1b';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 88, 'LsSample1b', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,028 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 89 
        and folder_name = 'v15';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 89, 'v15', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,028 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 90 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 90, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,029 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 91 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 91, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,030 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 92 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 92, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,031 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 92 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 92, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,032 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 92 and file_name = 'storage.ide-shm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 92, 'storage.ide-shm', '.ide-shm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,033 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 92 and file_name = 'storage.ide-wal';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 92, 'storage.ide-wal', '.ide-wal', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,033 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,035 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,036 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 90 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 90, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:02:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:02:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:02:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,037 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,038 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 89 
        and folder_name = 'v16';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 89, 'v16', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,039 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 93 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 93, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,040 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 94 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 94, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,041 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 95 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 95, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,041 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 95 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 95, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,042 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,043 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,045 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 93 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 93, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 18:15:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 18:15:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 18:15:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,046 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,047 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,048 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,049 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 87 
        and folder_name = 'Backup';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 87, 'Backup', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,050 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 96 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 96, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,051 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 97 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 97, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,052 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 97 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 97, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 17:35:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 17:35:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 17:35:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,053 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 97 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 97, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,054 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 97 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 97, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 17:35:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 17:35:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 17:35:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,055 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 97 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 97, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,056 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,057 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 96 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 96, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,058 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 96 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 96, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,059 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 96 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 96, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,060 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 96 and file_name = 'LsSample1b.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 96, 'LsSample1b.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-11 16:04:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-11 16:04:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-11 16:04:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,060 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 96 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 96, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 17:35:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 17:35:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 17:35:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,061 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,062 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 87 
        and folder_name = 'bin';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 87, 'bin', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,063 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 98 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 98, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,064 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 99 and file_name = 'AioiSystems.Lightstep.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 99, 'AioiSystems.Lightstep.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-22 16:39:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-22 16:39:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-22 16:39:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,065 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 99 and file_name = 'AioiSystems.Lightstep.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 99, 'AioiSystems.Lightstep.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2012-06-29 10:53:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2012-06-29 10:53:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2012-06-29 10:53:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,066 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 99 and file_name = 'LsSample1b.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 99, 'LsSample1b.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,067 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 99 and file_name = 'LsSample1b.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 99, 'LsSample1b.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,068 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,069 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,070 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 87 
        and folder_name = 'obj';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 87, 'obj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,071 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 100 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 100, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,072 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 101 
        and folder_name = 'TempPE';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 101, 'TempPE', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,072 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 102 and file_name = 'Properties.Resources.Designer.cs.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 102, 'Properties.Resources.Designer.cs.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,074 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,075 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'DesignTimeResolveAssemblyReferences.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'DesignTimeResolveAssemblyReferences.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 18:11:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 18:11:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 18:11:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,076 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'DesignTimeResolveAssemblyReferencesInput.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'DesignTimeResolveAssemblyReferencesInput.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,077 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.csproj.CopyComplete';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.csproj.CopyComplete', '.copycomplete', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,077 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.csproj.CoreCompileInputs.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.csproj.CoreCompileInputs.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,078 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.csproj.FileListAbsolute.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.csproj.FileListAbsolute.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,079 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.csproj.GenerateResource.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.csproj.GenerateResource.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,080 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.csprojAssemblyReference.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.csprojAssemblyReference.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,081 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,082 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.Form1.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.Form1.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 18:11:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 18:11:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 18:11:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,083 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,083 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.Properties.Resources.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.Properties.Resources.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 18:11:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 18:11:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 18:11:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,084 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,085 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,086 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 87 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 87, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,087 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 103 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 103, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,089 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 103 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 103, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,090 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 103 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 103, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,090 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 103 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 103, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,091 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 103 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 103, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,092 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,093 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,094 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,095 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,096 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'LsSample1b.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'LsSample1b.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,096 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'LsSample1b.sln';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'LsSample1b.sln', '.sln', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,097 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 17:35:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 17:35:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 17:35:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,099 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'UpgradeLog.htm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'UpgradeLog.htm', '.htm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,099 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,100 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 69 
        and folder_name = 'LsSample2';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 69, 'LsSample2', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,101 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 104 
        and folder_name = '.vs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 104, '.vs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,102 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 105 
        and folder_name = 'LsSample2';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 105, 'LsSample2', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,103 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 106 
        and folder_name = 'v15';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 106, 'v15', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,104 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 107 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 107, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,105 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 108 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 108, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,106 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 109 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 109, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,107 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 109 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 109, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,108 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 109 and file_name = 'storage.ide-shm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 109, 'storage.ide-shm', '.ide-shm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,108 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 109 and file_name = 'storage.ide-wal';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 109, 'storage.ide-wal', '.ide-wal', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,109 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,110 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,111 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 107 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 107, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,111 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,112 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 106 
        and folder_name = 'v16';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 106, 'v16', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,114 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 110 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 110, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,115 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 111 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 111, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,115 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 112 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 112, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,116 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 112 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 112, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,117 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,118 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,119 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 110 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 110, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 18:11:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 18:11:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 18:11:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,121 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,122 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,123 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,124 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 104 
        and folder_name = 'Backup';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 104, 'Backup', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,125 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 113 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 113, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,126 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 114 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 114, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:08', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,127 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 114 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 114, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,128 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 114 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 114, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,129 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 114 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 114, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,129 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 114 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 114, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:08', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,130 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,132 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'Declare.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'Declare.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-29 16:14:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-29 16:14:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-29 16:14:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,132 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:42:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:42:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:42:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,133 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 15:29:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 15:29:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 15:29:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,134 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 15:29:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 15:29:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 15:29:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,135 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'LsSample2.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'LsSample2.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-11 16:05:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-11 16:05:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-11 16:05:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,135 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,137 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'Workspace.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'Workspace.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:42:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:42:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:42:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,138 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'WorkUnit.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'WorkUnit.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-09-22 14:23:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-09-22 14:23:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-09-22 14:23:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,138 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,140 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 104 
        and folder_name = 'bin';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 104, 'bin', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,141 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 115 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 115, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,142 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 116 and file_name = 'AioiSystems.Lightstep.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 116, 'AioiSystems.Lightstep.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-22 16:39:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-22 16:39:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-22 16:39:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,142 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 116 and file_name = 'AioiSystems.Lightstep.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 116, 'AioiSystems.Lightstep.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2012-06-29 10:53:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2012-06-29 10:53:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2012-06-29 10:53:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,143 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 116 and file_name = 'LsSample2.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 116, 'LsSample2.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,144 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 116 and file_name = 'LsSample2.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 116, 'LsSample2.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,145 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,146 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,146 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 104 
        and folder_name = 'obj';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 104, 'obj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,148 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 117 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 117, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,149 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 118 
        and folder_name = 'TempPE';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 118, 'TempPE', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,149 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 119 and file_name = 'Properties.Resources.Designer.cs.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 119, 'Properties.Resources.Designer.cs.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,150 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,152 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'DesignTimeResolveAssemblyReferences.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'DesignTimeResolveAssemblyReferences.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 18:10:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 18:10:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 18:10:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,152 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'DesignTimeResolveAssemblyReferencesInput.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'DesignTimeResolveAssemblyReferencesInput.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,153 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.csproj.CopyComplete';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.csproj.CopyComplete', '.copycomplete', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,154 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.csproj.CoreCompileInputs.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.csproj.CoreCompileInputs.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,155 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.csproj.FileListAbsolute.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.csproj.FileListAbsolute.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,156 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.csproj.GenerateResource.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.csproj.GenerateResource.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,158 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.csprojAssemblyReference.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.csprojAssemblyReference.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,159 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,159 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.Form1.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.Form1.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,160 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,161 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.Properties.Resources.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.Properties.Resources.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,162 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,163 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,164 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 104 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 104, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,165 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 120 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 120, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:08', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,166 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 120 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 120, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,167 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 120 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 120, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,168 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 120 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 120, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,169 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 120 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 120, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:08', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,170 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,171 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'Declare.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'Declare.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-29 16:14:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-29 16:14:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-29 16:14:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,172 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:42:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:42:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:42:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,173 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 15:29:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 15:29:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 15:29:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,174 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 15:29:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 15:29:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 15:29:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,175 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'LsSample2.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'LsSample2.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,176 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'LsSample2.sln';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'LsSample2.sln', '.sln', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,176 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,177 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'UpgradeLog.htm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'UpgradeLog.htm', '.htm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,178 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'Workspace.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'Workspace.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:42:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:42:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:42:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,179 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'WorkUnit.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'WorkUnit.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-09-22 14:23:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-09-22 14:23:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-09-22 14:23:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,179 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,181 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,182 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 68 
        and folder_name = 'Flowlight';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 68, 'Flowlight', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,183 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 121 
        and folder_name = 'Flowlight15E_Setup_x64';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 121, 'Flowlight15E_Setup_x64', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,184 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 122 and file_name = 'Flowlight15E_Setup_x64.msi';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 122, 'Flowlight15E_Setup_x64.msi', '.msi', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-04-19 16:09:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-04-19 16:09:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-04-19 16:09:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,185 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,186 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 121 
        and folder_name = 'Flowlight15E_Setup_x86';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 121, 'Flowlight15E_Setup_x86', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,187 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 123 and file_name = 'Flowlight15E_Setup_x86.msi';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 123, 'Flowlight15E_Setup_x86.msi', '.msi', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,187 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,189 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,190 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 68 
        and folder_name = 'Lightstep104e';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 68, 'Lightstep104e', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:17', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,191 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 124 
        and folder_name = 'Manual';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 124, 'Manual', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:17', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,192 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 125 and file_name = 'Lightstep10_PG30E.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 125, 'Lightstep10_PG30E.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,192 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,194 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 124 and file_name = 'Lightstep10E_Setup_x64.msi';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 124, 'Lightstep10E_Setup_x64.msi', '.msi', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,194 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 124 and file_name = 'Lightstep10E_Setup_x86.msi';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 124, 'Lightstep10E_Setup_x86.msi', '.msi', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,196 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 124 and file_name = 'Read_at_the_beginning.rtf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 124, 'Read_at_the_beginning.rtf', '.rtf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,196 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 124 and file_name = 'Revision_history.rtf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 124, 'Revision_history.rtf', '.rtf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,197 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,198 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 68 
        and folder_name = 'Reflexer1.2.5e';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 68, 'Reflexer1.2.5e', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,199 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 126 
        and folder_name = 'Manual';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 126, 'Manual', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:17', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,200 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 127 and file_name = 'ReflexerUM12e.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 127, 'ReflexerUM12e.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:45:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,201 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,202 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 126 
        and folder_name = 'x64';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 126, 'x64', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,203 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 128 and file_name = 'Reflexer12E_LE_Setup_x64.msi';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 128, 'Reflexer12E_LE_Setup_x64.msi', '.msi', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:45:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,204 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 128 and file_name = 'setup.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 128, 'setup.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:45:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,204 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,206 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 126 
        and folder_name = 'x86';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 126, 'x86', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,207 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 129 and file_name = 'Reflexer12E_LE_Setup_x86.msi';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 129, 'Reflexer12E_LE_Setup_x86.msi', '.msi', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:45:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,208 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 129 and file_name = 'setup.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 129, 'setup.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:45:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,208 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,210 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 126 and file_name = 'readme.rtf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 126, 'readme.rtf', '.rtf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:45:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,211 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,212 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 68 
        and folder_name = 'Software development manual and software package';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 68, 'Software development manual and software package', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,213 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 130 
        and folder_name = '7 Color light';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 130, '7 Color light', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,213 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 131 and file_name = 'PP505 command creating process.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 131, 'PP505 command creating process.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,214 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 131 and file_name = 'PP505 command examples for 7 colors.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 131, 'PP505 command examples for 7 colors.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,215 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 131 and file_name = 'PP505 command manual description.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 131, 'PP505 command manual description.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,216 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,217 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 130 
        and folder_name = 'MWU2414';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 130, 'MWU2414', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,218 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 132 and file_name = 'MWU2414 Commands V1.1.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 132, 'MWU2414 Commands V1.1.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,218 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,219 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 130 
        and folder_name = 'Reflexer';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 130, 'Reflexer', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,221 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 133 and file_name = 'Reflexer.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 133, 'Reflexer.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,221 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,223 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 130 and file_name = 'S- Key.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 130, 'S- Key.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,224 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 130 and file_name = 'TCP_IP Command Reference V6.0.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 130, 'TCP_IP Command Reference V6.0.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,225 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,226 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 68 and file_name = 'How to configure the DPDs with Flowlight.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 68, 'How to configure the DPDs with Flowlight.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:11:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:11:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:11:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,227 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 68 and file_name = 'MWU series installation user manual.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 68, 'MWU series installation user manual.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:11:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:11:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:11:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,228 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 68 and file_name = 'PTL system communication overview.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 68, 'PTL system communication overview.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:10:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:10:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:10:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,229 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,230 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 67 
        and folder_name = 'ptl';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 67, 'ptl', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,231 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 134 
        and folder_name = '.vs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 134, '.vs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,232 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 135 
        and folder_name = 'LsSample1a';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 135, 'LsSample1a', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,233 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 136 
        and folder_name = 'v15';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 136, 'v15', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,233 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 137 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 137, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,234 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 138 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 138, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,235 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 139 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 139, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:04:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:04:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:04:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,236 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 139 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 139, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:04:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:04:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:04:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,237 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 139 and file_name = 'storage.ide-shm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 139, 'storage.ide-shm', '.ide-shm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:04:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:04:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:04:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,238 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 139 and file_name = 'storage.ide-wal';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 139, 'storage.ide-wal', '.ide-wal', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:07:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:07:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:07:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,239 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,240 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,241 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 137 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 137, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:37:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:37:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:37:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,242 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,243 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,244 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 135 
        and folder_name = 'ptl';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 135, 'ptl', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,246 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 140 
        and folder_name = 'v15';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 140, 'v15', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,247 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 141 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 141, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,247 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 142 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 142, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,248 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 143 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 143, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:39:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:39:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:39:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,249 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 143 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 143, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:39:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:39:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:39:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,250 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 143 and file_name = 'storage.ide-shm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 143, 'storage.ide-shm', '.ide-shm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:39:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:39:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:39:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,251 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 143 and file_name = 'storage.ide-wal';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 143, 'storage.ide-wal', '.ide-wal', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-29 10:50:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-29 10:50:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-29 10:50:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,251 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,252 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,254 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 141 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 141, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-04 09:54:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-02-04 09:54:15', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-02-04 09:54:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,255 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,256 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,257 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,258 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 134 
        and folder_name = 'bin';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 134, 'bin', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,259 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 144 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 144, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,260 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 145 and file_name = 'AioiSystems.Lightstep.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 145, 'AioiSystems.Lightstep.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-24 13:50:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-24 13:50:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-24 13:50:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,261 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 145 and file_name = 'AioiSystems.Lightstep.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 145, 'AioiSystems.Lightstep.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2012-06-29 11:53:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2012-06-29 11:53:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2012-06-29 11:53:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,262 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 145 and file_name = 'LsSample1a.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 145, 'LsSample1a.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,263 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 145 and file_name = 'LsSample1a.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 145, 'LsSample1a.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,264 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,265 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,266 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 134 
        and folder_name = 'obj';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 134, 'obj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,267 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 146 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 146, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,268 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 147 
        and folder_name = 'TempPE';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 147, 'TempPE', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,269 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 148 and file_name = 'Properties.Resources.Designer.cs.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 148, 'Properties.Resources.Designer.cs.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,270 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,271 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'DesignTimeResolveAssemblyReferences.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'DesignTimeResolveAssemblyReferences.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 17:39:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 17:39:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 17:39:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,272 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'DesignTimeResolveAssemblyReferencesInput.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'DesignTimeResolveAssemblyReferencesInput.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:00:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:00:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:00:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,273 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.csproj.CopyComplete';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.csproj.CopyComplete', '.copycomplete', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,274 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.csproj.CoreCompileInputs.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.csproj.CoreCompileInputs.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:04:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:04:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:04:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,275 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.csproj.FileListAbsolute.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.csproj.FileListAbsolute.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,276 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.csproj.GenerateResource.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.csproj.GenerateResource.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,276 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.csprojAssemblyReference.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.csprojAssemblyReference.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:04:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:04:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:04:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,277 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,278 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.Form1.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.Form1.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,279 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.frm_main.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.frm_main.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,280 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,281 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.Properties.Resources.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.Properties.Resources.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,282 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'ptl.csproj.CopyComplete';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'ptl.csproj.CopyComplete', '.copycomplete', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,282 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'ptl.csproj.CoreCompileInputs.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'ptl.csproj.CoreCompileInputs.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:00:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:00:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:00:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,283 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'ptl.csproj.FileListAbsolute.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'ptl.csproj.FileListAbsolute.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:45:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,284 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'ptl.csproj.GenerateResource.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'ptl.csproj.GenerateResource.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:52:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:52:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:52:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,285 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'ptl.csprojAssemblyReference.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'ptl.csprojAssemblyReference.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:39:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:39:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:39:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,286 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,287 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,288 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 134 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 134, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,289 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 149 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 149, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,291 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 149 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 149, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,292 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 149 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 149, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,293 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 149 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 149, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,293 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 149 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 149, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,294 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,295 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 134 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 134, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:52:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:52:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:52:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,296 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 134 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 134, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:52:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:52:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:52:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,297 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 134 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 134, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:52:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:52:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:52:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,298 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 134 and file_name = 'pick_to_light.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 134, 'pick_to_light.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,299 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 134 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 134, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:40:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:40:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:40:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,299 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 134 and file_name = 'ptl.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 134, 'ptl.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:57', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,300 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 134 and file_name = 'ptl.sln';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 134, 'ptl.sln', '.sln', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:38:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:38:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:38:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,301 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 134 and file_name = 'UpgradeLog.htm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 134, 'UpgradeLog.htm', '.htm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,301 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,303 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 67 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 67, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-03 14:02:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-03 14:02:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-03 14:02:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,303 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,305 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'magazzino inchiodato.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'magazzino inchiodato.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,306 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 150 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 150, null, left('magazzino inchiodato', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('magazzino inchiodato', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:47', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('magazzino inchiodato', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,308 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 150 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 150, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-06 15:23:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-06 15:23:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-06 15:23:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,308 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 54) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,309 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'stato aggiuntivo casse - semi piena - molto piena.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'stato aggiuntivo casse - semi piena - molto piena.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,311 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 151 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 151, null, left('stato aggiuntivo casse - semi piena - molto piena', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('stato aggiuntivo casse - semi piena - molto piena', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:47', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('stato aggiuntivo casse - semi piena - molto piena', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,311 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 55) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,313 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'svuota cassa.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'svuota cassa.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,314 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 152 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 152, null, left('svuota cassa', 150)
            , 'molina', convert(datetime, '2021-02-22 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-02-22 00:00:00', 120), dt_upd = NULL
         , title = left('svuota cassa', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-02-22 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('svuota cassa', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,315 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 152 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 152, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-22 10:16:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-22 10:16:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-22 10:16:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,316 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 152 and file_name = 'svuota la cassa.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 152, 'svuota la cassa.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-22 10:15:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-22 10:15:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-22 10:15:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,317 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 56) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,318 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'manager';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'manager', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,319 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 153 
        and folder_name = 'griglia articoli .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 153, 'griglia articoli .task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,320 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 154 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 154, null, left('griglia articoli ', 150)
            , 'molina', convert(datetime, '2020-09-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-21 00:00:00', 120), dt_upd = NULL
         , title = left('griglia articoli ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('griglia articoli ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,321 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 154 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 154, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-21 14:46:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-21 14:46:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-21 14:46:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,323 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 57) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,324 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 153 
        and folder_name = 'restyling maschera principale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 153, 'restyling maschera principale.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,325 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 155 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 155, null, left('restyling maschera principale', 150)
            , NULL, convert(datetime, '2020-09-02 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-02 00:00:00', 120), dt_upd = NULL
         , title = left('restyling maschera principale', 150), [user] = NULL
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('restyling maschera principale', '') or isnull([user], '') <> isnull(NULL, '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,326 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 155 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 155, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-02 09:19:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-02 09:19:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-02 09:19:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,327 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 58) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,328 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'obelisk';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'obelisk', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,329 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'aggiornamento numero K.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'aggiornamento numero K.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,330 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 157 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 157, null, left('aggiornamento numero K', 150)
            , 'molina', convert(datetime, '2020-08-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'facile', 'ora', convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-25 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornamento numero K', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:47', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornamento numero K', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,331 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 157 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 157, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-25 09:06:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-25 09:06:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-25 09:06:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,332 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 59) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,333 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'Aggiugnere campo ricerca nel carrellino nero.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'Aggiugnere campo ricerca nel carrellino nero.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:49', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,334 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 158 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 158, null, left('Aggiugnere campo ricerca nel carrellino nero', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('Aggiugnere campo ricerca nel carrellino nero', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:49', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('Aggiugnere campo ricerca nel carrellino nero', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,335 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 158 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 158, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-18 09:31:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-18 09:31:15', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-18 09:31:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,336 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 158 and file_name = 'untitled.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 158, 'untitled.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-17 08:28:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-17 08:28:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-17 08:28:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,338 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 60) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,339 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'aggiunta colonna nota operatore.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'aggiunta colonna nota operatore.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,340 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 159 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 159, null, left('aggiunta colonna nota operatore', 150)
            , 'molina', convert(datetime, '2020-09-03 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'facile', 'ora', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-03 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta colonna nota operatore', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-03 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta colonna nota operatore', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,341 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 159 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 159, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 12:11:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-03 12:11:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-03 12:11:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,342 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 61) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,343 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'aggiunta DEVONO ARRIVARE al tooltip.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'aggiunta DEVONO ARRIVARE al tooltip.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,344 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 160 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 160, null, left('aggiunta DEVONO ARRIVARE al tooltip', 150)
            , 'molina', convert(datetime, '2020-09-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezzora', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-17 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta DEVONO ARRIVARE al tooltip', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta DEVONO ARRIVARE al tooltip', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,345 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 62) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,346 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'aggiunta marca alle info prodotto.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'aggiunta marca alle info prodotto.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,348 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 161 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 161, null, left('aggiunta marca alle info prodotto', 150)
            , 'molina', convert(datetime, '2020-08-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-21 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta marca alle info prodotto', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:47', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta marca alle info prodotto', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,349 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 63) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,350 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'aggiunta ordinamento ricerca prodotti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'aggiunta ordinamento ricerca prodotti.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,351 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 162 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 162, null, left('aggiunta ordinamento ricerca prodotti', 150)
            , 'molina', convert(datetime, '2020-08-31 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', 'mezzora', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-31 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta ordinamento ricerca prodotti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-31 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta ordinamento ricerca prodotti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,352 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 162 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 162, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 18:31:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-31 18:31:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-31 18:31:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,353 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 64) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,354 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'carrello nero - filtri.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'carrello nero - filtri.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:49', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,356 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 163 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 163, null, left('carrello nero - filtri', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('carrello nero - filtri', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:49', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('carrello nero - filtri', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,357 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 163 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 163, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-12 11:11:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-12 11:11:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-12 11:11:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,357 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 65) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,359 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'check tooltip prevista consegna.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'check tooltip prevista consegna.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:49', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,360 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 164 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 164, null, left('check tooltip prevista consegna', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('check tooltip prevista consegna', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:49', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('check tooltip prevista consegna', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,361 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 164 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 164, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-24 14:30:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-24 14:30:53', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-24 14:30:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,362 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 66) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,363 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'codici CA in obelisk.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'codici CA in obelisk.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,364 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 165 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 165, null, left('codici CA in obelisk', 150)
            , 'molina', convert(datetime, '2020-09-22 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-22 00:00:00', 120), dt_upd = NULL
         , title = left('codici CA in obelisk', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-22 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('codici CA in obelisk', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,365 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 165 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 165, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-22 13:54:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-22 13:54:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-22 13:54:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,366 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 67) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,367 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'impostazione porta com scanner lavorazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'impostazione porta com scanner lavorazioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,368 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 166 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 166, null, left('impostazione porta com scanner lavorazioni', 150)
            , 'molina', convert(datetime, '2020-07-27 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'ora', convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-27 00:00:00', 120), dt_upd = NULL
         , title = left('impostazione porta com scanner lavorazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('impostazione porta com scanner lavorazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,369 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 166 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 166, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 17:56:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-27 17:56:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 17:56:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,370 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 68) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,371 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'Made in PRC sulle etichette.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'Made in PRC sulle etichette.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,372 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 167 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 167, null, left('Made in PRC sulle etichette', 150)
            , 'molina', convert(datetime, '2020-09-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-14 00:00:00', 120), dt_upd = NULL
         , title = left('Made in PRC sulle etichette', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('Made in PRC sulle etichette', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,373 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 167 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 167, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-14 15:43:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-14 15:43:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-14 15:43:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,375 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 167 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 167, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-14 13:54:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-14 13:54:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-14 13:54:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,375 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 69) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,376 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'nuova griglia domande risposte per codice.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'nuova griglia domande risposte per codice.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,378 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 168 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 168, null, left('nuova griglia domande risposte per codice', 150)
            , 'molina', convert(datetime, '2020-11-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-26 00:00:00', 120), dt_upd = NULL
         , title = left('nuova griglia domande risposte per codice', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuova griglia domande risposte per codice', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,379 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 70) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,380 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'prodotti compatibili lunghissimi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'prodotti compatibili lunghissimi.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,381 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 169 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 169, null, left('prodotti compatibili lunghissimi', 150)
            , 'molina', convert(datetime, '2020-07-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-28 00:00:00', 120), dt_upd = NULL
         , title = left('prodotti compatibili lunghissimi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('prodotti compatibili lunghissimi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,382 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 169 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 169, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-28 18:16:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-28 18:16:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 18:16:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,383 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 71) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,384 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'revisione carrello nero.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'revisione carrello nero.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:49', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,385 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 170 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 170, null, left('revisione carrello nero', 150)
            , 'molina', convert(datetime, '2021-02-05 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-02-05 00:00:00', 120), dt_upd = NULL
         , title = left('revisione carrello nero', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:49', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-02-05 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione carrello nero', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,386 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 170 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 170, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-08 16:12:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-08 16:12:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-08 16:12:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,387 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 72) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,388 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'revisione cross segnalati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'revisione cross segnalati.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,389 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 171 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 171, null, left('revisione cross segnalati', 150)
            , 'molina', convert(datetime, '2020-09-03 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-03 00:00:00', 120), dt_upd = NULL
         , title = left('revisione cross segnalati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-03 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione cross segnalati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,390 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 171 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 171, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 17:52:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-03 17:52:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-03 17:52:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,391 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 73) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,392 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'revisione ricerca prodotti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'revisione ricerca prodotti.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,393 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 172 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 172, null, left('revisione ricerca prodotti', 150)
            , 'molina', convert(datetime, '2020-08-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-28 00:00:00', 120), dt_upd = NULL
         , title = left('revisione ricerca prodotti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:47', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione ricerca prodotti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,394 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 172 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 172, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 14:50:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-31 14:50:37', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-31 14:50:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,395 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 74) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,396 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'ricerca clienti web.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'ricerca clienti web.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,397 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 173 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 173, null, left('ricerca clienti web', 150)
            , 'molina', convert(datetime, '2020-09-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-21 00:00:00', 120), dt_upd = NULL
         , title = left('ricerca clienti web', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ricerca clienti web', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,398 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 173 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 173, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-21 17:43:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-21 17:43:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-21 17:43:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,399 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 75) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,400 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'ricerca prodotti per marca - modello - versione.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'ricerca prodotti per marca - modello - versione.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,402 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 174 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 174, null, left('ricerca prodotti per marca - modello - versione', 150)
            , 'molina', convert(datetime, '2020-10-27 00:00:00', 120), NULL, 1
            , 'sospeso', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-27 00:00:00', 120), dt_upd = NULL
         , title = left('ricerca prodotti per marca - modello - versione', 150), [user] = 'molina'
         , stato = 'sospeso', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ricerca prodotti per marca - modello - versione', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('sospeso', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,403 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'ComboBoxClienti.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'ComboBoxClienti.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-27 17:47:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-27 17:47:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-27 17:47:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,404 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'ComboBoxMarche.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'ComboBoxMarche.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 15:36:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 15:36:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 15:36:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,404 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'ComboBoxModelli.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'ComboBoxModelli.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 15:59:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 15:59:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 15:59:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,406 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'ComboBoxSpecial.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'ComboBoxSpecial.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 15:48:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 15:48:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 15:48:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,406 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'ComboBoxVersioni.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'ComboBoxVersioni.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 16:04:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 16:04:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 16:04:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,407 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'FormMain.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'FormMain.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 16:13:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 16:13:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 16:13:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,407 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 17:21:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 17:21:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 17:21:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,408 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'marca.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'marca.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 15:42:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 15:42:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 15:42:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,410 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'modello.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'modello.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 16:01:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 16:01:37', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 16:01:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,411 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'refresh.crm.export-car-parts.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'refresh.crm.export-car-parts.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-28 16:22:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-28 16:22:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-28 16:22:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,412 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'refresh.crm.export-td-defs.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'refresh.crm.export-td-defs.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-27 16:49:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-27 16:49:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-27 16:49:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,412 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'task.ricerca per marca.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'task.ricerca per marca.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 16:12:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 16:12:15', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 16:12:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,413 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'versione.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'versione.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 16:02:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 16:02:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 16:02:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,414 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 76) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,415 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'sistemata alla griglia del fatturato - non si vedono i totali.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'sistemata alla griglia del fatturato - non si vedono i totali.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,416 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 175 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 175, null, left('sistemata alla griglia del fatturato - non si vedono i totali', 150)
            , 'molina', convert(datetime, '2020-07-31 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-31 00:00:00', 120), dt_upd = NULL
         , title = left('sistemata alla griglia del fatturato - non si vedono i totali', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-31 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('sistemata alla griglia del fatturato - non si vedono i totali', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,417 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 77) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,418 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'stampa pdf con acrobat.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'stampa pdf con acrobat.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,419 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 176 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 176, null, left('stampa pdf con acrobat', 150)
            , 'molina', convert(datetime, '2020-09-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-30 00:00:00', 120), dt_upd = NULL
         , title = left('stampa pdf con acrobat', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('stampa pdf con acrobat', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,420 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 78) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,421 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'supporto 3CX.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'supporto 3CX.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:49', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,422 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 177 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 177, null, left('supporto 3CX', 150)
            , 'molina', convert(datetime, '2020-12-18 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-12-18 00:00:00', 120), dt_upd = NULL
         , title = left('supporto 3CX', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:49', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-12-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('supporto 3CX', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,424 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 177 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 177, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-12-18 09:43:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-12-18 09:43:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-12-18 09:43:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,424 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 79) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,425 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'tab cross per gestione aggiunta (o eliminazione) cross.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'tab cross per gestione aggiunta (o eliminazione) cross.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,427 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 178 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 178, null, left('tab cross per gestione aggiunta (o eliminazione) cross', 150)
            , 'molina', convert(datetime, '2020-08-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'ora', convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-21 00:00:00', 120), dt_upd = NULL
         , title = left('tab cross per gestione aggiunta (o eliminazione) cross', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:47', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('tab cross per gestione aggiunta (o eliminazione) cross', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,428 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 178 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 178, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-26 18:19:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-26 18:19:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-26 18:19:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,429 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 178 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 178, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-24 12:33:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-24 12:33:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-24 12:33:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,430 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 80) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,431 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'tooltip obelisk consegna prevista.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'tooltip obelisk consegna prevista.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,432 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 179 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 179, null, left('tooltip obelisk consegna prevista', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('tooltip obelisk consegna prevista', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:50', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('tooltip obelisk consegna prevista', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,433 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 179 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 179, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 12:46:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-05 12:46:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 12:46:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,434 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 81) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,435 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'obsolete';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'obsolete', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,436 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 180 
        and folder_name = 'ECUFILE.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 180, 'ECUFILE.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,437 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 181 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 181, null, left('ECUFILE', 150)
            , 'molina', convert(datetime, '2019-10-04 00:00:00', 120), NULL, 1
            , NULL, NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2019-10-04 00:00:00', 120), dt_upd = NULL
         , title = left('ECUFILE', 150), [user] = 'molina'
         , stato = NULL, priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2019-10-04 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ECUFILE', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull(NULL, '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,438 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 181 and file_name = 'mysql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 181, 'mysql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-10-04 09:23:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-10-04 09:23:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-10-04 09:23:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,439 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 181 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 181, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-10-04 09:21:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-10-04 09:21:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-10-04 09:21:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,440 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 82) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,441 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 180 
        and folder_name = 'remsa nota.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 180, 'remsa nota.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,442 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 182 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 182, null, left('remsa nota', 150)
            , 'molina', convert(datetime, '2019-09-13 00:00:00', 120), NULL, 1
            , NULL, NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2019-09-13 00:00:00', 120), dt_upd = NULL
         , title = left('remsa nota', 150), [user] = 'molina'
         , stato = NULL, priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2019-09-13 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('remsa nota', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull(NULL, '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,443 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 182 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 182, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-09-16 10:27:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-09-16 10:27:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-09-16 10:27:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,444 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 83) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,445 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 180 
        and folder_name = 'reso funzionante.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 180, 'reso funzionante.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,446 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 183 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 183, null, left('reso funzionante', 150)
            , 'molina', convert(datetime, '2020-02-19 00:00:00', 120), NULL, 1
            , NULL, NULL, NULL, NULL, convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-02-19 00:00:00', 120), dt_upd = NULL
         , title = left('reso funzionante', 150), [user] = 'molina'
         , stato = NULL, priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-02-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('reso funzionante', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull(NULL, '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,447 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 183 and file_name = 'documenti.xlsx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 183, 'documenti.xlsx', '.xlsx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-20 15:27:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-02-20 15:27:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-02-20 15:27:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,448 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 183 and file_name = 'I problemi magazzino 2.msg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 183, 'I problemi magazzino 2.msg', '.msg', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-19 17:30:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-02-19 17:30:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-02-19 17:30:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,449 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 183 and file_name = 'I problemi magazzino 3.msg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 183, 'I problemi magazzino 3.msg', '.msg', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-19 17:30:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-02-19 17:30:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-02-19 17:30:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,450 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 183 and file_name = 'partitario.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 183, 'partitario.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-20 12:32:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-02-20 12:32:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-02-20 12:32:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,450 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 183 and file_name = 'reso.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 183, 'reso.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-20 15:06:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-02-20 15:06:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-02-20 15:06:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,451 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 183 and file_name = 'SPMG_ELABPARTITARI.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 183, 'SPMG_ELABPARTITARI.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-20 12:32:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-02-20 12:32:53', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-02-20 12:32:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,452 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 183 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 183, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-20 15:23:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-02-20 15:23:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-02-20 15:23:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,453 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 84) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,454 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'ordini fornitori';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'ordini fornitori', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,456 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'Aggiunta colonna Disp CA.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'Aggiunta colonna Disp CA.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,457 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 185 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 185, null, left('Aggiunta colonna Disp CA', 150)
            , 'molina', convert(datetime, '2021-01-18 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezzora', convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-18 00:00:00', 120), dt_upd = NULL
         , title = left('Aggiunta colonna Disp CA', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('Aggiunta colonna Disp CA', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,458 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 85) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,459 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'aggiunta colonna resi fornitori.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'aggiunta colonna resi fornitori.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,460 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 186 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 186, null, left('aggiunta colonna resi fornitori', 150)
            , 'molina', convert(datetime, '2020-08-31 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezzora', convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-31 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta colonna resi fornitori', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:50', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-31 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta colonna resi fornitori', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,461 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 186 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 186, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 17:21:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-31 17:21:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-31 17:21:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,462 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 86) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,463 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'aggiunta selezione marca .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'aggiunta selezione marca .task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,464 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 187 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 187, null, left('aggiunta selezione marca ', 150)
            , 'molina', convert(datetime, '2020-08-18 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-18 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta selezione marca ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta selezione marca ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,466 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 187 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 187, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-18 14:03:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-18 14:03:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 14:03:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,467 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 87) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,468 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'aggiunte informazioni sul fornitore al carrello.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'aggiunte informazioni sul fornitore al carrello.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,468 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 188 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 188, null, left('aggiunte informazioni sul fornitore al carrello', 150)
            , 'molina', convert(datetime, '2020-08-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-21 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunte informazioni sul fornitore al carrello', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunte informazioni sul fornitore al carrello', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,469 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 88) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,470 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'fornitore non presente ordini di acquisto.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'fornitore non presente ordini di acquisto.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,471 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 189 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 189, null, left('fornitore non presente ordini di acquisto', 150)
            , 'molina', convert(datetime, '2021-01-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'ora', convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-14 00:00:00', 120), dt_upd = NULL
         , title = left('fornitore non presente ordini di acquisto', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('fornitore non presente ordini di acquisto', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,473 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 189 and file_name = 'acq fornitori.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 189, 'acq fornitori.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-14 14:18:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-14 14:18:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-14 14:18:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,473 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 189 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 189, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-14 14:18:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-14 14:18:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-14 14:18:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,474 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 89) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,475 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'in verde i codici dipa segnalati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'in verde i codici dipa segnalati.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,477 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 190 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 190, null, left('in verde i codici dipa segnalati', 150)
            , 'molina', convert(datetime, '2020-09-03 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'ora', convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-03 00:00:00', 120), dt_upd = NULL
         , title = left('in verde i codici dipa segnalati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:50', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-03 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('in verde i codici dipa segnalati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,478 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 190 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 190, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-04 10:26:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-04 10:26:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-04 10:26:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,479 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 190 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 190, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 16:15:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-03 16:15:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-03 16:15:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,480 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 90) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,481 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'inchiodato.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'inchiodato.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,482 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 191 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 191, null, left('inchiodato', 150)
            , 'molina', convert(datetime, '2020-05-06 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-05-06 00:00:00', 120), dt_upd = NULL
         , title = left('inchiodato', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-05-06 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('inchiodato', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,483 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 191 and file_name = 'AL_EXPORT_ARTFOR_DELTA.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 191, 'AL_EXPORT_ARTFOR_DELTA.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 16:15:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-05 16:15:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 16:15:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,484 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 191 and file_name = 'AL_EXPORT_ARTFOR_DELTA_MM.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 191, 'AL_EXPORT_ARTFOR_DELTA_MM.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 16:20:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-05 16:20:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 16:20:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,485 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 191 and file_name = 'ord forn inchiodato.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 191, 'ord forn inchiodato.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 15:46:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-05 15:46:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 15:46:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,487 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 191 and file_name = 'src.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 191, 'src.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 14:59:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-05 14:59:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 14:59:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,488 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 91) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,489 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'prezzi scazzati dal nuovo prodotto manager.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'prezzi scazzati dal nuovo prodotto manager.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,490 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 192 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 192, null, left('prezzi scazzati dal nuovo prodotto manager', 150)
            , 'molina', convert(datetime, '2020-08-24 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-24 00:00:00', 120), dt_upd = NULL
         , title = left('prezzi scazzati dal nuovo prodotto manager', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:50', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('prezzi scazzati dal nuovo prodotto manager', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,491 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 192 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 192, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-24 11:40:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-24 11:40:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-24 11:40:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,492 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 192 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 192, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-24 11:43:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-24 11:43:53', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-24 11:43:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,493 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 92) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,494 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'revisione generale ordini fornitori.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'revisione generale ordini fornitori.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,495 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 193 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 193, null, left('revisione generale ordini fornitori', 150)
            , 'molina', convert(datetime, '2020-09-02 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'giornata', convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-02 00:00:00', 120), dt_upd = NULL
         , title = left('revisione generale ordini fornitori', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:44:50', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione generale ordini fornitori', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,496 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 193 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 193, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 08:48:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-03 08:48:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-03 08:48:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,497 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 93) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,498 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'revisione griglia prodotti ordinati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'revisione griglia prodotti ordinati.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,499 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 194 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 194, null, left('revisione griglia prodotti ordinati', 150)
            , 'molina', convert(datetime, '2021-01-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'giornata', convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-28 00:00:00', 120), dt_upd = NULL
         , title = left('revisione griglia prodotti ordinati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione griglia prodotti ordinati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,500 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 194 and file_name = '2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 194, '2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-28 14:09:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-28 14:09:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-28 14:09:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,501 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 194 and file_name = 'forn.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 194, 'forn.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-28 14:10:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-28 14:10:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-28 14:10:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,502 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 194 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 194, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:37:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:37:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:37:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,503 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 94) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,504 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'segnalare gli ordini che sforano l''attesa.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'segnalare gli ordini che sforano l''attesa.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,505 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 195 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 195, null, left('segnalare gli ordini che sforano l''attesa', 150)
            , 'molina', convert(datetime, '2020-08-25 00:00:00', 120), NULL, 1
            , 'sospeso', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-25 00:00:00', 120), dt_upd = NULL
         , title = left('segnalare gli ordini che sforano l''attesa', 150), [user] = 'molina'
         , stato = 'sospeso', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:50', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('segnalare gli ordini che sforano l''attesa', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('sospeso', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,506 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 195 and file_name = 'ordini fuori tempo.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 195, 'ordini fuori tempo.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-06 18:32:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-06 18:32:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-06 18:32:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,507 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 95) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,508 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'sistemata alla maschera fornitori.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'sistemata alla maschera fornitori.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,509 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 196 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 196, null, left('sistemata alla maschera fornitori', 150)
            , 'molina', convert(datetime, '2020-08-27 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-27 00:00:00', 120), dt_upd = NULL
         , title = left('sistemata alla maschera fornitori', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:50', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('sistemata alla maschera fornitori', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,510 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 196 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 196, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-27 18:18:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-27 18:18:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-27 18:18:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,511 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 96) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,512 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'sistemata ricerca codice x fornitore.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'sistemata ricerca codice x fornitore.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,513 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 197 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 197, null, left('sistemata ricerca codice x fornitore', 150)
            , 'molina', convert(datetime, '2020-08-31 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezzora', convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-31 00:00:00', 120), dt_upd = NULL
         , title = left('sistemata ricerca codice x fornitore', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:50', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-31 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('sistemata ricerca codice x fornitore', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,514 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 197 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 197, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 15:08:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-31 15:08:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-31 15:08:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,515 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 97) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,517 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'ordini vendite';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'ordini vendite', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:54', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,518 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'associata la fattura al cod pag PKS1.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'associata la fattura al cod pag PKS1.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,519 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 199 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 199, null, left('associata la fattura al cod pag PKS1', 150)
            , 'molina', convert(datetime, '2020-07-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-29 00:00:00', 120), dt_upd = NULL
         , title = left('associata la fattura al cod pag PKS1', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('associata la fattura al cod pag PKS1', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,520 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 98) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,521 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'automatismo ordini bolle.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'automatismo ordini bolle.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:53', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,523 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 200 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 200, null, left('automatismo ordini bolle', 150)
            , 'molina', convert(datetime, '2021-02-10 00:00:00', 120), convert(datetime, '2021-03-04 15:22:27', 120), 1
            , 'fatto', NULL, 'revisione', 'due_settimane', convert(datetime, '2021-03-04 15:22:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-02-10 00:00:00', 120), dt_upd = convert(datetime, '2021-03-04 15:22:27', 120)
         , title = left('automatismo ordini bolle', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_settimane', dt_lwt_index = convert(datetime, '2021-03-04 15:22:27', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-02-10 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(convert(datetime, '2021-03-04 15:22:27', 120), getdate())
          or isnull(title, '') <> isnull('automatismo ordini bolle', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_settimane', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,523 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 200 and file_name = 'backup recalc ordini.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 200, 'backup recalc ordini.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-12 09:39:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-12 09:39:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-12 09:39:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,525 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 200 and file_name = 'cache ordini.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 200, 'cache ordini.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-18 14:53:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-18 14:53:41', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-18 14:53:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,526 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 200 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 200, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-04 15:22:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-04 15:22:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-04 15:22:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,527 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 200 and file_name = 'patch recalc ordini.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 200, 'patch recalc ordini.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-12 12:02:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-12 12:02:53', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-12 12:02:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,528 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 99) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,529 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'cambio tipo ordine - si perdono informazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'cambio tipo ordine - si perdono informazioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,530 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 201 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 201, null, left('cambio tipo ordine - si perdono informazioni', 150)
            , 'molina', convert(datetime, '2020-07-06 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-06 00:00:00', 120), dt_upd = NULL
         , title = left('cambio tipo ordine - si perdono informazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-06 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('cambio tipo ordine - si perdono informazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,531 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 100) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,532 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'check indirizzi GLS non vanno.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'check indirizzi GLS non vanno.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:54', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,533 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 202 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 202, null, left('check indirizzi GLS non vanno', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('check indirizzi GLS non vanno', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:54', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('check indirizzi GLS non vanno', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,534 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 202 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 202, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-18 12:23:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-18 12:23:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-18 12:23:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,535 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 101) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,536 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'codice pag PKS1 come RD02.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'codice pag PKS1 come RD02.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,537 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 203 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 203, null, left('codice pag PKS1 come RD02', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('codice pag PKS1 come RD02', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('codice pag PKS1 come RD02', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,538 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 203 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 203, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 10:36:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 10:36:37', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 10:36:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,539 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 203 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 203, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 11:03:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 11:03:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 11:03:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,540 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 102) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,541 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'controllo migliorato ordine gi evaso.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'controllo migliorato ordine gi evaso.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,542 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 204 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 204, null, left('controllo migliorato ordine gi evaso', 150)
            , 'molina', convert(datetime, '2020-10-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-08 00:00:00', 120), dt_upd = NULL
         , title = left('controllo migliorato ordine gi evaso', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('controllo migliorato ordine gi evaso', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,544 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 204 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 204, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-08 09:01:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-08 09:01:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-08 09:01:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,545 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 103) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,546 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'discordanza pagamento clifor obsoleto.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'discordanza pagamento clifor obsoleto.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,547 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 205 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 205, null, left('discordanza pagamento clifor obsoleto', 150)
            , 'molina', convert(datetime, '2020-07-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-30 00:00:00', 120), dt_upd = NULL
         , title = left('discordanza pagamento clifor obsoleto', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('discordanza pagamento clifor obsoleto', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,548 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 205 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 205, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 15:22:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-30 15:22:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 15:22:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,549 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 104) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,550 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'gestione carrello sintra lavorazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'gestione carrello sintra lavorazioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,551 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 206 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 206, null, left('gestione carrello sintra lavorazioni', 150)
            , 'molina', convert(datetime, '2020-09-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-09 00:00:00', 120), dt_upd = NULL
         , title = left('gestione carrello sintra lavorazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione carrello sintra lavorazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,552 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 206 and file_name = 'mageman.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 206, 'mageman.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-10 18:02:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-10 18:02:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-10 18:02:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,553 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 206 and file_name = 'magento.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 206, 'magento.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-09 17:13:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-09 17:13:53', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-09 17:13:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,554 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 105) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,555 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'gestione regionale urgente e normale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'gestione regionale urgente e normale.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:53', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,556 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 207 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 207, null, left('gestione regionale urgente e normale', 150)
            , 'molina', convert(datetime, '2020-12-03 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:44:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-12-03 00:00:00', 120), dt_upd = NULL
         , title = left('gestione regionale urgente e normale', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:53', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-12-03 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione regionale urgente e normale', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,557 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 207 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 207, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-12-03 11:05:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-12-03 11:05:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-12-03 11:05:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,558 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 106) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,559 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'gestione scelte da sito.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'gestione scelte da sito.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,560 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 208 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 208, null, left('gestione scelte da sito', 150)
            , 'molina', convert(datetime, '2020-10-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-19 00:00:00', 120), dt_upd = NULL
         , title = left('gestione scelte da sito', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione scelte da sito', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,561 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 208 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 208, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-21 12:19:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-21 12:19:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-21 12:19:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,562 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 107) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,563 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'gestione spese corrieri.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'gestione spese corrieri.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,564 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 209 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 209, null, left('gestione spese corrieri', 150)
            , 'molina', convert(datetime, '2020-10-20 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-20 00:00:00', 120), dt_upd = NULL
         , title = left('gestione spese corrieri', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-20 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione spese corrieri', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,566 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 209 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 209, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-20 12:28:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-20 12:28:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-20 12:28:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,567 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 108) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,568 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'nuovo indirizzo ordine avviso cap.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'nuovo indirizzo ordine avviso cap.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:54', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,569 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 210 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 210, null, left('nuovo indirizzo ordine avviso cap', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('nuovo indirizzo ordine avviso cap', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:54', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuovo indirizzo ordine avviso cap', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,570 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 210 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 210, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-19 12:20:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-19 12:20:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-19 12:20:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,571 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 109) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,572 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'ordine 125381 - bolla senza articolo.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'ordine 125381 - bolla senza articolo.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,573 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 211 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 211, null, left('ordine 125381 - bolla senza articolo', 150)
            , 'molina', convert(datetime, '2020-08-18 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-18 00:00:00', 120), dt_upd = NULL
         , title = left('ordine 125381 - bolla senza articolo', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ordine 125381 - bolla senza articolo', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,574 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 211 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 211, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-18 16:15:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-18 16:15:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 16:15:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,575 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 110) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,576 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'ordine senza articoli.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'ordine senza articoli.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:54', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,577 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 212 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 212, null, left('ordine senza articoli', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ordine senza articoli', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:54', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ordine senza articoli', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,578 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 212 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 212, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-25 12:22:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-25 12:22:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-25 12:22:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,579 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 111) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,581 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'ordine web scazzato.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'ordine web scazzato.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:54', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,582 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 213 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 213, null, left('ordine web scazzato', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ordine web scazzato', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:54', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ordine web scazzato', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,583 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 213 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 213, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-10 09:36:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-10 09:36:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-10 09:36:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,584 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 112) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,585 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'ordini blu devono passare gi in magazzino.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'ordini blu devono passare gi in magazzino.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:54', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,586 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 214 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 214, null, left('ordini blu devono passare gi in magazzino', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'facile', NULL, convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ordini blu devono passare gi in magazzino', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:54', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ordini blu devono passare gi in magazzino', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,587 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 214 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 214, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-25 08:35:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-25 08:35:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-25 08:35:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,588 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 113) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,589 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'poter assegnare un indirizzo nuovo in italia ad un cliente estero.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'poter assegnare un indirizzo nuovo in italia ad un cliente estero.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,591 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 215 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 215, null, left('poter assegnare un indirizzo nuovo in italia ad un cliente estero', 150)
            , 'molina', convert(datetime, '2020-07-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-28 00:00:00', 120), dt_upd = NULL
         , title = left('poter assegnare un indirizzo nuovo in italia ad un cliente estero', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('poter assegnare un indirizzo nuovo in italia ad un cliente estero', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,592 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 215 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 215, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-28 15:38:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-28 15:38:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 15:38:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,593 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 114) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,594 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'ramauto multicollo.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'ramauto multicollo.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:54', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,595 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 216 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 216, null, left('ramauto multicollo', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ramauto multicollo', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:54', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ramauto multicollo', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,596 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 216 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 216, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-12 11:36:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-12 11:36:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-12 11:36:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,597 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 115) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,598 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'registra garanzia.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'registra garanzia.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,599 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 217 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 217, null, left('registra garanzia', 150)
            , 'molina', convert(datetime, '2020-10-22 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-22 00:00:00', 120), dt_upd = NULL
         , title = left('registra garanzia', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-22 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('registra garanzia', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,600 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 116) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,601 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'reso no rip gestione viola e multicollo.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'reso no rip gestione viola e multicollo.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,602 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 218 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 218, null, left('reso no rip gestione viola e multicollo', 150)
            , 'molina', convert(datetime, '2020-06-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-30 00:00:00', 120), dt_upd = NULL
         , title = left('reso no rip gestione viola e multicollo', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('reso no rip gestione viola e multicollo', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,603 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 218 and file_name = 'DP_RECALC_ORDINI.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 218, 'DP_RECALC_ORDINI.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-30 17:01:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-30 17:01:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-30 17:01:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,604 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 218 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 218, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-01 15:51:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-01 15:51:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-01 15:51:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,605 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 117) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,606 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'revisione ordini .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'revisione ordini .task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,607 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 219 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 219, null, left('revisione ordini ', 150)
            , 'molina', convert(datetime, '2020-10-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-21 00:00:00', 120), dt_upd = NULL
         , title = left('revisione ordini ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione ordini ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,608 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 219 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 219, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-21 16:46:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-21 16:46:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-21 16:46:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,609 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 118) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,610 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'ritocco al reso no rip senza spese.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'ritocco al reso no rip senza spese.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,611 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 220 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 220, null, left('ritocco al reso no rip senza spese', 150)
            , 'molina', convert(datetime, '2020-07-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-09 00:00:00', 120), dt_upd = NULL
         , title = left('ritocco al reso no rip senza spese', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ritocco al reso no rip senza spese', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,612 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 119) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,614 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'rivisitazione tags mattino,pomeriggio.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'rivisitazione tags mattino,pomeriggio.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:53', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,615 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 221 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 221, null, left('rivisitazione tags mattino,pomeriggio', 150)
            , 'molina', convert(datetime, '2021-01-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezza', convert(datetime, '2021-03-02 22:44:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-25 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione tags mattino,pomeriggio', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:53', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione tags mattino,pomeriggio', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,617 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 221 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 221, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-25 17:45:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-25 17:45:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-25 17:45:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,618 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 221 and file_name = 'mp eticchette.JPEG';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 221, 'mp eticchette.JPEG', '.jpeg', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-25 17:45:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-25 17:45:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-25 17:45:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,618 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 120) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,619 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'scelta tipo spedizione dal sito.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'scelta tipo spedizione dal sito.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,621 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 222 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 222, null, left('scelta tipo spedizione dal sito', 150)
            , 'molina', convert(datetime, '2020-09-24 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'giornata', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-24 00:00:00', 120), dt_upd = NULL
         , title = left('scelta tipo spedizione dal sito', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('scelta tipo spedizione dal sito', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,621 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 222 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 222, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-11 11:06:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-11 11:06:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-11 11:06:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,623 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 222 and file_name = 'task.revisione promo ordini.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 222, 'task.revisione promo ordini.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-25 11:17:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-25 11:17:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-25 11:17:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,623 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 121) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,624 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'soluzione chiusura corrieri.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'soluzione chiusura corrieri.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,625 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 223 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 223, null, left('soluzione chiusura corrieri', 150)
            , 'molina', convert(datetime, '2020-11-03 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-03 00:00:00', 120), dt_upd = NULL
         , title = left('soluzione chiusura corrieri', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-03 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('soluzione chiusura corrieri', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,627 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 223 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 223, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-03 17:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-03 17:39:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-03 17:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,627 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 122) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,628 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'spese di spedizione dal sito.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'spese di spedizione dal sito.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,629 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 224 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 224, null, left('spese di spedizione dal sito', 150)
            , 'molina', convert(datetime, '2020-10-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'ora', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-30 00:00:00', 120), dt_upd = NULL
         , title = left('spese di spedizione dal sito', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('spese di spedizione dal sito', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,630 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 224 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 224, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-30 16:13:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-30 16:13:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-30 16:13:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,631 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 123) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,632 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'stampa bolle senza prezzo dal magazzino.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'stampa bolle senza prezzo dal magazzino.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,634 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 225 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 225, null, left('stampa bolle senza prezzo dal magazzino', 150)
            , 'molina', convert(datetime, '2020-06-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezzora', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-30 00:00:00', 120), dt_upd = NULL
         , title = left('stampa bolle senza prezzo dal magazzino', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('stampa bolle senza prezzo dal magazzino', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,635 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 124) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,636 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'timeout importazione articolo nel gestionale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'timeout importazione articolo nel gestionale.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,637 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 226 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 226, null, left('timeout importazione articolo nel gestionale', 150)
            , 'molina', convert(datetime, '2020-08-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-17 00:00:00', 120), dt_upd = NULL
         , title = left('timeout importazione articolo nel gestionale', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('timeout importazione articolo nel gestionale', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,638 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 226 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 226, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-17 17:11:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-17 17:11:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-17 17:11:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,639 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 125) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,640 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'via dalla bolla le cauzioni .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'via dalla bolla le cauzioni .task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,641 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 227 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 227, null, left('via dalla bolla le cauzioni ', 150)
            , 'molina', convert(datetime, '2020-09-02 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezzora', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-02 00:00:00', 120), dt_upd = NULL
         , title = left('via dalla bolla le cauzioni ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('via dalla bolla le cauzioni ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,642 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 227 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 227, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-02 09:53:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-02 09:53:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-02 09:53:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,643 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 126) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,644 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'preventivi';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'preventivi', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,645 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 228 
        and folder_name = 'Invia preventivo (ricerca targa) Lingue.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 228, 'Invia preventivo (ricerca targa) Lingue.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,646 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 229 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 229, null, left('Invia preventivo (ricerca targa) Lingue', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('Invia preventivo (ricerca targa) Lingue', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('Invia preventivo (ricerca targa) Lingue', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,647 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 229 and file_name = 'Cartel2.xlsx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 229, 'Cartel2.xlsx', '.xlsx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-02 14:37:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-02 14:37:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 14:37:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,649 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 229 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 229, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-17 08:26:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-17 08:26:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-17 08:26:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,650 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 229 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 229, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-03 17:19:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-03 17:19:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-03 17:19:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,651 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 127) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,652 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'prodotti';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'prodotti', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:56', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,653 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'descrizione breve con tags.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'descrizione breve con tags.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:55', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,654 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 231 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 231, null, left('descrizione breve con tags', 150)
            , 'molina', convert(datetime, '2020-12-11 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-12-11 00:00:00', 120), dt_upd = NULL
         , title = left('descrizione breve con tags', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:55', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-12-11 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('descrizione breve con tags', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,655 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 231 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 231, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-12-11 11:13:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-12-11 11:13:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-12-11 11:13:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,656 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 128) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,657 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'GACC611DPSN non  nei listini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'GACC611DPSN non  nei listini.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:56', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,658 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 232 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 232, null, left('GACC611DPSN non  nei listini', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('GACC611DPSN non  nei listini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:56', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('GACC611DPSN non  nei listini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,659 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 232 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 232, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-02 12:06:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-02 12:06:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 12:06:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,660 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 129) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,661 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'gestione campo content - description per gli ARC.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'gestione campo content - description per gli ARC.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,662 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 233 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 233, null, left('gestione campo content - description per gli ARC', 150)
            , 'molina', convert(datetime, '2020-07-10 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-10 00:00:00', 120), dt_upd = NULL
         , title = left('gestione campo content - description per gli ARC', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-10 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione campo content - description per gli ARC', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,663 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 233 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 233, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-28 14:34:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-28 14:34:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 14:34:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,664 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 233 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 233, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-28 14:28:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-28 14:28:57', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 14:28:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,665 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 130) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,666 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'gestione note sui prodotti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'gestione note sui prodotti.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:55', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,667 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 234 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 234, null, left('gestione note sui prodotti', 150)
            , 'molina', convert(datetime, '2020-10-12 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-12 00:00:00', 120), dt_upd = NULL
         , title = left('gestione note sui prodotti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:55', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-12 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione note sui prodotti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,668 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 234 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 234, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-14 16:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-14 16:44:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-14 16:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,669 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 131) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,670 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'griglia codici DIP.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'griglia codici DIP.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:55', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,671 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 235 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 235, null, left('griglia codici DIP', 150)
            , 'molina', convert(datetime, '2020-08-24 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-24 00:00:00', 120), dt_upd = NULL
         , title = left('griglia codici DIP', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:55', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('griglia codici DIP', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,672 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 235 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 235, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-24 18:13:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-24 18:13:57', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-24 18:13:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,673 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 235 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 235, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-24 18:14:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-24 18:14:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-24 18:14:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,674 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 132) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,675 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'listini';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'listini', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-03 14:38:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-03 14:38:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-03 14:38:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,676 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 236 
        and folder_name = 'aggiornata la lista delle categorie.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 236, 'aggiornata la lista delle categorie.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:56', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,677 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 237 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 237, null, left('aggiornata la lista delle categorie', 150)
            , 'molina', convert(datetime, '2020-08-11 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-11 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornata la lista delle categorie', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:56', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-11 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornata la lista delle categorie', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,678 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 133) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,679 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 236 
        and folder_name = 'aggiunta filtro nuovo - rev per i listini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 236, 'aggiunta filtro nuovo - rev per i listini.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:56', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,680 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 238 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 238, null, left('aggiunta filtro nuovo - rev per i listini', 150)
            , 'molina', convert(datetime, '2020-08-11 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', NULL, convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-11 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta filtro nuovo - rev per i listini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:56', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-11 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta filtro nuovo - rev per i listini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,681 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 134) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,682 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 236 
        and folder_name = 'gestione ricambista b per i prezzi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 236, 'gestione ricambista b per i prezzi.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:56', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,684 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 239 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 239, null, left('gestione ricambista b per i prezzi', 150)
            , 'molina', convert(datetime, '2020-10-14 00:00:00', 120), NULL, 1
            , 'fatto', 'altissima', 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-14 00:00:00', 120), dt_upd = NULL
         , title = left('gestione ricambista b per i prezzi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'altissima'
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:56', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione ricambista b per i prezzi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('altissima', '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,685 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 239 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 239, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-14 11:24:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-14 11:24:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-14 11:24:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,686 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 135) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,687 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 236 
        and folder_name = 'listini multipli sistemati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 236, 'listini multipli sistemati.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:56', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,688 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 240 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 240, null, left('listini multipli sistemati', 150)
            , 'molina', convert(datetime, '2020-10-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-30 00:00:00', 120), dt_upd = NULL
         , title = left('listini multipli sistemati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:56', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('listini multipli sistemati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,689 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 240 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 240, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-30 11:37:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-30 11:37:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-30 11:37:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,690 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 136) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,691 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 236 
        and folder_name = 'nuovo Listino RICAMBISTA B.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 236, 'nuovo Listino RICAMBISTA B.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-03 14:39:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-03 14:39:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-03 14:39:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,693 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 241 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 241, null, left('nuovo Listino RICAMBISTA B', 150)
            , 'molina', convert(datetime, '2020-08-21 00:00:00', 120), NULL, 1
            , 'fatto', 'alta', 'modifica', NULL, convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-21 00:00:00', 120), dt_upd = NULL
         , title = left('nuovo Listino RICAMBISTA B', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'modifica', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:56', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuovo Listino RICAMBISTA B', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,694 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 241 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 241, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-03 14:39:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-03 14:39:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-03 14:39:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,695 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 241 and file_name = 'task.listino ricb.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 241, 'task.listino ricb.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-06 10:04:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-06 10:04:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-06 10:04:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,696 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 137) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,697 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'marchio dpsn ai prodotti R.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'marchio dpsn ai prodotti R.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,698 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 242 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 242, null, left('marchio dpsn ai prodotti R', 150)
            , 'molina', convert(datetime, '2020-07-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-09 00:00:00', 120), dt_upd = NULL
         , title = left('marchio dpsn ai prodotti R', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('marchio dpsn ai prodotti R', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,699 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 242 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 242, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-10 10:11:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-10 10:11:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-10 10:11:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,700 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 138) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,701 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'nuove categorie.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'nuove categorie.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:54', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,702 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 243 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 243, null, left('nuove categorie', 150)
            , 'molina', convert(datetime, '2020-08-13 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-13 00:00:00', 120), dt_upd = NULL
         , title = left('nuove categorie', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:54', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-13 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuove categorie', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,703 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 243 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 243, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-13 10:01:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-13 10:01:41', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-13 10:01:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,704 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 139) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,705 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'revisione categorie.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'revisione categorie.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:55', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,706 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 244 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 244, null, left('revisione categorie', 150)
            , 'molina', convert(datetime, '2021-01-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-21 00:00:00', 120), dt_upd = NULL
         , title = left('revisione categorie', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:55', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione categorie', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,707 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 244 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 244, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-21 17:30:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-21 17:30:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-21 17:30:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,708 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 244 and file_name = 'Lista Categoria Iniettori.xlsx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 244, 'Lista Categoria Iniettori.xlsx', '.xlsx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-21 08:59:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-21 08:59:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-21 08:59:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,709 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 244 and file_name = 'rev-categorie-www.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 244, 'rev-categorie-www.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-21 14:45:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-21 14:45:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-21 14:45:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,710 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 244 and file_name = 'rev-categorie.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 244, 'rev-categorie.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-21 14:45:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-21 14:45:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-21 14:45:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,710 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 140) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,712 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'sistemata la paginetta prodotti per le carcasse.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'sistemata la paginetta prodotti per le carcasse.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:55', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,713 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 245 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 245, null, left('sistemata la paginetta prodotti per le carcasse', 150)
            , 'molina', convert(datetime, '2020-09-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-29 00:00:00', 120), dt_upd = NULL
         , title = left('sistemata la paginetta prodotti per le carcasse', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:55', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('sistemata la paginetta prodotti per le carcasse', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,714 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 141) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,715 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'sistemata la vista VW_CAUZIONI.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'sistemata la vista VW_CAUZIONI.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:55', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,716 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 246 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 246, null, left('sistemata la vista VW_CAUZIONI', 150)
            , 'molina', convert(datetime, '2020-08-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezzora', convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-25 00:00:00', 120), dt_upd = NULL
         , title = left('sistemata la vista VW_CAUZIONI', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:55', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('sistemata la vista VW_CAUZIONI', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,717 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 246 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 246, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-25 09:32:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-25 09:32:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-25 09:32:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,718 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 246 and file_name = 'scheda crm con 2 codici.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 246, 'scheda crm con 2 codici.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-11 10:11:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-11 10:11:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-11 10:11:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,720 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 246 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 246, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-25 09:32:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-25 09:32:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-25 09:32:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,721 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 246 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 246, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-27 12:27:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-27 12:27:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-27 12:27:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,721 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 142) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,723 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'spariscono le domande dei prodotti sul sito.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'spariscono le domande dei prodotti sul sito.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:56', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,723 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 247 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 247, null, left('spariscono le domande dei prodotti sul sito', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('spariscono le domande dei prodotti sul sito', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:56', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('spariscono le domande dei prodotti sul sito', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,724 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 247 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 247, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-06 10:34:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-06 10:34:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-06 10:34:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,725 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 143) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,726 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'uniformare le categorie.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'uniformare le categorie.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,727 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 248 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 248, null, left('uniformare le categorie', 150)
            , 'molina', convert(datetime, '2020-08-12 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', 'giornata', convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-12 00:00:00', 120), dt_upd = NULL
         , title = left('uniformare le categorie', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-12 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('uniformare le categorie', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,728 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 248 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 248, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-14 10:16:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-14 10:16:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-14 10:16:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,730 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 248 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 248, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-14 10:13:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-14 10:13:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-14 10:13:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,731 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 144) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,732 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'vendite nella pagina prodotti web.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'vendite nella pagina prodotti web.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:55', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,733 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 249 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 249, null, left('vendite nella pagina prodotti web', 150)
            , 'molina', convert(datetime, '2020-10-07 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'facile', 'due_ore', convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-07 00:00:00', 120), dt_upd = NULL
         , title = left('vendite nella pagina prodotti web', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:55', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-07 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('vendite nella pagina prodotti web', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,734 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 249 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 249, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-07 16:41:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-07 16:41:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-07 16:41:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,735 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 145) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,736 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'revisioni';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'revisioni', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,737 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 250 
        and folder_name = 'lavorazioni interne.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 250, 'lavorazioni interne.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,738 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 251 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 251, null, left('lavorazioni interne', 150)
            , 'molina', convert(datetime, '2020-11-05 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_giorni', convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-05 00:00:00', 120), dt_upd = NULL
         , title = left('lavorazioni interne', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-05 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('lavorazioni interne', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,739 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 251 
        and folder_name = 'patch';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 251, 'patch', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:23', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,740 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'FNCS - DETT_ORDINE.prev.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'FNCS - DETT_ORDINE.prev.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 09:06:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 09:06:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 09:06:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,741 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'FNCS - DETT_ORDINE.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'FNCS - DETT_ORDINE.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 10:59:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 10:59:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 10:59:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,742 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'PATCH.prev.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'PATCH.prev.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 12:16:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 12:16:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 12:16:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,743 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'PATCH.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'PATCH.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 12:16:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 12:16:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 12:16:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,743 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'REFRESH_CODA_ORDINI.prev.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'REFRESH_CODA_ORDINI.prev.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-09 17:43:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-09 17:43:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-09 17:43:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,744 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'REFRESH_CODA_ORDINI.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'REFRESH_CODA_ORDINI.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 12:01:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 12:01:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 12:01:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,745 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'REFRESH_PRODOTTI.prev.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'REFRESH_PRODOTTI.prev.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 12:14:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 12:14:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 12:14:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,746 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'REFRESH_PRODOTTI.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'REFRESH_PRODOTTI.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 10:50:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 10:50:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 10:50:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,747 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'task.lav interne.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'task.lav interne.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-09 12:04:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-09 12:04:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-09 12:04:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,748 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'UDCS_ORDERS_IN_CODA.prev.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'UDCS_ORDERS_IN_CODA.prev.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-09 17:42:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-09 17:42:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-09 17:42:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,749 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'UDCS_ORDERS_IN_CODA.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'UDCS_ORDERS_IN_CODA.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 10:57:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 10:57:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 10:57:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,750 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'VW_PRODOTTI_ORDERS.prev.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'VW_PRODOTTI_ORDERS.prev.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 09:49:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 09:49:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 09:49:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,751 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'VW_PRODOTTI_ORDERS.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'VW_PRODOTTI_ORDERS.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 10:53:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 10:53:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 10:53:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,752 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 146) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,753 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 251 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 251, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 17:14:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 17:14:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 17:14:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,754 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 146) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,755 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 250 
        and folder_name = 'specificare la quantit.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 250, 'specificare la quantit.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,756 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 253 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 253, null, left('specificare la quantit', 150)
            , 'molina', convert(datetime, '2021-01-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, 'due_ore', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-14 00:00:00', 120), dt_upd = NULL
         , title = left('specificare la quantit', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('specificare la quantit', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,757 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 253 and file_name = 'campo rev.jpg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 253, 'campo rev.jpg', '.jpg', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-14 17:26:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-14 17:26:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-14 17:26:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,758 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 253 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 253, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-14 17:25:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-14 17:25:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-14 17:25:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,759 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 147) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,760 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'scheda tecdoc';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'scheda tecdoc', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:57', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,762 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'aggiunta compatibilit a volte non va.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'aggiunta compatibilit a volte non va.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,763 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 255 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 255, null, left('aggiunta compatibilit a volte non va', 150)
            , 'molina', convert(datetime, '2020-08-18 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-18 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta compatibilit a volte non va', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta compatibilit a volte non va', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,764 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 255 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 255, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-18 16:02:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-18 16:02:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 16:02:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,765 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 255 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 255, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-18 15:33:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-18 15:33:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 15:33:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,766 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 148) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,767 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'catalogo';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'catalogo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:57', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,768 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 256 
        and folder_name = 'revisione alla versione 2019.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 256, 'revisione alla versione 2019.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:57', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,769 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 257 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 257, null, left('revisione alla versione 2019', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, 'due_ore', convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('revisione alla versione 2019', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:57', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione alla versione 2019', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,770 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 257 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 257, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-29 16:19:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-29 16:19:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 16:19:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,771 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 149) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,772 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'ci sono dei codici nel tec-doc disabilitati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'ci sono dei codici nel tec-doc disabilitati.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,773 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 258 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 258, null, left('ci sono dei codici nel tec-doc disabilitati', 150)
            , 'molina', convert(datetime, '2020-07-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-09 00:00:00', 120), dt_upd = NULL
         , title = left('ci sono dei codici nel tec-doc disabilitati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ci sono dei codici nel tec-doc disabilitati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,774 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 258 and file_name = '1.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 258, '1.png', '.png', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-09 11:18:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-07-09 11:18:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-09 11:18:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,776 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 258 and file_name = '2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 258, '2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-09 11:18:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-07-09 11:18:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-09 11:18:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,777 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 258 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 258, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-09 11:59:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-07-09 11:59:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-09 11:59:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,778 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 150) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,779 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'database tecdoc';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'database tecdoc', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:44:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,780 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 259 
        and folder_name = 'caricamento database td2019q4 sulla 91.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 259, 'caricamento database td2019q4 sulla 91.task', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:44:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,781 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 260 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 260, null, left('caricamento database td2019q4 sulla 91', 150)
            , 'molina', convert(datetime, '2020-06-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-15 00:00:00', 120), dt_upd = NULL
         , title = left('caricamento database td2019q4 sulla 91', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('caricamento database td2019q4 sulla 91', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,782 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 260 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 260, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-15 11:34:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-06-15 11:34:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-15 11:34:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,783 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 151) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,784 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 259 
        and folder_name = 'pulita tecdoc 16.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 259, 'pulita tecdoc 16.task', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:44:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,785 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 261 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 261, null, left('pulita tecdoc 16', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('pulita tecdoc 16', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('pulita tecdoc 16', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,786 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 261 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 261, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-04 08:26:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-06-04 08:26:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 08:26:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,787 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 152) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,788 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'estrazione dati tecdoc';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'estrazione dati tecdoc', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:01', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,790 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 262 
        and folder_name = 'check cross ARC071VLON.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 262, 'check cross ARC071VLON.task', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:01', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,791 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 263 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 263, null, left('check cross ARC071VLON', 150)
            , 'molina', convert(datetime, '2020-07-02 00:00:00', 120), NULL, 1
            , 'sospeso', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-02 00:00:00', 120), dt_upd = NULL
         , title = left('check cross ARC071VLON', 150), [user] = 'molina'
         , stato = 'sospeso', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:01', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('check cross ARC071VLON', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('sospeso', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,792 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 263 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 263, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-29 17:47:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-07-29 17:47:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 17:47:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,794 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 263 and file_name = 'Problema Cross TecDoc.msg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 263, 'Problema Cross TecDoc.msg', '.msg', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-29 17:48:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-07-29 17:48:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 17:48:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,795 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 263 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 263, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-03 09:00:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-07-03 09:00:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-03 09:00:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,796 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 263 and file_name = 'sql_bck.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 263, 'sql_bck.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-03 08:38:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-07-03 08:38:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-03 08:38:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,797 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 153) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,798 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 262 
        and folder_name = 'check errori di importazione dati tecdoc.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 262, 'check errori di importazione dati tecdoc.task', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:45:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:00', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,799 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 264 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 264, null, left('check errori di importazione dati tecdoc', 150)
            , 'molina', convert(datetime, '2020-06-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-23 00:00:00', 120), dt_upd = NULL
         , title = left('check errori di importazione dati tecdoc', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:00', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('check errori di importazione dati tecdoc', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,800 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 264 and file_name = 'Detail_04882_DIPASPORT_20200623_072620.csv';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 264, 'Detail_04882_DIPASPORT_20200623_072620.csv', '.csv', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-23 09:26:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-06-23 09:26:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-23 09:26:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,801 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 264 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 264, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-24 15:04:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-06-24 15:04:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-24 15:04:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,802 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 264 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 264, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-24 17:02:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-06-24 17:02:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-24 17:02:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,803 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 264 and file_name = 'td_base.old.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 264, 'td_base.old.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-24 08:58:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-06-24 08:58:11', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-24 08:58:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,804 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 154) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,805 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 262 
        and folder_name = 'controlli sulla definizione delle auto.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 262, 'controlli sulla definizione delle auto.task', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:45:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:00', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,806 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 265 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 265, null, left('controlli sulla definizione delle auto', 150)
            , 'molina', convert(datetime, '2020-06-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:45:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-26 00:00:00', 120), dt_upd = NULL
         , title = left('controlli sulla definizione delle auto', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:00', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('controlli sulla definizione delle auto', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,807 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 265 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 265, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-26 11:52:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-06-26 11:52:15', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 11:52:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,808 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 155) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,809 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 262 
        and folder_name = 'estrazione dati tecdoc flow223dpsn.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 262, 'estrazione dati tecdoc flow223dpsn.task', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:01', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,811 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 266 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 266, null, left('estrazione dati tecdoc flow223dpsn', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('estrazione dati tecdoc flow223dpsn', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:01', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('estrazione dati tecdoc flow223dpsn', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,812 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 266 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 266, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-18 10:39:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-06-18 10:39:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-18 10:39:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,813 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 156) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,814 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 262 
        and folder_name = 'estrazione tecdoc.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 262, 'estrazione tecdoc.task', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:44:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,816 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 267 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 267, null, left('estrazione tecdoc', 150)
            , 'molina', convert(datetime, '2020-05-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-05-28 00:00:00', 120), dt_upd = NULL
         , title = left('estrazione tecdoc', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-05-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('estrazione tecdoc', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,816 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 267 
        and folder_name = 'bulk_dat';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 267, 'bulk_dat', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-01-29 15:45:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:33', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,817 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 268 and file_name = '012.dat';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 268, '012.dat', '.dat', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-04-29 09:23:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-04-29 09:23:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-04-29 09:23:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,818 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 268 and file_name = '030.dat';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 268, '030.dat', '.dat', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-04-29 09:22:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-04-29 09:22:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-04-29 09:22:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,819 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 268 and file_name = 'import_12_30.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 268, 'import_12_30.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-03 11:35:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-03 11:35:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 11:35:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,820 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 268 and file_name = 'td-12-format.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 268, 'td-12-format.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2017-10-23 16:05:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2017-10-23 16:05:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-23 16:05:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,821 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 268 and file_name = 'td-30-format.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 268, 'td-30-format.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2017-10-26 15:37:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2017-10-26 15:37:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-26 15:37:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,821 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,823 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 267 
        and folder_name = 'docs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 267, 'docs', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2021-01-29 15:45:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,823 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 269 
        and folder_name = '4882-backup-tentler';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 269, '4882-backup-tentler', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2021-01-29 15:45:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,825 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '001.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '001.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,826 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '030.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '030.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,827 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '035.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '035.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,828 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '040.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '040.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,829 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '042.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '042.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,830 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '043.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '043.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,831 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '200.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '200.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,831 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '201.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '201.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,832 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '202.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '202.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,833 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '203.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '203.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,834 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '204.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '204.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,835 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '205.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '205.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,836 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '206.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '206.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,837 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '207.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '207.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,838 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '208.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '208.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,839 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '209.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '209.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,840 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '210.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '210.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,840 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '211.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '211.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,841 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '212.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '212.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,842 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '215.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '215.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,843 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '217.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '217.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,843 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '222.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '222.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,844 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '228.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '228.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,845 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '231.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '231.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,846 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '232.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '232.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,847 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '233.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '233.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,848 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '400.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '400.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,850 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '401.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '401.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,851 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '403.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '403.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,852 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '404.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '404.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,852 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '410.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '410.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,853 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '432.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '432.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,854 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,855 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 269 
        and folder_name = 'nostre tabelle';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 269, 'nostre tabelle', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2021-01-29 15:45:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,856 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '001.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '001.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2017-11-14 14:30:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2017-11-14 14:30:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-14 14:30:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,857 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '040.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '040.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 14:53:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 14:53:11', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 14:53:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,858 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '042.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '042.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 14:53:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 14:53:11', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 14:53:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,859 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '200.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '200.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 12:04:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 12:04:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 12:04:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,860 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '202.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '202.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 12:04:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 12:04:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 12:04:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,861 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '203.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '203.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 12:05:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 12:05:11', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 12:05:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,862 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '210.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '210.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 12:06:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 12:06:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 12:06:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,863 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '211.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '211.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 12:06:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 12:06:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 12:06:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,863 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '231.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '231.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 16:06:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 16:06:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 16:06:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,864 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '232.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '232.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 12:13:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 12:13:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 12:13:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,865 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '400.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '400.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 12:14:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 12:14:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 12:14:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,866 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '410.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '410.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 12:14:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 12:14:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 12:14:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,867 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,868 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 269 and file_name = 'I dqm@tecalliance.net - Mandatory and Differentiation-Attributes.msg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 269, 'I dqm@tecalliance.net - Mandatory and Differentiation-Attributes.msg', '.msg', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-03 08:20:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-03 08:20:41', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 08:20:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,869 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 269 and file_name = 'TecDoc-Data-Format_Version_2.4_EN.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 269, 'TecDoc-Data-Format_Version_2.4_EN.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-29 09:40:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-29 09:40:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-29 09:40:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,871 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,872 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 267 
        and folder_name = 'out';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 267, 'out', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2021-01-29 15:45:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,873 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = '200.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, '200.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-09 11:11:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-09 11:11:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:11:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,874 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = '202.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, '202.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-09 11:11:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-09 11:11:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:11:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,875 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = '203.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, '203.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-09 11:11:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-09 11:11:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:11:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,876 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = '210.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, '210.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-09 11:12:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-09 11:12:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:12:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,877 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = '211.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, '211.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-09 11:11:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-09 11:11:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:11:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,878 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = '232.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, '232.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-09 11:12:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-09 11:12:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:12:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,879 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = '400.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, '400.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-09 11:13:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-09 11:13:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:13:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,880 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = '410.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, '410.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-09 11:13:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-09 11:13:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:13:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,881 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = 'codici_mancanti.html';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, 'codici_mancanti.html', '.html', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-09 11:13:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-09 11:13:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:13:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,882 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = 'log.log';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, 'log.log', '.log', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-10 10:40:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-10 10:40:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-10 10:40:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,882 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,884 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 267 
        and folder_name = '_bck';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 267, '_bck', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-29 15:45:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,885 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 273 
        and folder_name = 'app_code';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 273, 'app_code', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-29 15:45:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,886 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 274 and file_name = 'dt_criteria.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 274, 'dt_criteria.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-09-28 17:36:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-09-28 17:36:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-09-28 17:36:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,887 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 274 and file_name = 'dt_export.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 274, 'dt_export.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-07-05 15:33:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2018-07-05 15:33:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-07-05 15:33:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,887 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,889 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 273 
        and folder_name = 'pages_js';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 273, 'pages_js', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-29 15:45:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,889 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 275 and file_name = 'dt_criteria.css';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 275, 'dt_criteria.css', '.css', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-09-29 17:52:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-09-29 17:52:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-09-29 17:52:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,890 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 275 and file_name = 'dt_criteria.js';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 275, 'dt_criteria.js', '.js', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-02 14:05:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-02 14:05:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-02 14:05:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,891 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 275 and file_name = 'dt_export.js';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 275, 'dt_export.js', '.js', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-07-05 14:47:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2018-07-05 14:47:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-07-05 14:47:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,892 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 275 and file_name = 'dt_import.js';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 275, 'dt_import.js', '.js', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-23 10:34:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-23 10:34:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-23 10:34:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,893 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,894 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 273 
        and folder_name = 'pages_xml';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 273, 'pages_xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-29 15:45:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,895 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 276 and file_name = 'pageDTCountries.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 276, 'pageDTCountries.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-20 16:23:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-20 16:23:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-20 16:23:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,896 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 276 and file_name = 'pageDTCountry.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 276, 'pageDTCountry.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-09-25 16:37:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-09-25 16:37:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-09-25 16:37:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,897 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 276 and file_name = 'pageDTCriteria.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 276, 'pageDTCriteria.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-02 08:49:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-02 08:49:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-02 08:49:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,898 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 276 and file_name = 'pageDTExport.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 276, 'pageDTExport.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-07-05 14:23:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2018-07-05 14:23:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-07-05 14:23:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,899 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 276 and file_name = 'pageDTImport.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 276, 'pageDTImport.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-06 17:17:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-06 17:17:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-06 17:17:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,900 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,901 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 273 
        and folder_name = 'procs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 273, 'procs', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-29 15:45:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,902 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 277 
        and folder_name = 'td';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 277, 'td', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-29 15:45:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,903 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'copy-an.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'copy-an.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-01-24 15:36:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2018-01-24 15:36:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-01-24 15:36:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,904 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_10.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_10.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-23 14:06:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-23 14:06:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-23 14:06:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,905 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_100.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_100.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-23 11:57:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-23 11:57:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-23 11:57:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,906 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_110.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_110.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-06 16:00:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-06 16:00:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-06 16:00:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,907 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_12.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_12.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-23 11:56:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-23 11:56:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-23 11:56:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,908 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_120.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_120.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-06 14:31:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-06 14:31:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-06 14:31:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,909 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_125.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_125.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-06 16:58:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-06 16:58:15', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-06 16:58:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,910 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_14.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_14.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-02 10:30:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-02 10:30:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-02 10:30:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,911 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_20.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_20.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-23 16:20:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-23 16:20:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-23 16:20:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,912 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_200.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_200.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-17 08:49:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-17 08:49:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-17 08:49:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,913 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_202.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_202.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-17 08:49:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-17 08:49:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-17 08:49:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,914 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_203.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_203.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-17 08:49:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-17 08:49:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-17 08:49:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,915 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_207.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_207.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-27 09:54:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-27 09:54:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-27 09:54:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,915 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_210.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_210.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-02-07 15:07:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2018-02-07 15:07:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-02-07 15:07:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,916 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_211.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_211.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-02-07 14:39:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2018-02-07 14:39:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-02-07 14:39:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,917 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_231.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_231.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-21 17:50:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-21 17:50:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-21 17:50:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,918 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_232.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_232.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-24 09:38:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-24 09:38:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-24 09:38:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,919 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_320.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_320.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-31 14:00:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-31 14:00:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-31 14:00:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,920 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_323.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_323.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-31 12:25:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-31 12:25:57', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-31 12:25:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,921 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_324.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_324.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-31 12:25:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-31 12:25:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-31 12:25:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,921 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_325.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_325.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-31 12:25:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-31 12:25:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-31 12:25:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,922 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_400.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_400.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-03-06 09:28:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2018-03-06 09:28:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-03-06 09:28:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,924 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_410.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_410.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-03-05 12:36:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2018-03-05 12:36:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-03-05 12:36:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,925 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_50.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_50.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-27 10:37:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-27 10:37:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-27 10:37:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,926 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_51.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_51.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-27 11:59:44', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-27 11:59:44', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-27 11:59:44', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,927 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_52.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_52.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-27 12:02:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-27 12:02:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-27 12:02:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,928 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_base.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_base.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2019-09-03 10:00:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2019-09-03 10:00:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-09-03 10:00:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,929 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,930 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,931 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 273 and file_name = 'Log before.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 273, 'Log before.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-05 09:30:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-05 09:30:41', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 09:30:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,932 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 273 and file_name = 'Log Last.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 273, 'Log Last.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-05 09:30:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-05 09:30:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 09:30:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,933 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 273 and file_name = 'td_base.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 273, 'td_base.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 15:15:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 15:15:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 15:15:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,934 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,935 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 267 and file_name = 'mca.bat';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 267, 'mca.bat', '.bat', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-10 10:39:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-10 10:39:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-10 10:39:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,936 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 267 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 267, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-29 17:40:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-29 17:40:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-29 17:40:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,937 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 267 and file_name = '_log.lnk';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 267, '_log.lnk', '.lnk', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 09:42:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 09:42:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 09:42:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,938 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,939 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 262 
        and folder_name = 'revisione errori.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 262, 'revisione errori.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:01', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,940 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 279 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 279, null, left('revisione errori', 150)
            , 'molina', convert(datetime, '2020-11-13 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_giorni', convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-13 00:00:00', 120), dt_upd = NULL
         , title = left('revisione errori', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:01', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-13 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione errori', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,941 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 279 and file_name = 'td_report.rar';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 279, 'td_report.rar', '.rar', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-13 14:40:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-11-13 14:40:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-13 14:40:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,942 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 158) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,943 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 262 
        and folder_name = 'xx_td_prods_check.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 262, 'xx_td_prods_check.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:01', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,944 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 280 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 280, null, left('xx_td_prods_check', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('xx_td_prods_check', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:01', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('xx_td_prods_check', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,945 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 280 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 280, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-04 14:33:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-04 14:33:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 14:33:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,946 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 159) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,947 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'funzionalit';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'funzionalit', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,948 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'codici senza scheda web.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'codici senza scheda web.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,950 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 282 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 282, null, left('codici senza scheda web', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('codici senza scheda web', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('codici senza scheda web', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,950 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 282 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 282, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-11 17:40:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-11 17:40:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-11 17:40:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,951 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 160) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,953 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'controllo rinomina codice DIP.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'controllo rinomina codice DIP.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,954 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 283 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 283, null, left('controllo rinomina codice DIP', 150)
            , 'molina', convert(datetime, '2020-06-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-29 00:00:00', 120), dt_upd = NULL
         , title = left('controllo rinomina codice DIP', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('controllo rinomina codice DIP', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,955 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 161) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,957 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'criteri prodotti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'criteri prodotti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,958 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 284 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 284, null, left('criteri prodotti', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('criteri prodotti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('criteri prodotti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,959 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 284 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 284, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-05 10:14:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-05 10:14:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 10:14:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,960 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 162) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,961 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'elimina codice dipa.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'elimina codice dipa.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,962 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 285 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 285, null, left('elimina codice dipa', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('elimina codice dipa', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('elimina codice dipa', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,963 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 285 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 285, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-25 18:28:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-25 18:28:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-25 18:28:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,964 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 163) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,965 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'gestione categorie prodotti dal crm.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'gestione categorie prodotti dal crm.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,966 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 286 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 286, null, left('gestione categorie prodotti dal crm', 150)
            , 'molina', convert(datetime, '2020-06-29 00:00:00', 120), NULL, 1
            , 'da_fare', 'alta', 'aggiunta', 'due_giorni', convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-29 00:00:00', 120), dt_upd = NULL
         , title = left('gestione categorie prodotti dal crm', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = 'alta'
         , tipo = 'aggiunta', stima = 'due_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione categorie prodotti dal crm', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,967 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 164) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,968 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'gestione cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'gestione cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,969 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 287 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 287, null, left('gestione cauzioni', 150)
            , 'molina', convert(datetime, '2020-06-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_giorni', convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-17 00:00:00', 120), dt_upd = NULL
         , title = left('gestione cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,970 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 287 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 287, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-22 17:36:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-22 17:36:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-22 17:36:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,971 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 165) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,973 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'gestione compatibili.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'gestione compatibili.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,974 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 288 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 288, null, left('gestione compatibili', 150)
            , 'molina', convert(datetime, '2020-06-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-17 00:00:00', 120), dt_upd = NULL
         , title = left('gestione compatibili', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione compatibili', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,975 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 288 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 288, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 14:06:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-17 14:06:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-17 14:06:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,976 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 166) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,977 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'rinomina dip sulle lavorazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'rinomina dip sulle lavorazioni.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,979 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 289 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 289, null, left('rinomina dip sulle lavorazioni', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('rinomina dip sulle lavorazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rinomina dip sulle lavorazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,980 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 289 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 289, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-02 11:11:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-02 11:11:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 11:11:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,981 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 167) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,982 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'rinomina dip.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'rinomina dip.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,983 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 290 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 290, null, left('rinomina dip', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('rinomina dip', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rinomina dip', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,984 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 290 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 290, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-09 16:14:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-09 16:14:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 16:14:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,985 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 168) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,987 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'scheda marca.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'scheda marca.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:01', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,988 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 291 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 291, null, left('scheda marca', 150)
            , 'molina', convert(datetime, '2020-05-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-05-26 00:00:00', 120), dt_upd = NULL
         , title = left('scheda marca', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:01', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-05-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('scheda marca', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,989 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 291 and file_name = 'scheda - marca.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 291, 'scheda - marca.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-28 15:00:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-28 15:00:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-28 15:00:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,990 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 291 and file_name = 'Sufx.xls';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 291, 'Sufx.xls', '.xls', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-26 11:31:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-26 11:31:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-26 11:31:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,991 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 169) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,992 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'schede - elimina.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'schede - elimina.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:01', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,993 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 292 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 292, null, left('schede - elimina', 150)
            , 'molina', convert(datetime, '2020-05-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-05-08 00:00:00', 120), dt_upd = NULL
         , title = left('schede - elimina', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:01', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-05-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('schede - elimina', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,994 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 292 and file_name = 'da cancellare - 2.xls';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 292, 'da cancellare - 2.xls', '.xls', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-08 15:15:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-08 15:15:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-08 15:15:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,995 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 292 and file_name = 'da cancellare.xlsx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 292, 'da cancellare.xlsx', '.xlsx', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-08 14:26:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-08 14:26:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-08 14:26:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,996 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 292 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 292, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-12 16:00:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-12 16:00:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-12 16:00:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,997 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 170) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:00,998 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'sistemata alla gestione accoppiamenti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'sistemata alla gestione accoppiamenti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:01', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:00,999 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 293 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 293, null, left('sistemata alla gestione accoppiamenti', 150)
            , 'molina', convert(datetime, '2020-06-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-25 00:00:00', 120), dt_upd = NULL
         , title = left('sistemata alla gestione accoppiamenti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:01', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('sistemata alla gestione accoppiamenti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,001 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 293 and file_name = 'bck.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 293, 'bck.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 14:12:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-29 14:12:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 14:12:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,002 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 293 and file_name = 'estrazione types.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 293, 'estrazione types.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 09:10:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 09:10:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 09:10:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,003 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 293 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 293, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 10:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-29 10:45:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 10:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,004 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 171) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,005 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'tolto il controllo sugli ordini per il duplica schede.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'tolto il controllo sugli ordini per il duplica schede.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,006 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 294 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 294, null, left('tolto il controllo sugli ordini per il duplica schede', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('tolto il controllo sugli ordini per il duplica schede', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('tolto il controllo sugli ordini per il duplica schede', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,007 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 294 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 294, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-15 15:40:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-15 15:40:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-15 15:40:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,008 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 172) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,010 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'upload marche.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'upload marche.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,011 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 295 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 295, null, left('upload marche', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('upload marche', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('upload marche', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,012 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 295 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 295, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-29 08:47:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-29 08:47:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-29 08:47:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,013 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 173) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,014 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'gestione campi seo.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'gestione campi seo.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:57', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,015 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 296 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 296, null, left('gestione campi seo', 150)
            , 'molina', convert(datetime, '2020-10-06 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-06 00:00:00', 120), dt_upd = NULL
         , title = left('gestione campi seo', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:57', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-06 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione campi seo', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,016 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 296 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 296, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-07 11:59:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-07 11:59:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-07 11:59:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,017 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 296 and file_name = 'task.aggiornamento pname.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 296, 'task.aggiornamento pname.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-07 10:25:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-07 10:25:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-07 10:25:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,018 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 296 and file_name = 'task.campi nuovi scheda crm.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 296, 'task.campi nuovi scheda crm.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-07 08:38:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-07 08:38:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-07 08:38:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,019 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 174) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,020 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'gestione cross';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'gestione cross', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,021 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 297 
        and folder_name = 'deselezionato mi aspetto di vederlo in verde.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 297, 'deselezionato mi aspetto di vederlo in verde.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,022 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 298 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 298, null, left('deselezionato mi aspetto di vederlo in verde', 150)
            , 'molina', convert(datetime, '2020-06-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-26 00:00:00', 120), dt_upd = NULL
         , title = left('deselezionato mi aspetto di vederlo in verde', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('deselezionato mi aspetto di vederlo in verde', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,023 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 298 and file_name = 'i.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 298, 'i.png', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 17:07:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 17:07:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 17:07:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,024 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 298 and file_name = 'i2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 298, 'i2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 17:07:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 17:07:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 17:07:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,025 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 298 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 298, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 09:34:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-29 09:34:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 09:34:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,026 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 298 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 298, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 08:37:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-29 08:37:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 08:37:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,028 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 175) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,029 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 297 
        and folder_name = 'revisione colori rosso - verde.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 297, 'revisione colori rosso - verde.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,030 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 299 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 299, null, left('revisione colori rosso - verde', 150)
            , 'molina', convert(datetime, '2020-06-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'ora', convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-30 00:00:00', 120), dt_upd = NULL
         , title = left('revisione colori rosso - verde', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione colori rosso - verde', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,032 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 176) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,033 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 297 
        and folder_name = 'schede incrociate in verde non appaiono.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 297, 'schede incrociate in verde non appaiono.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,034 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 300 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 300, null, left('schede incrociate in verde non appaiono', 150)
            , 'molina', convert(datetime, '2020-06-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-26 00:00:00', 120), dt_upd = NULL
         , title = left('schede incrociate in verde non appaiono', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('schede incrociate in verde non appaiono', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,035 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 300 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 300, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 11:46:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 11:46:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 11:46:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,036 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 300 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 300, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 11:45:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 11:45:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 11:45:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,037 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 177) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,039 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'marca dei codici a volte non si aggiorna.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'marca dei codici a volte non si aggiorna.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,040 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 301 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 301, null, left('marca dei codici a volte non si aggiorna', 150)
            , 'molina', convert(datetime, '2020-08-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-17 00:00:00', 120), dt_upd = NULL
         , title = left('marca dei codici a volte non si aggiorna', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('marca dei codici a volte non si aggiorna', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,041 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 301 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 301, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 09:32:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-18 09:32:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 09:32:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,042 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 301 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 301, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 09:30:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-18 09:30:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 09:30:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,043 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 178) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,044 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'ottimizzazione caricamento pagina.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'ottimizzazione caricamento pagina.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:57', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,046 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 302 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 302, null, left('ottimizzazione caricamento pagina', 150)
            , 'molina', convert(datetime, '2020-11-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-25 00:00:00', 120), dt_upd = NULL
         , title = left('ottimizzazione caricamento pagina', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:57', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ottimizzazione caricamento pagina', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,047 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 302 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 302, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-25 11:20:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-11-25 11:20:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-25 11:20:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,048 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 179) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,049 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'sincronizzazioni';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'sincronizzazioni', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:08', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,050 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'alyante';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'alyante', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,051 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 304 
        and folder_name = 'alyante - descrizioni articoli.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 304, 'alyante - descrizioni articoli.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,053 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 305 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 305, null, left('alyante - descrizioni articoli', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('alyante - descrizioni articoli', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('alyante - descrizioni articoli', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,054 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 305 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 305, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-05 17:21:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-05 17:21:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 17:21:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,055 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 180) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,056 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 304 
        and folder_name = 'nota riep.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 304, 'nota riep.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,057 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 306 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 306, null, left('nota riep', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('nota riep', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nota riep', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,058 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 306 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 306, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 14:00:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 14:00:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 14:00:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,059 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 181) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,061 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'buffer nasconde le options.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'buffer nasconde le options.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,062 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 307 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 307, null, left('buffer nasconde le options', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', 'alta', NULL, NULL, convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('buffer nasconde le options', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('buffer nasconde le options', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,063 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 307 and file_name = 'connector-2020-07-10.log';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 307, 'connector-2020-07-10.log', '.log', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-10 11:27:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-10 11:27:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-10 11:27:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,064 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 307 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 307, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-10 09:00:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-10 09:00:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-10 09:00:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,065 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 307 and file_name = 'magento-buffer-options.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 307, 'magento-buffer-options.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-10 14:10:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-10 14:10:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-10 14:10:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,066 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 182) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,067 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'carica codici nascosti lenta.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'carica codici nascosti lenta.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,068 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 308 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 308, null, left('carica codici nascosti lenta', 150)
            , 'molina', convert(datetime, '2020-09-01 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-01 00:00:00', 120), dt_upd = NULL
         , title = left('carica codici nascosti lenta', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-01 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('carica codici nascosti lenta', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,069 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 308 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 308, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-01 10:12:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-09-01 10:12:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-01 10:12:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,070 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 183) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,071 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'collegamento q';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'collegamento q', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,072 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 309 
        and folder_name = 'aggiornamento tracciato invio dati gestionale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 309, 'aggiornamento tracciato invio dati gestionale.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,073 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 310 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 310, null, left('aggiornamento tracciato invio dati gestionale', 150)
            , 'molina', convert(datetime, '2020-06-22 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-22 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornamento tracciato invio dati gestionale', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-22 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornamento tracciato invio dati gestionale', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,074 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 310 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 310, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-22 09:54:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-22 09:54:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-22 09:54:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,075 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 184) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,077 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 309 
        and folder_name = 'invia dati a gestionale - via id_hash.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 309, 'invia dati a gestionale - via id_hash.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,078 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 311 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 311, null, left('invia dati a gestionale - via id_hash', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('invia dati a gestionale - via id_hash', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('invia dati a gestionale - via id_hash', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,079 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 311 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 311, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-23 09:17:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-23 09:17:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-23 09:17:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,080 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 185) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,081 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 309 
        and folder_name = 'marchio nel q.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 309, 'marchio nel q.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,082 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 312 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 312, null, left('marchio nel q', 150)
            , 'molina', convert(datetime, '2020-06-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-17 00:00:00', 120), dt_upd = NULL
         , title = left('marchio nel q', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('marchio nel q', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,084 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 312 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 312, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 17:12:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-17 17:12:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-17 17:12:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,085 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 186) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,086 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'duplica schede';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'duplica schede', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,087 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'avviso duplica schede prodotti senza scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'avviso duplica schede prodotti senza scheda.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,088 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 314 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 314, null, left('avviso duplica schede prodotti senza scheda', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('avviso duplica schede prodotti senza scheda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('avviso duplica schede prodotti senza scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,089 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 314 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 314, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 10:37:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-17 10:37:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-17 10:37:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,090 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 187) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,091 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'duplica aggiornamento prezzi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'duplica aggiornamento prezzi.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,092 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 315 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 315, null, left('duplica aggiornamento prezzi', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('duplica aggiornamento prezzi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('duplica aggiornamento prezzi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,093 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 315 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 315, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-08 09:12:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-08 09:12:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-08 09:12:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,094 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 188) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,095 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'duplica attributi sbagliati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'duplica attributi sbagliati.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,097 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 316 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 316, null, left('duplica attributi sbagliati', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('duplica attributi sbagliati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('duplica attributi sbagliati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,098 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 316 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 316, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-27 15:19:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-27 15:19:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-27 15:19:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,099 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 189) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,100 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'duplica schede - controllo campi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'duplica schede - controllo campi.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,101 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 317 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 317, null, left('duplica schede - controllo campi', 150)
            , 'molina', convert(datetime, '2020-06-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-23 00:00:00', 120), dt_upd = NULL
         , title = left('duplica schede - controllo campi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('duplica schede - controllo campi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,102 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 317 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 317, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-23 11:10:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-23 11:10:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-23 11:10:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,103 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 190) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,104 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'duplica schede prezzi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'duplica schede prezzi.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,106 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 318 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 318, null, left('duplica schede prezzi', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('duplica schede prezzi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('duplica schede prezzi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,107 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 318 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 318, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-11 16:55:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-11 16:55:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-11 16:55:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,108 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 191) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,109 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'duplica si inchioda sul buf_attrs.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'duplica si inchioda sul buf_attrs.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,110 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 319 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 319, null, left('duplica si inchioda sul buf_attrs', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('duplica si inchioda sul buf_attrs', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('duplica si inchioda sul buf_attrs', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,111 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 319 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 319, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-25 17:16:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-25 17:16:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-25 17:16:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,112 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 192) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,113 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'problema nel duplica schede.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'problema nel duplica schede.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,115 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 320 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 320, null, left('problema nel duplica schede', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('problema nel duplica schede', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('problema nel duplica schede', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,116 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 320 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 320, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 10:04:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-17 10:04:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-17 10:04:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,117 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 193) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,118 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'rivisitazione generale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'rivisitazione generale.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,119 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 321 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 321, null, left('rivisitazione generale', 150)
            , 'molina', convert(datetime, '2021-01-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-25 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione generale', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione generale', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,120 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 321 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 321, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-25 11:34:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-25 11:34:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-25 11:34:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,121 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 194) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,123 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'inserisco nel sito i codici nascosti dei N, R, AN.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'inserisco nel sito i codici nascosti dei N, R, AN.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,124 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 322 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 322, null, left('inserisco nel sito i codici nascosti dei N, R, AN', 150)
            , 'molina', convert(datetime, '2020-08-31 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', 'ora', convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-31 00:00:00', 120), dt_upd = NULL
         , title = left('inserisco nel sito i codici nascosti dei N, R, AN', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-31 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('inserisco nel sito i codici nascosti dei N, R, AN', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,125 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 322 and file_name = 'cross codici sito.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 322, 'cross codici sito.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-31 12:29:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-31 12:29:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-31 12:29:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,126 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 322 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 322, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-31 12:32:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-31 12:32:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-31 12:32:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,127 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 195) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,128 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'ml fortuna listino.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'ml fortuna listino.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:08', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,129 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 323 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 323, null, left('ml fortuna listino', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ml fortuna listino', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:08', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ml fortuna listino', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,130 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 323 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 323, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-19 11:02:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-19 11:02:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-19 11:02:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,132 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 196) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,133 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'ogni tanto il magazzino si pianta o importa male ordini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'ogni tanto il magazzino si pianta o importa male ordini.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,134 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 324 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 324, null, left('ogni tanto il magazzino si pianta o importa male ordini', 150)
            , 'molina', convert(datetime, '2020-08-26 00:00:00', 120), NULL, 1
            , 'fatto', 'alta', 'facile', 'due_ore', convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-26 00:00:00', 120), dt_upd = NULL
         , title = left('ogni tanto il magazzino si pianta o importa male ordini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'facile', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ogni tanto il magazzino si pianta o importa male ordini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,135 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 324 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 324, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-26 17:00:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-26 17:00:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-26 17:00:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,136 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 197) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,138 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'per qualche motivo son state sparate sul sito tutte le quantit.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'per qualche motivo son state sparate sul sito tutte le quantit.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,138 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 325 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 325, null, left('per qualche motivo son state sparate sul sito tutte le quantit', 150)
            , 'molina', convert(datetime, '2020-07-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-29 00:00:00', 120), dt_upd = NULL
         , title = left('per qualche motivo son state sparate sul sito tutte le quantit', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('per qualche motivo son state sparate sul sito tutte le quantit', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,140 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 325 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 325, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 11:03:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-29 11:03:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 11:03:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,141 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 325 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 325, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 10:56:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-29 10:56:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 10:56:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,142 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 198) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,143 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'prodotti';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'prodotti', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,144 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'abs189n.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'abs189n.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,146 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 327 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 327, null, left('abs189n', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('abs189n', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('abs189n', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,147 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 327 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 327, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-12 09:50:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-12 09:50:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-12 09:50:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,147 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 199) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,149 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'ABS452.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'ABS452.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,150 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 328 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 328, null, left('ABS452', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ABS452', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ABS452', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,151 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 328 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 328, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-04 15:30:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-04 15:30:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 15:30:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,152 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 200) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,153 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'aggiornamento meta xml prodotti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'aggiornamento meta xml prodotti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,154 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 329 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 329, null, left('aggiornamento meta xml prodotti', 150)
            , 'molina', convert(datetime, '2020-06-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'facile', 'ora', convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-29 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornamento meta xml prodotti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornamento meta xml prodotti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,155 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 329 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 329, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 11:22:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-29 11:22:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 11:22:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,157 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 201) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,158 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'ARC163ELSR.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'ARC163ELSR.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,159 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 330 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 330, null, left('ARC163ELSR', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ARC163ELSR', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ARC163ELSR', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,160 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 330 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 330, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 10:43:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 10:43:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 10:43:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,161 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 202) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,162 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'ARC164DLPN.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'ARC164DLPN.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,163 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 331 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 331, null, left('ARC164DLPN', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ARC164DLPN', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ARC164DLPN', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,164 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 331 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 331, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-04 15:21:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-04 15:21:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 15:21:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,165 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 203) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,167 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'body035r - lav vs.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'body035r - lav vs.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,168 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 332 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 332, null, left('body035r - lav vs', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('body035r - lav vs', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('body035r - lav vs', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,169 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 332 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 332, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-12 14:43:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-12 14:43:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-12 14:43:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,170 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 204) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,171 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'categoria in importazione articoli CA nel gestionale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'categoria in importazione articoli CA nel gestionale.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,173 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 333 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 333, null, left('categoria in importazione articoli CA nel gestionale', 150)
            , 'molina', convert(datetime, '2020-06-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-26 00:00:00', 120), dt_upd = NULL
         , title = left('categoria in importazione articoli CA nel gestionale', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('categoria in importazione articoli CA nel gestionale', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,174 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 333 and file_name = 'AL_EXPORT_ARTICOLI_DELTA.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 333, 'AL_EXPORT_ARTICOLI_DELTA.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 16:25:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 16:25:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 16:25:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,175 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 333 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 333, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 16:47:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 16:47:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 16:47:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,176 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 205) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,177 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'codici nascosti senza brand.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'codici nascosti senza brand.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,178 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 334 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 334, null, left('codici nascosti senza brand', 150)
            , 'molina', convert(datetime, '2020-09-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-14 00:00:00', 120), dt_upd = NULL
         , title = left('codici nascosti senza brand', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('codici nascosti senza brand', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,179 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 334 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 334, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-14 17:33:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-09-14 17:33:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-14 17:33:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,181 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 206) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,182 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'injb55run.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'injb55run.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,183 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 335 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 335, null, left('injb55run', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('injb55run', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('injb55run', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,184 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 335 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 335, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 09:05:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 09:05:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 09:05:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,185 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 207) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,186 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'nuova categoria EMU.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'nuova categoria EMU.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,188 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 336 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 336, null, left('nuova categoria EMU', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('nuova categoria EMU', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuova categoria EMU', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,188 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 336 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 336, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-19 10:49:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-19 10:49:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-19 10:49:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,190 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 208) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,191 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'nuova gestione scarico prodotti immagini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'nuova gestione scarico prodotti immagini.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,192 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 337 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 337, null, left('nuova gestione scarico prodotti immagini', 150)
            , 'molina', convert(datetime, '2020-09-18 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-18 00:00:00', 120), dt_upd = NULL
         , title = left('nuova gestione scarico prodotti immagini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuova gestione scarico prodotti immagini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,193 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 209) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,194 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'ottimizzazione scarico immagini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'ottimizzazione scarico immagini.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,195 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 338 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 338, null, left('ottimizzazione scarico immagini', 150)
            , 'molina', convert(datetime, '2020-09-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-23 00:00:00', 120), dt_upd = NULL
         , title = left('ottimizzazione scarico immagini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ottimizzazione scarico immagini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,196 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 338 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 338, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-23 12:40:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-09-23 12:40:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-23 12:40:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,198 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 210) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,199 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'rinomina codice dip anche sulle ricerche targa.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'rinomina codice dip anche sulle ricerche targa.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,200 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 339 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 339, null, left('rinomina codice dip anche sulle ricerche targa', 150)
            , 'molina', convert(datetime, '2020-08-11 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-11 00:00:00', 120), dt_upd = NULL
         , title = left('rinomina codice dip anche sulle ricerche targa', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-11 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rinomina codice dip anche sulle ricerche targa', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,201 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 339 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 339, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-11 18:19:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-11 18:19:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-11 18:19:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,202 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 211) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,203 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = ' capitato di avere il product_id della LISTINIPRODOTTI disallineato.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, ' capitato di avere il product_id della LISTINIPRODOTTI disallineato.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,204 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 340 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 340, null, left(' capitato di avere il product_id della LISTINIPRODOTTI disallineato', 150)
            , 'molina', convert(datetime, '2020-07-20 00:00:00', 120), NULL, 1
            , NULL, NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-20 00:00:00', 120), dt_upd = NULL
         , title = left(' capitato di avere il product_id della LISTINIPRODOTTI disallineato', 150), [user] = 'molina'
         , stato = NULL, priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-20 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull(' capitato di avere il product_id della LISTINIPRODOTTI disallineato', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull(NULL, '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,206 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 212) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,207 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'scheduler';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'scheduler', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,208 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 341 
        and folder_name = 'invio mail cambio listini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 341, 'invio mail cambio listini.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,209 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 342 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 342, null, left('invio mail cambio listini', 150)
            , 'molina', convert(datetime, '2020-11-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-23 00:00:00', 120), dt_upd = NULL
         , title = left('invio mail cambio listini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('invio mail cambio listini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,210 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 342 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 342, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-23 11:43:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-11-23 11:43:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-23 11:43:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,211 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 213) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,212 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 341 
        and folder_name = 'ottimizzare e gestire meglio errori scheduler .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 341, 'ottimizzare e gestire meglio errori scheduler .task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,213 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 343 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 343, null, left('ottimizzare e gestire meglio errori scheduler ', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ottimizzare e gestire meglio errori scheduler ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ottimizzare e gestire meglio errori scheduler ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,214 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 343 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 343, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-11 11:03:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-11-11 11:03:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-11 11:03:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,216 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 343 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 343, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,217 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 214) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,218 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'sito web';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'sito web', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,219 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 344 
        and folder_name = 'aggiornamento intelligente meta_description.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 344, 'aggiornamento intelligente meta_description.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,220 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 345 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 345, null, left('aggiornamento intelligente meta_description', 150)
            , 'molina', convert(datetime, '2020-10-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-29 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornamento intelligente meta_description', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornamento intelligente meta_description', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,221 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 345 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 345, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-29 17:01:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-29 17:01:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-29 17:01:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,223 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 215) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,224 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 344 
        and folder_name = 'aggiornamento macchine.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 344, 'aggiornamento macchine.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,225 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 346 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 346, null, left('aggiornamento macchine', 150)
            , 'molina', convert(datetime, '2020-10-22 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-22 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornamento macchine', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-22 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornamento macchine', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,226 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 346 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 346, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-22 12:24:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-22 12:24:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-22 12:24:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,228 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 216) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,229 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 344 
        and folder_name = 'disponibilit sul sito non allineata.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 344, 'disponibilit sul sito non allineata.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,231 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 347 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 347, null, left('disponibilit sul sito non allineata', 150)
            , 'molina', convert(datetime, '2020-07-27 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-27 00:00:00', 120), dt_upd = NULL
         , title = left('disponibilit sul sito non allineata', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('disponibilit sul sito non allineata', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,232 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 347 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 347, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 09:04:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-28 09:04:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 09:04:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,233 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 347 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 347, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-27 18:04:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-27 18:04:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 18:04:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,234 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 217) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,236 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 344 
        and folder_name = 'esecuzione proc_day bloccata.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 344, 'esecuzione proc_day bloccata.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,237 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 348 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 348, null, left('esecuzione proc_day bloccata', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', 'alta', 'controllo', NULL, convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('esecuzione proc_day bloccata', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('esecuzione proc_day bloccata', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,238 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 348 and file_name = 'esecuzione proc_day bloccata.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 348, 'esecuzione proc_day bloccata.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 09:18:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-28 09:18:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 09:18:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,239 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 348 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 348, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 09:21:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-28 09:21:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 09:21:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,240 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 218) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,241 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 344 
        and folder_name = 'non si aggiornano correttamente prezzo e metas.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 344, 'non si aggiornano correttamente prezzo e metas.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,243 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 349 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 349, null, left('non si aggiornano correttamente prezzo e metas', 150)
            , 'molina', convert(datetime, '2020-10-13 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-13 00:00:00', 120), dt_upd = NULL
         , title = left('non si aggiornano correttamente prezzo e metas', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-13 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('non si aggiornano correttamente prezzo e metas', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,244 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 349 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 349, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-13 16:04:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-13 16:04:08', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-13 16:04:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,245 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 219) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,246 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 344 
        and folder_name = 'ogni tanto il buffer si inchioda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 344, 'ogni tanto il buffer si inchioda.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,247 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 350 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 350, null, left('ogni tanto il buffer si inchioda', 150)
            , 'molina', convert(datetime, '2020-08-11 00:00:00', 120), NULL, 1
            , 'fatto', 'altissima', 'fix', NULL, convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-11 00:00:00', 120), dt_upd = NULL
         , title = left('ogni tanto il buffer si inchioda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'altissima'
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-11 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ogni tanto il buffer si inchioda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('altissima', '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,248 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 350 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 350, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-17 08:40:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-17 08:40:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-17 08:40:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,249 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 220) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,250 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'timeout - dipa scripts crm e recalc ordini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'timeout - dipa scripts crm e recalc ordini.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,252 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 351 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 351, null, left('timeout - dipa scripts crm e recalc ordini', 150)
            , 'molina', convert(datetime, '2020-07-27 00:00:00', 120), NULL, 1
            , 'fatto', 'alta', 'controllo', NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-27 00:00:00', 120), dt_upd = NULL
         , title = left('timeout - dipa scripts crm e recalc ordini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('timeout - dipa scripts crm e recalc ordini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,253 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 351 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 351, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 08:59:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-29 08:59:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 08:59:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,254 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 351 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 351, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-27 11:02:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-27 11:02:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 11:02:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,255 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 221) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,256 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'sistema';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'sistema', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,257 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 352 
        and folder_name = 'login applicazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 352, 'login applicazioni.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,258 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 353 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 353, null, left('login applicazioni', 150)
            , 'molina', convert(datetime, '2020-10-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-09 00:00:00', 120), dt_upd = NULL
         , title = left('login applicazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('login applicazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,259 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 353 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 353, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-09 17:32:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-09 17:32:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-09 17:32:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,260 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 222) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,261 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 352 
        and folder_name = 'nuova tabella LOG_SCHEDULER.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 352, 'nuova tabella LOG_SCHEDULER.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,263 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 354 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 354, null, left('nuova tabella LOG_SCHEDULER', 150)
            , 'molina', convert(datetime, '2020-07-31 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-31 00:00:00', 120), dt_upd = NULL
         , title = left('nuova tabella LOG_SCHEDULER', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-31 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuova tabella LOG_SCHEDULER', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,264 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 354 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 354, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 16:54:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-31 16:54:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-31 16:54:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,265 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 354 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 354, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 12:33:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-31 12:33:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-31 12:33:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,267 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 223) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,268 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 352 
        and folder_name = 'via tutte le tabelle e procedure ZZ_.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 352, 'via tutte le tabelle e procedure ZZ_.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,269 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 355 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 355, null, left('via tutte le tabelle e procedure ZZ_', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('via tutte le tabelle e procedure ZZ_', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('via tutte le tabelle e procedure ZZ_', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,270 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 224) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,271 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'sito web';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'sito web', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,272 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'aggiunta campo collo,bancale ritiro.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'aggiunta campo collo,bancale ritiro.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:08', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,273 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 357 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 357, null, left('aggiunta campo collo,bancale ritiro', 150)
            , 'molina', convert(datetime, '2021-01-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-15 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta campo collo,bancale ritiro', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:08', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta campo collo,bancale ritiro', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,274 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 357 and file_name = '1.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 357, '1.png', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-18 11:06:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-18 11:06:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-18 11:06:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,276 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 357 and file_name = '2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 357, '2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-18 11:06:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-18 11:06:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-18 11:06:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,277 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 357 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 357, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 18:19:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 18:19:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 18:19:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,278 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 225) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,279 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'carrello lavorazioni SINTRA.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'carrello lavorazioni SINTRA.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,280 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 358 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 358, null, left('carrello lavorazioni SINTRA', 150)
            , 'molina', convert(datetime, '2020-08-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_giorni', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-21 00:00:00', 120), dt_upd = NULL
         , title = left('carrello lavorazioni SINTRA', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('carrello lavorazioni SINTRA', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,281 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 358 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 358, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 12:03:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-21 12:03:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-21 12:03:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,282 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 358 and file_name = 'LAVS_IMPORT_SINTRA.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 358, 'LAVS_IMPORT_SINTRA.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 12:10:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-21 12:10:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-21 12:10:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,283 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 358 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 358, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 12:19:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-21 12:19:53', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-21 12:19:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,284 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 226) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,285 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'check utente ceabdue@libero.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'check utente ceabdue@libero.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,286 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 359 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 359, null, left('check utente ceabdue@libero', 150)
            , 'molina', convert(datetime, '2020-07-07 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:39:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-07 00:00:00', 120), dt_upd = NULL
         , title = left('check utente ceabdue@libero', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-07 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('check utente ceabdue@libero', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,287 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 227) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,288 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'fatturati e premi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'fatturati e premi.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,290 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 360 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 360, null, left('fatturati e premi', 150)
            , 'molina', convert(datetime, '2020-12-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'settimana', convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-12-14 00:00:00', 120), dt_upd = NULL
         , title = left('fatturati e premi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'settimana', dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-12-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('fatturati e premi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('settimana', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,291 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 360 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 360, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-19 09:22:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-19 09:22:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-19 09:22:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,292 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 228) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,294 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'listino da scaricare per i clienti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'listino da scaricare per i clienti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,295 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 361 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 361, null, left('listino da scaricare per i clienti', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('listino da scaricare per i clienti', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('listino da scaricare per i clienti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,296 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 229) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,297 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'pagina php targhe.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'pagina php targhe.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:08', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,298 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 362 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 362, null, left('pagina php targhe', 150)
            , 'molina', convert(datetime, '2021-01-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-15 00:00:00', 120), dt_upd = NULL
         , title = left('pagina php targhe', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:08', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('pagina php targhe', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,299 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 362 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 362, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 11:21:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 11:21:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 11:21:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,300 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 362 and file_name = 'rt.bat';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 362, 'rt.bat', '.bat', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 11:22:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 11:22:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 11:22:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,301 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 230) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,302 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'pagine interne';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'pagine interne', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,303 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 363 
        and folder_name = '3a autoricambi snc appare due volte nella lista clienti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 363, '3a autoricambi snc appare due volte nella lista clienti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,305 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 364 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 364, null, left('3a autoricambi snc appare due volte nella lista clienti', 150)
            , 'molina', convert(datetime, '2020-07-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-09 00:00:00', 120), dt_upd = NULL
         , title = left('3a autoricambi snc appare due volte nella lista clienti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('3a autoricambi snc appare due volte nella lista clienti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,306 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 231) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,307 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 363 
        and folder_name = 'assegnazione agente cliente.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 363, 'assegnazione agente cliente.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,308 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 365 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 365, null, left('assegnazione agente cliente', 150)
            , 'molina', convert(datetime, '2020-10-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-30 00:00:00', 120), dt_upd = NULL
         , title = left('assegnazione agente cliente', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('assegnazione agente cliente', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,309 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 365 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 365, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-30 14:35:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-30 14:35:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-30 14:35:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,310 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 232) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,311 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 363 
        and folder_name = 'controllo associazione clienti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 363, 'controllo associazione clienti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,312 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 366 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 366, null, left('controllo associazione clienti', 150)
            , 'molina', convert(datetime, '2020-09-11 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'ora', convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-11 00:00:00', 120), dt_upd = NULL
         , title = left('controllo associazione clienti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-11 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('controllo associazione clienti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,314 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 366 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 366, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-11 17:45:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-09-11 17:45:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-11 17:45:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,315 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 233) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,316 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 363 
        and folder_name = 'rinfrescata pagina prodotti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 363, 'rinfrescata pagina prodotti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,317 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 367 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 367, null, left('rinfrescata pagina prodotti', 150)
            , 'molina', convert(datetime, '2020-11-03 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-03 00:00:00', 120), dt_upd = NULL
         , title = left('rinfrescata pagina prodotti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-03 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rinfrescata pagina prodotti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,318 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 367 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 367, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-03 12:01:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-11-03 12:01:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-03 12:01:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,320 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 234) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,321 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 363 
        and folder_name = 'storico assegnazione agenti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 363, 'storico assegnazione agenti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,322 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 368 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 368, null, left('storico assegnazione agenti', 150)
            , 'molina', convert(datetime, '2020-10-22 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-22 00:00:00', 120), dt_upd = NULL
         , title = left('storico assegnazione agenti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-22 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('storico assegnazione agenti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,323 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 368 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 368, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-22 10:13:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-22 10:13:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-22 10:13:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,324 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 235) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,325 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'premi cliente.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'premi cliente.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:08', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,326 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 369 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 369, null, left('premi cliente', 150)
            , 'molina', convert(datetime, '2021-01-14 00:00:00', 120), NULL, 1
            , 'fatto', 'alta', 'aggiunta', 'tre_giorni', convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-14 00:00:00', 120), dt_upd = NULL
         , title = left('premi cliente', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'aggiunta', stima = 'tre_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:08', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('premi cliente', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('tre_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,327 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 369 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 369, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-22 10:02:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-22 10:02:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-22 10:02:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,329 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 236) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,330 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'ricerche targa';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'ricerche targa', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,331 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 370 
        and folder_name = 'cancellazione virtuale ricerche.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 370, 'cancellazione virtuale ricerche.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,332 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 371 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 371, null, left('cancellazione virtuale ricerche', 150)
            , 'molina', convert(datetime, '2020-09-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-30 00:00:00', 120), dt_upd = NULL
         , title = left('cancellazione virtuale ricerche', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('cancellazione virtuale ricerche', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,333 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 371 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 371, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-30 18:14:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-09-30 18:14:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-30 18:14:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,334 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 237) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,335 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'upload documenti alyante.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'upload documenti alyante.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,337 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 372 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 372, null, left('upload documenti alyante', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', 'alta', 'aggiunta', 'tre_giorni', convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('upload documenti alyante', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = 'alta'
         , tipo = 'aggiunta', stima = 'tre_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('upload documenti alyante', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('tre_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,338 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 238) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,339 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'upload documenti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'upload documenti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,340 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 373 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 373, null, left('upload documenti', 150)
            , 'molina', convert(datetime, '2021-02-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'tre_giorni', convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-02-23 00:00:00', 120), dt_upd = NULL
         , title = left('upload documenti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'tre_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-02-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('upload documenti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('tre_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,341 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 373 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 373, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-26 17:27:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-02-26 17:27:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-26 17:27:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,342 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 373 and file_name = 'synch docs.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 373, 'synch docs.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-26 17:27:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-02-26 17:27:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-26 17:27:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,343 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 239) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,344 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'spedizioni corrieri';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'spedizioni corrieri', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,345 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'bartolini';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'bartolini', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,346 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 375 
        and folder_name = 'Implementare i tracking number BRT.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 375, 'Implementare i tracking number BRT.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,347 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 376 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 376, null, left('Implementare i tracking number BRT', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('Implementare i tracking number BRT', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:11', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('Implementare i tracking number BRT', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,348 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 376 and file_name = 'R Tracking BRT.msg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 376, 'R Tracking BRT.msg', '.msg', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 08:36:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-17 08:36:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-17 08:36:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,350 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 376 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 376, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-18 17:55:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-18 17:55:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-18 17:55:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,351 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 240) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,352 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 375 
        and folder_name = 'tre ordini bartolini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 375, 'tre ordini bartolini.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,353 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 377 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 377, null, left('tre ordini bartolini', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('tre ordini bartolini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:11', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('tre ordini bartolini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,354 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 377 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 377, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-11 09:23:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-11 09:23:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-11 09:23:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,355 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 241) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,356 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'cambio dei cap in lombardia.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'cambio dei cap in lombardia.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:59', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,358 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 378 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 378, null, left('cambio dei cap in lombardia', 150)
            , 'molina', convert(datetime, '2020-07-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:39:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-28 00:00:00', 120), dt_upd = NULL
         , title = left('cambio dei cap in lombardia', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:59', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('cambio dei cap in lombardia', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,359 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 378 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 378, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 17:29:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-28 17:29:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 17:29:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,360 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 378 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 378, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 08:32:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-29 08:32:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 08:32:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,361 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 242) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,362 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'check resi no rip spedizioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'check resi no rip spedizioni.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,364 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 379 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 379, null, left('check resi no rip spedizioni', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('check resi no rip spedizioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:11', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('check resi no rip spedizioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,365 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 379 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 379, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-02 11:04:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-02 11:04:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 11:04:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,366 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 243) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,367 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'chiusura corrieri a volte rimangono dei WAIT.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'chiusura corrieri a volte rimangono dei WAIT.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,369 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 380 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 380, null, left('chiusura corrieri a volte rimangono dei WAIT', 150)
            , 'molina', convert(datetime, '2020-07-31 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-31 00:00:00', 120), dt_upd = NULL
         , title = left('chiusura corrieri a volte rimangono dei WAIT', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-31 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('chiusura corrieri a volte rimangono dei WAIT', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,369 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 380 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 380, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 10:54:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-31 10:54:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-31 10:54:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,370 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 244) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,372 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'controlli spedizioni EDP.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'controlli spedizioni EDP.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,373 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 381 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 381, null, left('controlli spedizioni EDP', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('controlli spedizioni EDP', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:11', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('controlli spedizioni EDP', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,374 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 381 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 381, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-18 10:08:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-18 10:08:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-18 10:08:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,376 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 245) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,378 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'corriere ctl domandina.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'corriere ctl domandina.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,379 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 382 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 382, null, left('corriere ctl domandina', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('corriere ctl domandina', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('corriere ctl domandina', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,380 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 382 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 382, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-11 15:20:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-11 15:20:37', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-11 15:20:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,380 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 246) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,381 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'corrieri.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'corrieri.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,383 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 383 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 383, null, left('corrieri', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('corrieri', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('corrieri', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,384 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 383 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 383, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 09:34:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 09:34:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 09:34:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,385 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 247) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,386 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'da un orario in poi cambio di corriere.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'da un orario in poi cambio di corriere.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,388 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 384 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 384, null, left('da un orario in poi cambio di corriere', 150)
            , 'molina', convert(datetime, '2020-06-23 00:00:00', 120), NULL, 1
            , 'fatto', 'alta', 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:39:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-23 00:00:00', 120), dt_upd = NULL
         , title = left('da un orario in poi cambio di corriere', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('da un orario in poi cambio di corriere', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,389 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 384 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 384, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-23 16:31:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-23 16:31:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-23 16:31:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,390 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 248) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,391 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'gestione porto L.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'gestione porto L.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,392 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 385 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 385, null, left('gestione porto L', 150)
            , 'molina', convert(datetime, '2021-01-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-15 00:00:00', 120), dt_upd = NULL
         , title = left('gestione porto L', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione porto L', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,393 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 385 and file_name = '1.PNG';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 385, '1.PNG', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:04:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 16:04:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 16:04:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,394 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 385 and file_name = '2.PNG';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 385, '2.PNG', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:04:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 16:04:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 16:04:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,395 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 385 and file_name = '3.PNG';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 385, '3.PNG', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:04:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 16:04:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 16:04:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,396 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 385 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 385, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:04:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 16:04:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 16:04:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,398 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 385 and file_name = 'porto L.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 385, 'porto L.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:41:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 16:41:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 16:41:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,399 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 249) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,400 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'i resi no rip non devono andare in multicollo.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'i resi no rip non devono andare in multicollo.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,401 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 386 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 386, null, left('i resi no rip non devono andare in multicollo', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('i resi no rip non devono andare in multicollo', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('i resi no rip non devono andare in multicollo', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,402 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 386 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 386, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-02 10:22:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-02 10:22:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 10:22:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,404 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 250) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,405 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'indirizzi senza provincia.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'indirizzi senza provincia.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,406 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 387 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 387, null, left('indirizzi senza provincia', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('indirizzi senza provincia', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('indirizzi senza provincia', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,407 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 387 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 387, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-24 08:43:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-24 08:43:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-24 08:43:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,408 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 251) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,409 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'indirizzo spedizione bazzolo.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'indirizzo spedizione bazzolo.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,410 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 388 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 388, null, left('indirizzo spedizione bazzolo', 150)
            , 'molina', convert(datetime, '2020-07-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-29 00:00:00', 120), dt_upd = NULL
         , title = left('indirizzo spedizione bazzolo', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('indirizzo spedizione bazzolo', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,411 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 388 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 388, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 15:42:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-29 15:42:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 15:42:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,413 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 388 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 388, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 15:36:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-29 15:36:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 15:36:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,414 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 252) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,415 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'mail di riepilogo spedizioni per ECOMMERCEPARTS .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'mail di riepilogo spedizioni per ECOMMERCEPARTS .task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,416 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 389 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 389, null, left('mail di riepilogo spedizioni per ECOMMERCEPARTS ', 150)
            , 'molina', convert(datetime, '2020-07-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', NULL, convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-30 00:00:00', 120), dt_upd = NULL
         , title = left('mail di riepilogo spedizioni per ECOMMERCEPARTS ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('mail di riepilogo spedizioni per ECOMMERCEPARTS ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,417 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 389 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 389, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-30 15:41:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-30 15:41:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 15:41:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,418 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 389 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 389, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 12:33:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-31 12:33:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-31 12:33:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,419 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 253) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,420 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'margine su tutti i corrieri.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'margine su tutti i corrieri.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,422 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 390 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 390, null, left('margine su tutti i corrieri', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('margine su tutti i corrieri', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('margine su tutti i corrieri', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,423 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 390 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 390, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-29 10:33:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-29 10:33:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-29 10:33:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,424 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 254) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,425 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'NO e VB mettere il corriere da EPD a CTL.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'NO e VB mettere il corriere da EPD a CTL.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,426 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 391 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 391, null, left('NO e VB mettere il corriere da EPD a CTL', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('NO e VB mettere il corriere da EPD a CTL', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('NO e VB mettere il corriere da EPD a CTL', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,428 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 391 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 391, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 09:58:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 09:58:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 09:58:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,429 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 255) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,430 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'risolvi errori.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'risolvi errori.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,431 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 392 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 392, null, left('risolvi errori', 150)
            , 'molina', convert(datetime, '2020-10-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-08 00:00:00', 120), dt_upd = NULL
         , title = left('risolvi errori', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('risolvi errori', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,432 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 392 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 392, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-08 15:58:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-08 15:58:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-08 15:58:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,433 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 256) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,435 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'spedizioni da annullare e rifare.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'spedizioni da annullare e rifare.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,436 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 393 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 393, null, left('spedizioni da annullare e rifare', 150)
            , 'molina', convert(datetime, '2020-07-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-30 00:00:00', 120), dt_upd = NULL
         , title = left('spedizioni da annullare e rifare', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('spedizioni da annullare e rifare', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,437 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 393 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 393, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-30 14:53:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-30 14:53:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 14:53:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,438 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 257) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,439 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'stampa bolle di pi pagine.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'stampa bolle di pi pagine.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,441 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 394 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 394, null, left('stampa bolle di pi pagine', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('stampa bolle di pi pagine', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('stampa bolle di pi pagine', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,442 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 394 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 394, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-12 18:24:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-12 18:24:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-12 18:24:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,444 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 258) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,445 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'statistiche';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'statistiche', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,446 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'aggiornamento mail venduto del giorno.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'aggiornamento mail venduto del giorno.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,447 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 396 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 396, null, left('aggiornamento mail venduto del giorno', 150)
            , 'molina', convert(datetime, '2020-10-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezza', convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-23 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornamento mail venduto del giorno', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:14', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornamento mail venduto del giorno', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,448 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 396 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 396, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-23 16:23:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-23 16:23:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-23 16:23:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,449 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 259) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,450 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'aggiunta colonne fatturato.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'aggiunta colonne fatturato.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,451 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 397 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 397, null, left('aggiunta colonne fatturato', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, 'mezza', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta colonne fatturato', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta colonne fatturato', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,452 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 397 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 397, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 11:12:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-21 11:12:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-21 11:12:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,453 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 397 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 397, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 08:34:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-21 08:34:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-21 08:34:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,455 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 260) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,456 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'carcasse mail riepilogo vendite.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'carcasse mail riepilogo vendite.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,457 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 398 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 398, null, left('carcasse mail riepilogo vendite', 150)
            , 'molina', convert(datetime, '2021-01-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-25 00:00:00', 120), dt_upd = NULL
         , title = left('carcasse mail riepilogo vendite', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:14', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('carcasse mail riepilogo vendite', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,458 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 398 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 398, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-26 14:18:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-26 14:18:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-26 14:18:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,459 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 261) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,460 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'col019r non appare dopo il riordino dei pezzi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'col019r non appare dopo il riordino dei pezzi.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,461 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 399 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 399, null, left('col019r non appare dopo il riordino dei pezzi', 150)
            , 'molina', convert(datetime, '2020-08-18 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-18 00:00:00', 120), dt_upd = NULL
         , title = left('col019r non appare dopo il riordino dei pezzi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('col019r non appare dopo il riordino dei pezzi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,462 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 399 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 399, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 12:16:44', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-18 12:16:44', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 12:16:44', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,463 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 262) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,464 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'considerare le spese nella mail vendite.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'considerare le spese nella mail vendite.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,466 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 400 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 400, null, left('considerare le spese nella mail vendite', 150)
            , 'molina', convert(datetime, '2020-08-12 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', NULL, convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-12 00:00:00', 120), dt_upd = NULL
         , title = left('considerare le spese nella mail vendite', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-12 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('considerare le spese nella mail vendite', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,467 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 400 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 400, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 14:21:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-13 14:21:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-13 14:21:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,468 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 400 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 400, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 14:16:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-13 14:16:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-13 14:16:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,469 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 263) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,470 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'fatturati manager non vanno per codice dipa.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'fatturati manager non vanno per codice dipa.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,471 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 401 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 401, null, left('fatturati manager non vanno per codice dipa', 150)
            , 'molina', convert(datetime, '2020-08-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezzora', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-25 00:00:00', 120), dt_upd = NULL
         , title = left('fatturati manager non vanno per codice dipa', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('fatturati manager non vanno per codice dipa', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,472 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 264) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,473 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'fatturato manager - rivisitazione.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'fatturato manager - rivisitazione.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,475 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 402 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 402, null, left('fatturato manager - rivisitazione', 150)
            , 'molina', convert(datetime, '2020-08-12 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_giorni', convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-12 00:00:00', 120), dt_upd = NULL
         , title = left('fatturato manager - rivisitazione', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-12 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('fatturato manager - rivisitazione', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,476 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 402 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 402, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 12:21:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-18 12:21:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 12:21:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,477 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 265) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,478 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'grafico a torta.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'grafico a torta.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,479 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 403 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 403, null, left('grafico a torta', 150)
            , 'molina', convert(datetime, '2020-08-18 00:00:00', 120), NULL, 1
            , 'sospeso', NULL, 'aggiunta', 'tre_giorni', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-18 00:00:00', 120), dt_upd = NULL
         , title = left('grafico a torta', 150), [user] = 'molina'
         , stato = 'sospeso', priorita = NULL
         , tipo = 'aggiunta', stima = 'tre_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('grafico a torta', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('sospeso', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('tre_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,481 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 403 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 403, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-19 09:07:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-19 09:07:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 09:07:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,482 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 403 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 403, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-29 15:57:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-29 15:57:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:57:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,483 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 266) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,484 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'i codici MIX non sono inclusi nel fatturato.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'i codici MIX non sono inclusi nel fatturato.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,485 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 404 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 404, null, left('i codici MIX non sono inclusi nel fatturato', 150)
            , 'molina', convert(datetime, '2020-08-12 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-12 00:00:00', 120), dt_upd = NULL
         , title = left('i codici MIX non sono inclusi nel fatturato', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-12 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('i codici MIX non sono inclusi nel fatturato', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,486 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 404 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 404, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 15:08:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-13 15:08:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-13 15:08:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,487 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 404 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 404, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 17:34:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-13 17:34:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-13 17:34:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,488 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 267) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,489 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'personale - vendite - categorie.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'personale - vendite - categorie.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:59', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,490 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 405 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 405, null, left('personale - vendite - categorie', 150)
            , 'molina', convert(datetime, '2020-08-10 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:39:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-10 00:00:00', 120), dt_upd = NULL
         , title = left('personale - vendite - categorie', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:39:59', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-10 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('personale - vendite - categorie', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,491 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 405 and file_name = 'calcolo_media.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 405, 'calcolo_media.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-12 09:51:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-12 09:51:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-12 09:51:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,493 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 405 and file_name = 'fatturati.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 405, 'fatturati.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-14 15:30:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-14 15:30:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-14 15:30:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,494 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 405 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 405, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-12 11:38:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-12 11:38:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-12 11:38:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,495 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 405 and file_name = 'personale.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 405, 'personale.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-10 10:34:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-10 10:34:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-10 10:34:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,496 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 405 and file_name = 'personale.xlsx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 405, 'personale.xlsx', '.xlsx', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-12 10:59:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-12 10:59:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-12 10:59:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,497 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 405 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 405, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-11 16:39:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-11 16:39:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-11 16:39:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,498 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 268) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,499 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'report categorie magazzino da chiudere.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'report categorie magazzino da chiudere.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,500 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 406 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 406, null, left('report categorie magazzino da chiudere', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('report categorie magazzino da chiudere', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('report categorie magazzino da chiudere', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,501 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 406 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 406, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-19 16:16:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-19 16:16:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 16:16:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,502 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 269) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,503 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'revisione mail venduto.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'revisione mail venduto.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,505 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 407 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 407, null, left('revisione mail venduto', 150)
            , 'molina', convert(datetime, '2020-10-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-15 00:00:00', 120), dt_upd = NULL
         , title = left('revisione mail venduto', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione mail venduto', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,505 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 407 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 407, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-19 10:15:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-19 10:15:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-19 10:15:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,507 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 270) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,508 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'riepilogo e somme spese finali sulla mail del venduto.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'riepilogo e somme spese finali sulla mail del venduto.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,509 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 408 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 408, null, left('riepilogo e somme spese finali sulla mail del venduto', 150)
            , 'molina', convert(datetime, '2020-08-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-14 00:00:00', 120), dt_upd = NULL
         , title = left('riepilogo e somme spese finali sulla mail del venduto', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('riepilogo e somme spese finali sulla mail del venduto', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,510 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 408 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 408, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-14 17:47:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-14 17:47:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-14 17:47:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,511 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 271) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,512 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'rimanenze di magazzino nei fatturati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'rimanenze di magazzino nei fatturati.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,513 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 409 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 409, null, left('rimanenze di magazzino nei fatturati', 150)
            , 'molina', convert(datetime, '2020-08-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'ora', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-26 00:00:00', 120), dt_upd = NULL
         , title = left('rimanenze di magazzino nei fatturati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rimanenze di magazzino nei fatturati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,514 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 409 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 409, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-26 14:26:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-26 14:26:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-26 14:26:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,515 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 272) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,517 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'segnalazione prodotti invenduti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'segnalazione prodotti invenduti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,518 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 410 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 410, null, left('segnalazione prodotti invenduti', 150)
            , 'molina', convert(datetime, '2020-08-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'ora', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-25 00:00:00', 120), dt_upd = NULL
         , title = left('segnalazione prodotti invenduti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('segnalazione prodotti invenduti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,519 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 410 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 410, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-26 16:42:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-26 16:42:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-26 16:42:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,521 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 410 and file_name = 'prodotti invenduti.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 410, 'prodotti invenduti.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-25 12:22:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-25 12:22:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-25 12:22:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,522 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 273) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,523 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'sistemata mail venduto.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'sistemata mail venduto.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,524 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 411 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 411, null, left('sistemata mail venduto', 150)
            , 'molina', convert(datetime, '2020-10-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-09 00:00:00', 120), dt_upd = NULL
         , title = left('sistemata mail venduto', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('sistemata mail venduto', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,525 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 411 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 411, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-09 12:38:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-09 12:38:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-09 12:38:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,526 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 274) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,527 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'statistiche articoli duplicati fornitori.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'statistiche articoli duplicati fornitori.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,528 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 412 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 412, null, left('statistiche articoli duplicati fornitori', 150)
            , 'molina', convert(datetime, '2020-10-02 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-02 00:00:00', 120), dt_upd = NULL
         , title = left('statistiche articoli duplicati fornitori', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('statistiche articoli duplicati fornitori', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,529 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 412 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 412, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-05 09:39:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-05 09:39:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-05 09:39:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,530 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 412 and file_name = 'task.statistiche schede duplicate.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 412, 'task.statistiche schede duplicate.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-05 09:38:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-05 09:38:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-05 09:38:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,531 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 275) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,532 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'statistiche ricerca codici.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'statistiche ricerca codici.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,534 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 413 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 413, null, left('statistiche ricerca codici', 150)
            , 'molina', convert(datetime, '2021-02-02 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'giornata', convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-02-02 00:00:00', 120), dt_upd = NULL
         , title = left('statistiche ricerca codici', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:45:14', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-02-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('statistiche ricerca codici', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,535 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 413 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 413, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-02-02 10:34:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-02 10:34:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,536 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 413 and file_name = 'my-search.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 413, 'my-search.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-02-02 10:34:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-02 10:34:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,537 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 413 and file_name = 'search-procs.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 413, 'search-procs.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-02-02 10:34:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-02 10:34:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,538 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 413 and file_name = 'search.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 413, 'search.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-02-02 10:34:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-02 10:34:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,540 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 276) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,541 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'suffissi SN non gestiti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'suffissi SN non gestiti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,542 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 414 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 414, null, left('suffissi SN non gestiti', 150)
            , 'molina', convert(datetime, '2020-07-02 00:00:00', 120), NULL, 1
            , 'fatto', 'alta', 'fix', NULL, convert(datetime, '2021-03-02 22:39:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-02 00:00:00', 120), dt_upd = NULL
         , title = left('suffissi SN non gestiti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('suffissi SN non gestiti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,543 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 414 and file_name = 'sn.jpg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 414, 'sn.jpg', '.jpg', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-02 08:34:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-02 08:34:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 08:34:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,544 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 414 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 414, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-09 15:27:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-09 15:27:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-09 15:27:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,546 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 414 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 414, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-08 10:16:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-08 10:16:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-08 10:16:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,547 [41] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 414 and file_name = 'vendite.html';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 414, 'vendite.html', '.html', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-01 19:32:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-01 19:32:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-01 19:32:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:01,548 [41] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 277) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:01,549 [41] DEBUG dn_lib.tools.log - SQL: declare @cc_files int; declare @cc_folders int;
      select @cc_files = (select count(*) from dn_files where readed is null) 
      select @cc_folders = (select count(*) from dn_folders where readed is null)
      
      delete from dn_folders where readed is null;
      delete from dn_files where readed is null;
      delete fc from dn_files_contents fc
       where not exists (select top 1 1 from dn_files where file_id = fc.file_id);
      delete from dn_tasks where readed is null;
      delete tn from dn_tasks_notes tn
       where not exists (select top 1 1 from dn_tasks where task_id = tn.task_id);
      select @cc_files, @cc_folders;
2021-03-07 18:27:01,558 [41] DEBUG dn_lib.tools.log - SQL: if not exists (select top 1 1 from users_cache where [user_id] = -1 and var_name = 'synch-files')
        insert into users_cache ([user_id], var_name, var_value)
          values (-1, 'synch-files', '1028')
        else update users_cache set var_value = substring('1028', 1, 500), dt_upd = getdate()
          where [user_id] = -1 and var_name = 'synch-files'
2021-03-07 18:27:01,559 [41] DEBUG dn_lib.tools.log - SQL: if not exists (select top 1 1 from users_cache where [user_id] = -1 and var_name = 'synch-folders')
        insert into users_cache ([user_id], var_name, var_value)
          values (-1, 'synch-folders', '413')
        else update users_cache set var_value = substring('413', 1, 500), dt_upd = getdate()
          where [user_id] = -1 and var_name = 'synch-folders'
2021-03-07 18:27:01,560 [41] DEBUG dn_lib.tools.log - SQL: if not exists (select top 1 1 from users_cache where [user_id] = -1 and var_name = 'synch-lwt')
        insert into users_cache ([user_id], var_name, var_value)
          values (-1, 'synch-lwt', '2021/03/06 18:32:22')
        else update users_cache set var_value = substring('2021/03/06 18:32:22', 1, 500), dt_upd = getdate()
          where [user_id] = -1 and var_name = 'synch-lwt'
2021-03-07 18:27:01,562 [41] DEBUG dn_lib.tools.log - SQL: if not exists (select top 1 1 from users_cache where [user_id] = -1 and var_name = 'synch-last')
        insert into users_cache ([user_id], var_name, var_value)
          values (-1, 'synch-last', '2021/03/07 18:27:01')
        else update users_cache set var_value = substring('2021/03/07 18:27:01', 1, 500), dt_upd = getdate()
          where [user_id] = -1 and var_name = 'synch-last'
2021-03-07 18:27:05,919 [52] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:27:05,920 [52] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:05,921 [52] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:05,922 [52] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:05,923 [52] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:05,924 [52] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:05,925 [52] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:05,926 [52] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:05,926 [52] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:05,927 [52] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:05,927 [52] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:05,927 [52] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:05,928 [52] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:05,928 [52] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:05,928 [52] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:05,929 [52] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:05,929 [52] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:05,930 [52] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:05,930 [52] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:05,931 [52] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:05,931 [52] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:05,931 [52] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:05,932 [52] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:05,932 [52] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:05,932 [52] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:05,933 [52] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:27:05,965 [46] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:27:05,966 [46] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:05,967 [46] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:05,968 [46] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:05,968 [46] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:05,969 [46] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:05,970 [46] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:05,971 [46] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:05,972 [46] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:05,972 [46] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:05,973 [46] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:05,973 [46] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:05,975 [46] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:05,976 [46] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:05,976 [46] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:05,977 [46] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:05,977 [46] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:05,978 [46] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:05,978 [46] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:05,979 [46] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:05,979 [46] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:05,980 [46] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:05,980 [46] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:05,981 [46] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:05,981 [46] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:05,982 [46] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:27:05,992 [32] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:27:05,993 [32] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:05,993 [32] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:05,994 [32] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:05,994 [32] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:05,995 [32] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:05,995 [32] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:05,996 [32] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:05,996 [32] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:05,997 [32] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:05,997 [32] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:05,997 [32] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:05,998 [32] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:05,998 [32] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:05,998 [32] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:05,999 [32] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:05,999 [32] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:06,000 [32] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:06,000 [32] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:06,000 [32] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:06,002 [32] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:06,002 [32] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:06,003 [32] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:06,003 [32] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:06,003 [32] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:06,004 [32] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:27:06,011 [32] DEBUG dn_lib.tools.log - SQL: select task_filter_id, filter_title, filter_notes, filter_def, filter_class
 from dn_tasks_filters order by filter_order
2021-03-07 18:27:06,012 [32] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = 0 and var_name in ('active-task-filter')
2021-03-07 18:27:06,013 [32] DEBUG dn_lib.tools.log - SQL: select ft.tp, ft.synch_folder_id, ft.folder_id, ft.parent_id, ft.title
       , ft.des, ft.http_path, ft.lvl, dbo.folder_path(ft.folder_id) as folder_path
       , (select top 1 1 from dn_tasks where folder_id = ft.folder_id) as is_task
      from dbo.fnc_dn_folders(null, null) ft
      
      order by ft.synch_folder_id, ft.lvl, ft.title
2021-03-07 18:27:06,090 [32] DEBUG dn_lib.tools.log - SQL: select f.synch_folder_id, f.file_id, f.folder_id, f.file_name, f.dt_ins , null as found_file
       from dn_files f
       where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
        
	      where ft.synch_folder_id = f.synch_folder_id 
          and isnull(ft.folder_id, 0) = isnull(f.folder_id, 0))
2021-03-07 18:27:06,143 [32] DEBUG dn_lib.tools.log - SQL: select t3.*
      , tst.stato, tst.[order] as stato_order, isnull(tst.class, 'light') as stato_class, isnull(tst.title_plurale, '') as stato_title_plurale, isnull(tst.title_singolare, '') as stato_title_singolare
      , tp.priorita, tp.[order] as priorita_order, isnull(tp.class, 'light') as priorita_class, isnull(tp.title_plurale, '') as priorita_title_plurale, isnull(tp.title_singolare, '') as priorita_title_singolare
      , tt.tipo, tt.[order] as tipo_order, isnull(tt.class, 'light') as tipo_class, isnull(tt.title_plurale, '') as tipo_title_plurale, isnull(tt.title_singolare, '') as tipo_title_singolare
      , ts.stima, ts.[days] as stima_days, isnull(ts.class, 'light') as stima_class, isnull(ts.title_plurale, '') as stima_title_plurale, isnull(ts.title_singolare, '') as stima_title_singolare
      , (select top 1 1 from dn_tasks_notes where task_id = t3.task_id) as task_notes
      , (select top 1 1 from vw_task_allegati f2 where f2.task_id = t3.task_id 
          and not exists (select top 1 1 from dn_files_info where file_name = f2.file_name)) as task_files
  from (select t2.*, datediff(day, t2.dt_ref, getdate()) as diff_days
    from (select t.task_id, t.synch_folder_id, isnull(t.folder_id, f.folder_id) as folder_id
	   , t.file_id, t.title, t.[user], t.stato, t.priorita, t.tipo, t.stima, t.dt_ins, t.dt_upd
     , t.dt_lwt, (case when isnull(t.dt_ins, 0) > isnull(t.dt_upd, 0) then t.dt_ins else t.dt_upd end) as dt_ref
	  from dn_tasks t
    
	  left join dn_files f on f.file_id = t.file_id
    where (null is null or (null is not null and t.task_id = null)) ) t2
    where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
	    where  ft.synch_folder_id = t2.synch_folder_id 
       and isnull(ft.folder_id, 0) = isnull(t2.folder_id, 0))) t3
   left join dn_task_stato tst on tst.stato = t3.stato
   left join dn_task_priorita tp on tp.priorita = t3.priorita
   left join dn_task_tipo tt on tt.tipo = t3.tipo
   left join dn_task_stima ts on ts.stima = t3.stima
   where 1 = 1 
2021-03-07 18:27:06,270 [32] DEBUG dn_lib.tools.log - SQL: select title_singolare, stato from dn_task_stato order by [order]
2021-03-07 18:27:06,490 [32] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, priorita as [value], [order] from dn_task_priorita
      ) t order by t.[order]
2021-03-07 18:27:06,492 [32] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [days]
       union select title_singolare as title, stima as [value], [days] from dn_task_stima 
       ) t order by t.[days]
2021-03-07 18:27:06,493 [32] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, tipo as [value], [order] from dn_task_tipo
       ) t order by t.[order]
2021-03-07 18:27:06,493 [32] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value]
       union select nome as title, nome as [value] from users
       ) t order by 2
2021-03-07 18:27:08,887 [52] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:27:08,889 [52] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:08,890 [52] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:08,891 [52] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:08,892 [52] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:08,893 [52] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:08,893 [52] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:08,894 [52] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:08,895 [52] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:08,895 [52] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:08,896 [52] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:08,896 [52] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:08,897 [52] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:08,898 [52] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:08,898 [52] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:08,899 [52] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:08,899 [52] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:08,900 [52] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:08,900 [52] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:08,901 [52] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:08,901 [52] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:08,901 [52] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:08,902 [52] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:08,902 [52] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:08,903 [52] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:08,903 [52] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:27:08,913 [32] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:27:08,914 [32] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:08,915 [32] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:08,916 [32] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:08,916 [32] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:08,917 [32] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:08,917 [32] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:08,918 [32] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:08,918 [32] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:08,919 [32] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:08,919 [32] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:08,920 [32] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:08,920 [32] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:08,920 [32] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:08,921 [32] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:08,921 [32] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:08,922 [32] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:08,922 [32] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:08,923 [32] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:08,924 [32] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:08,925 [32] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:08,926 [32] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:08,926 [32] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:08,927 [32] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:08,927 [32] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:08,928 [32] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:27:08,935 [32] DEBUG dn_lib.tools.log - SQL: select task_filter_id, filter_title, filter_notes, filter_def, filter_class
 from dn_tasks_filters order by filter_order
2021-03-07 18:27:08,936 [32] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = 0 and var_name in ('active-task-filter')
2021-03-07 18:27:08,937 [32] DEBUG dn_lib.tools.log - SQL: select ft.tp, ft.synch_folder_id, ft.folder_id, ft.parent_id, ft.title
       , ft.des, ft.http_path, ft.lvl, dbo.folder_path(ft.folder_id) as folder_path
       , (select top 1 1 from dn_tasks where folder_id = ft.folder_id) as is_task
      from dbo.fnc_dn_folders(19, null) ft
      
      order by ft.synch_folder_id, ft.lvl, ft.title
2021-03-07 18:27:08,940 [32] DEBUG dn_lib.tools.log - SQL: select f.synch_folder_id, f.file_id, f.folder_id, f.file_name, f.dt_ins , null as found_file
       from dn_files f
       where exists (select top 1 1 from dbo.fnc_dn_folders(19, null) ft 
        
	      where ft.synch_folder_id = f.synch_folder_id 
          and isnull(ft.folder_id, 0) = isnull(f.folder_id, 0))
2021-03-07 18:27:08,943 [32] DEBUG dn_lib.tools.log - SQL: select t3.*
      , tst.stato, tst.[order] as stato_order, isnull(tst.class, 'light') as stato_class, isnull(tst.title_plurale, '') as stato_title_plurale, isnull(tst.title_singolare, '') as stato_title_singolare
      , tp.priorita, tp.[order] as priorita_order, isnull(tp.class, 'light') as priorita_class, isnull(tp.title_plurale, '') as priorita_title_plurale, isnull(tp.title_singolare, '') as priorita_title_singolare
      , tt.tipo, tt.[order] as tipo_order, isnull(tt.class, 'light') as tipo_class, isnull(tt.title_plurale, '') as tipo_title_plurale, isnull(tt.title_singolare, '') as tipo_title_singolare
      , ts.stima, ts.[days] as stima_days, isnull(ts.class, 'light') as stima_class, isnull(ts.title_plurale, '') as stima_title_plurale, isnull(ts.title_singolare, '') as stima_title_singolare
      , (select top 1 1 from dn_tasks_notes where task_id = t3.task_id) as task_notes
      , (select top 1 1 from vw_task_allegati f2 where f2.task_id = t3.task_id 
          and not exists (select top 1 1 from dn_files_info where file_name = f2.file_name)) as task_files
  from (select t2.*, datediff(day, t2.dt_ref, getdate()) as diff_days
    from (select t.task_id, t.synch_folder_id, isnull(t.folder_id, f.folder_id) as folder_id
	   , t.file_id, t.title, t.[user], t.stato, t.priorita, t.tipo, t.stima, t.dt_ins, t.dt_upd
     , t.dt_lwt, (case when isnull(t.dt_ins, 0) > isnull(t.dt_upd, 0) then t.dt_ins else t.dt_upd end) as dt_ref
	  from dn_tasks t
    
	  left join dn_files f on f.file_id = t.file_id
    where (null is null or (null is not null and t.task_id = null)) ) t2
    where exists (select top 1 1 from dbo.fnc_dn_folders(19, null) ft 
	    where  ft.tp <> 'synch_folder' and  ft.synch_folder_id = t2.synch_folder_id 
       and isnull(ft.folder_id, 0) = isnull(t2.folder_id, 0))) t3
   left join dn_task_stato tst on tst.stato = t3.stato
   left join dn_task_priorita tp on tp.priorita = t3.priorita
   left join dn_task_tipo tt on tt.tipo = t3.tipo
   left join dn_task_stima ts on ts.stima = t3.stima
   where 1 = 1 
2021-03-07 18:27:08,948 [32] DEBUG dn_lib.tools.log - SQL: select title_singolare, stato from dn_task_stato order by [order]
2021-03-07 18:27:08,950 [32] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, priorita as [value], [order] from dn_task_priorita
      ) t order by t.[order]
2021-03-07 18:27:08,951 [32] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [days]
       union select title_singolare as title, stima as [value], [days] from dn_task_stima 
       ) t order by t.[days]
2021-03-07 18:27:08,952 [32] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, tipo as [value], [order] from dn_task_tipo
       ) t order by t.[order]
2021-03-07 18:27:08,953 [32] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value]
       union select nome as title, nome as [value] from users
       ) t order by 2
2021-03-07 18:27:19,672 [39] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:27:19,674 [39] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:19,675 [39] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:19,676 [39] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:19,677 [39] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:19,678 [39] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:19,679 [39] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:19,679 [39] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:19,680 [39] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:19,681 [39] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:19,681 [39] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:19,682 [39] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:19,683 [39] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:19,683 [39] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:19,684 [39] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:19,684 [39] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:19,685 [39] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:19,686 [39] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:19,687 [39] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:19,687 [39] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:19,688 [39] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:19,688 [39] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:19,688 [39] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:19,689 [39] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:19,689 [39] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:19,690 [39] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:27:19,698 [39] DEBUG dn_lib.tools.log - SQL: select sf.local_path + replace(dbo.folder_path(f.folder_id), '/', '\') as local_path, sf.synch_folder_id, f.folder_name as name
 from dn_folders f 
 join synch_folders sf on sf.synch_folder_id = f.synch_folder_id
 where f.folder_id = 19
2021-03-07 18:27:19,700 [39] DEBUG dn_lib.tools.log - SQL: select free_txt, stato, priorita, tipo, stima, (case when [default] = 1 then '1' else '0' end) as [default]
        from dn_task_free_labels 
2021-03-07 18:27:19,710 [39] DEBUG dn_lib.tools.log - SQL: insert into dn_folders (synch_folder_id, parent_id, folder_name, dt_ins, readed, dt_upd)
     select synch_folder_id, folder_id, 'jolly.task', convert(datetime, convert(varchar, getdate(), 120), 120), 1, convert(datetime, convert(varchar, getdate(), 120), 120)
      from dn_folders where folder_id = 19;select SCOPE_IDENTITY();
2021-03-07 18:27:19,722 [39] DEBUG dn_lib.tools.log - SQL: insert into dn_tasks (synch_folder_id, folder_id, title, [user], stato, dt_upd, readed, priorita, tipo, stima, dt_ins, dt_lwt_index)
 select synch_folder_id, folder_id, 'jolly', 'molinero', 'in_corso', dt_upd, 1, 'altissima'
    , 'fix', 'ora', dt_ins, convert(datetime, '2021-03-07 18:27:19', 120)
  from dn_folders where folder_id = 416;select SCOPE_IDENTITY();
2021-03-07 18:27:19,734 [49] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:27:19,735 [49] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:19,736 [49] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:19,737 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:19,738 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:19,739 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:19,739 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:19,740 [49] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:19,740 [49] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:19,741 [49] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:19,741 [49] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:19,742 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:19,742 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:19,742 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:19,743 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:19,743 [49] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:19,744 [49] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:19,744 [49] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:19,745 [49] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:19,745 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:19,746 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:19,746 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:19,746 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:19,747 [49] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:19,747 [49] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:19,748 [49] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:27:19,756 [49] DEBUG dn_lib.tools.log - SQL: select task_filter_id, filter_title, filter_notes, filter_def, filter_class
 from dn_tasks_filters order by filter_order
2021-03-07 18:27:19,757 [49] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = 0 and var_name in ('active-task-filter')
2021-03-07 18:27:19,758 [49] DEBUG dn_lib.tools.log - SQL: select ft.tp, ft.synch_folder_id, ft.folder_id, ft.parent_id, ft.title
       , ft.des, ft.http_path, ft.lvl, dbo.folder_path(ft.folder_id) as folder_path
       , (select top 1 1 from dn_tasks where folder_id = ft.folder_id) as is_task
      from dbo.fnc_dn_folders(19, null) ft
      
      order by ft.synch_folder_id, ft.lvl, ft.title
2021-03-07 18:27:19,761 [49] DEBUG dn_lib.tools.log - SQL: select f.synch_folder_id, f.file_id, f.folder_id, f.file_name, f.dt_ins , null as found_file
       from dn_files f
       where exists (select top 1 1 from dbo.fnc_dn_folders(19, null) ft 
        
	      where ft.synch_folder_id = f.synch_folder_id 
          and isnull(ft.folder_id, 0) = isnull(f.folder_id, 0))
2021-03-07 18:27:19,765 [49] DEBUG dn_lib.tools.log - SQL: select t3.*
      , tst.stato, tst.[order] as stato_order, isnull(tst.class, 'light') as stato_class, isnull(tst.title_plurale, '') as stato_title_plurale, isnull(tst.title_singolare, '') as stato_title_singolare
      , tp.priorita, tp.[order] as priorita_order, isnull(tp.class, 'light') as priorita_class, isnull(tp.title_plurale, '') as priorita_title_plurale, isnull(tp.title_singolare, '') as priorita_title_singolare
      , tt.tipo, tt.[order] as tipo_order, isnull(tt.class, 'light') as tipo_class, isnull(tt.title_plurale, '') as tipo_title_plurale, isnull(tt.title_singolare, '') as tipo_title_singolare
      , ts.stima, ts.[days] as stima_days, isnull(ts.class, 'light') as stima_class, isnull(ts.title_plurale, '') as stima_title_plurale, isnull(ts.title_singolare, '') as stima_title_singolare
      , (select top 1 1 from dn_tasks_notes where task_id = t3.task_id) as task_notes
      , (select top 1 1 from vw_task_allegati f2 where f2.task_id = t3.task_id 
          and not exists (select top 1 1 from dn_files_info where file_name = f2.file_name)) as task_files
  from (select t2.*, datediff(day, t2.dt_ref, getdate()) as diff_days
    from (select t.task_id, t.synch_folder_id, isnull(t.folder_id, f.folder_id) as folder_id
	   , t.file_id, t.title, t.[user], t.stato, t.priorita, t.tipo, t.stima, t.dt_ins, t.dt_upd
     , t.dt_lwt, (case when isnull(t.dt_ins, 0) > isnull(t.dt_upd, 0) then t.dt_ins else t.dt_upd end) as dt_ref
	  from dn_tasks t
    
	  left join dn_files f on f.file_id = t.file_id
    where (null is null or (null is not null and t.task_id = null)) ) t2
    where exists (select top 1 1 from dbo.fnc_dn_folders(19, null) ft 
	    where  ft.tp <> 'synch_folder' and  ft.synch_folder_id = t2.synch_folder_id 
       and isnull(ft.folder_id, 0) = isnull(t2.folder_id, 0))) t3
   left join dn_task_stato tst on tst.stato = t3.stato
   left join dn_task_priorita tp on tp.priorita = t3.priorita
   left join dn_task_tipo tt on tt.tipo = t3.tipo
   left join dn_task_stima ts on ts.stima = t3.stima
   where 1 = 1 
2021-03-07 18:27:19,769 [49] DEBUG dn_lib.tools.log - SQL: select title_singolare, stato from dn_task_stato order by [order]
2021-03-07 18:27:19,774 [49] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, priorita as [value], [order] from dn_task_priorita
      ) t order by t.[order]
2021-03-07 18:27:19,775 [49] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [days]
       union select title_singolare as title, stima as [value], [days] from dn_task_stima 
       ) t order by t.[days]
2021-03-07 18:27:19,776 [49] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, tipo as [value], [order] from dn_task_tipo
       ) t order by t.[order]
2021-03-07 18:27:19,777 [49] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value]
       union select nome as title, nome as [value] from users
       ) t order by 2
2021-03-07 18:27:47,566 [39] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:27:47,568 [39] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:47,569 [39] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:47,570 [39] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:47,570 [39] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:47,571 [39] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:47,572 [39] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:47,573 [39] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:47,573 [39] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:47,574 [39] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:47,575 [39] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:47,576 [39] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:47,576 [39] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:47,577 [39] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:47,577 [39] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:47,578 [39] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:47,578 [39] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:47,579 [39] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:47,580 [39] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:47,580 [39] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:47,581 [39] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:47,581 [39] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:47,581 [39] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:47,582 [39] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:47,582 [39] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:47,583 [39] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:27:47,596 [41] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:27:47,597 [41] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:47,598 [41] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:47,599 [41] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:47,599 [41] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:47,600 [41] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:47,601 [41] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:47,601 [41] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:47,602 [41] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:47,602 [41] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:47,602 [41] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:47,603 [41] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:47,603 [41] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:47,603 [41] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:47,604 [41] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:47,604 [41] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:47,604 [41] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:47,605 [41] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:47,605 [41] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:47,605 [41] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:47,606 [41] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:47,606 [41] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:47,606 [41] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:47,607 [41] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:47,607 [41] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:47,608 [41] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:27:47,618 [32] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:27:47,619 [32] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:47,620 [32] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:47,620 [32] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:47,621 [32] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:47,621 [32] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:47,622 [32] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:47,622 [32] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:47,623 [32] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:47,623 [32] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:47,624 [32] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:47,624 [32] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:47,625 [32] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:47,625 [32] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:47,626 [32] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:47,626 [32] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:47,626 [32] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:47,627 [32] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:47,627 [32] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:47,628 [32] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:47,628 [32] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:47,629 [32] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:47,629 [32] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:47,630 [32] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:47,631 [32] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:47,631 [32] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:27:48,185 [7] INFO dn_lib.tools.log - reload config docs
2021-03-07 18:27:48,186 [7] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:48,186 [7] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:48,187 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:48,188 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:48,189 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:48,190 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:48,191 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:48,192 [7] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:48,193 [7] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:48,194 [7] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:48,195 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:48,196 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:48,196 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:48,197 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:48,198 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:48,198 [7] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:48,199 [7] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-07 18:27:48,199 [7] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-07 18:27:48,200 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-07 18:27:48,201 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-07 18:27:48,201 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-07 18:27:48,202 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-07 18:27:48,202 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-07 18:27:48,202 [7] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-07 18:27:48,203 [7] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-07 18:27:48,212 [7] DEBUG dn_lib.tools.log - SQL: select distinct lower(nome) as nome from users
2021-03-07 18:27:48,213 [7] DEBUG dn_lib.tools.log - SQL: select free_txt, stato, priorita, tipo, stima, (case when [default] = 1 then '1' else '0' end) as [default]
        from dn_task_free_labels 
2021-03-07 18:27:48,214 [7] DEBUG dn_lib.tools.log - SQL: select file_name, type_info from dn_files_info
2021-03-07 18:27:48,216 [7] DEBUG dn_lib.tools.log - SQL: select extension, des_extension, open_comment, close_comment, type_content from dn_files_types
2021-03-07 18:27:48,216 [7] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = -1 and var_name in ('synch-files')
2021-03-07 18:27:48,217 [7] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = -1 and var_name in ('synch-folders')
2021-03-07 18:27:48,219 [7] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = -1 and var_name in ('synch-lwt')
2021-03-07 18:27:48,220 [7] DEBUG dn_lib.tools.log - SQL: select sf.synch_folder_id, sf.pc_name, sf.[title], sf.[des], sf.local_path, sf.http_path, sf.[user], sf.[password]
        from synch_folders sf where sf.pc_name = 'MOLINOVO' order by sf.[title]
2021-03-07 18:27:48,277 [7] DEBUG dn_lib.tools.log - elenco cartelle da sincronizzare
2021-03-07 18:27:48,278 [7] DEBUG dn_lib.tools.log - SQL: select sf.synch_folder_id, sf.pc_name, sf.[title], sf.[des], sf.local_path, sf.http_path, sf.[user], sf.[password]
        from synch_folders sf where sf.pc_name = 'MOLINOVO' order by sf.[title]
2021-03-07 18:27:48,280 [7] DEBUG dn_lib.tools.log -    - cartella di sincronizzazione 'dipa notess' - Deepa Notes, path: C:\root\todd\_test\dn
2021-03-07 18:27:48,281 [7] DEBUG dn_lib.tools.log - SQL: update dn_folders set readed = null;
      update dn_files set readed = null;
      update dn_tasks set readed = null;
2021-03-07 18:27:48,295 [7] DEBUG dn_lib.tools.log - elaboro la cartella C:\root\todd\_test\dn...
2021-03-07 18:27:48,296 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'aggiornamento dati';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'aggiornamento dati', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,297 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 2 
        and folder_name = 'via i prezzi custom di mapfre.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 2, 'via i prezzi custom di mapfre.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,299 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 3 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 3, null, left('via i prezzi custom di mapfre', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('via i prezzi custom di mapfre', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:35', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('via i prezzi custom di mapfre', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,301 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 3 and file_name = 'via i prezzi mapfre custom.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 3, 'via i prezzi mapfre custom.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-26 16:00:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-26 16:00:11', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-26 16:00:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,302 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 2) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,304 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'cauzioni';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'cauzioni', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,306 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'condizione particolare tecnodue .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'condizione particolare tecnodue .task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,307 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 5 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 5, null, left('condizione particolare tecnodue ', 150)
            , 'molina', convert(datetime, '2020-07-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', NULL, convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-30 00:00:00', 120), dt_upd = NULL
         , title = left('condizione particolare tecnodue ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('condizione particolare tecnodue ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,309 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 5 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 5, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 10:08:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-30 10:08:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 10:08:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,310 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 5 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 5, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 11:50:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-30 11:50:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 11:50:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,311 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 3) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,312 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'elimina note interne dopo invio mail.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'elimina note interne dopo invio mail.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,314 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 6 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 6, null, left('elimina note interne dopo invio mail', 150)
            , 'molina', convert(datetime, '2020-07-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-29 00:00:00', 120), dt_upd = NULL
         , title = left('elimina note interne dopo invio mail', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('elimina note interne dopo invio mail', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,314 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 6 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 6, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 16:10:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-29 16:10:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 16:10:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,316 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 4) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,317 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'errore - riferimento a un oggetto non impostato sul rientro.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'errore - riferimento a un oggetto non impostato sul rientro.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,318 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 7 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 7, null, left('errore - riferimento a un oggetto non impostato sul rientro', 150)
            , 'molina', convert(datetime, '2020-07-27 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-27 00:00:00', 120), dt_upd = NULL
         , title = left('errore - riferimento a un oggetto non impostato sul rientro', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('errore - riferimento a un oggetto non impostato sul rientro', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,319 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 7 and file_name = 'dipa-20200727.log';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 7, 'dipa-20200727.log', '.log', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 12:18:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-27 12:18:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 12:18:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,320 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 7 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 7, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 15:33:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-27 15:33:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 15:33:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,321 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 7 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 7, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 15:30:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-27 15:30:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 15:30:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,322 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 5) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,323 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'etichette automatiche arrivi resi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'etichette automatiche arrivi resi.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,324 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 8 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 8, null, left('etichette automatiche arrivi resi', 150)
            , 'molina', convert(datetime, '2020-09-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-23 00:00:00', 120), dt_upd = NULL
         , title = left('etichette automatiche arrivi resi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('etichette automatiche arrivi resi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,325 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 8 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 8, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-23 14:50:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-23 14:50:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-23 14:50:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,326 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 6) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,327 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'filtro anno e altre cosette.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'filtro anno e altre cosette.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,328 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 9 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 9, null, left('filtro anno e altre cosette', 150)
            , 'molina', convert(datetime, '2020-11-16 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-16 00:00:00', 120), dt_upd = NULL
         , title = left('filtro anno e altre cosette', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-16 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('filtro anno e altre cosette', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,329 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 9 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 9, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-16 08:43:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-16 08:43:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-16 08:43:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,330 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 7) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,331 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'mail in automatico al cliente per le garanzie anticipate.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'mail in automatico al cliente per le garanzie anticipate.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,332 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 10 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 10, null, left('mail in automatico al cliente per le garanzie anticipate', 150)
            , 'molina', convert(datetime, '2020-07-07 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-07 00:00:00', 120), dt_upd = NULL
         , title = left('mail in automatico al cliente per le garanzie anticipate', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:35', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-07 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('mail in automatico al cliente per le garanzie anticipate', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,333 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 10 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 10, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-07 09:55:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-07 09:55:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-07 09:55:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,334 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 8) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,335 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'non voglio pi vedere la pratica.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'non voglio pi vedere la pratica.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,336 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 11 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 11, null, left('non voglio pi vedere la pratica', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('non voglio pi vedere la pratica', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('non voglio pi vedere la pratica', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,337 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 11 and file_name = 'i.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 11, 'i.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-26 16:30:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-26 16:30:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 16:30:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,338 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 11 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 11, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-29 08:37:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-29 08:37:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 08:37:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,339 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 9) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,340 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'pagina magento reso carcassa.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'pagina magento reso carcassa.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,341 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 12 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 12, null, left('pagina magento reso carcassa', 150)
            , 'molina', convert(datetime, '2020-09-24 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'settimana', convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-24 00:00:00', 120), dt_upd = NULL
         , title = left('pagina magento reso carcassa', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'settimana', dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('pagina magento reso carcassa', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('settimana', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,342 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 12 
        and folder_name = 'bck';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 12, 'bck', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,343 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 13 and file_name = 'mysql.bck.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 13, 'mysql.bck.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-24 12:33:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-24 12:33:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-24 12:33:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,343 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 13 and file_name = 'rpc-index.bck.php';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 13, 'rpc-index.bck.php', '.php', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-24 11:00:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-24 11:00:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-24 11:00:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,344 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 13 and file_name = 'scheduler.bck.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 13, 'scheduler.bck.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-24 10:57:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-24 10:57:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-24 10:57:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,345 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 10) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,346 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 12 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 12, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-19 11:12:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-19 11:12:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-19 11:12:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,347 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 12 and file_name = 'mysql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 12, 'mysql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-25 14:33:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-25 14:33:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-25 14:33:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,348 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 12 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 12, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-08 14:54:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-08 14:54:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-08 14:54:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,348 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 10) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,350 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'revisione cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'revisione cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,350 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 14 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 14, null, left('revisione cauzioni', 150)
            , 'molina', convert(datetime, '2020-09-04 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'giornata', convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-04 00:00:00', 120), dt_upd = NULL
         , title = left('revisione cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-04 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,352 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 14 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 14, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-11 16:52:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-11 16:52:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-11 16:52:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,352 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 14 and file_name = 'lavs_resi.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 14, 'lavs_resi.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-08 17:20:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-08 17:20:41', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-08 17:20:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,353 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 11) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,354 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'revisione colonne griglia cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'revisione colonne griglia cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,355 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 15 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 15, null, left('revisione colonne griglia cauzioni', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('revisione colonne griglia cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione colonne griglia cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,356 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 15 and file_name = 'img.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 15, 'img.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-26 11:53:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-26 11:53:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 11:53:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,357 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 12) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,359 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'ricerca lavorazioni e gestione note.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'ricerca lavorazioni e gestione note.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,360 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 16 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 16, null, left('ricerca lavorazioni e gestione note', 150)
            , 'molina', convert(datetime, '2020-09-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'giornata', convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-17 00:00:00', 120), dt_upd = NULL
         , title = left('ricerca lavorazioni e gestione note', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ricerca lavorazioni e gestione note', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,361 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 13) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,362 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'ritocchi cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'ritocchi cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,363 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 17 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 17, null, left('ritocchi cauzioni', 150)
            , 'molina', convert(datetime, '2020-09-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-21 00:00:00', 120), dt_upd = NULL
         , title = left('ritocchi cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ritocchi cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,364 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 17 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 17, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-21 09:13:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-21 09:13:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-21 09:13:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,365 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 14) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,366 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'SI-NO-URGENTE nella griglia cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'SI-NO-URGENTE nella griglia cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,367 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 18 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 18, null, left('SI-NO-URGENTE nella griglia cauzioni', 150)
            , 'molina', convert(datetime, '2020-09-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-14 00:00:00', 120), dt_upd = NULL
         , title = left('SI-NO-URGENTE nella griglia cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('SI-NO-URGENTE nella griglia cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,368 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 18 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 18, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-15 14:12:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-15 14:12:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-15 14:12:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,369 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 15) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,370 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'crm';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'crm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-07 18:27:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-07 18:27:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-07 18:27:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,373 [7] DEBUG dn_lib.tools.log - aggiornato folder nel database: C:\root\todd\_test\dn\crm
2021-03-07 18:27:48,374 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 19 
        and folder_name = 'gestione codici pi ricercati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 19, 'gestione codici pi ricercati.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,375 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 20 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 20, null, left('gestione codici pi ricercati', 150)
            , 'molina', convert(datetime, '2020-11-02 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-02 00:00:00', 120), dt_upd = NULL
         , title = left('gestione codici pi ricercati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione codici pi ricercati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,376 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 20 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 20, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-02 16:32:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-02 16:32:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-02 16:32:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,377 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 16) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,379 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 19 
        and folder_name = 'jolly.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 19, 'jolly.task', 1, convert(datetime, '2021-03-07 18:27:19', 120), convert(datetime, '2021-03-07 18:27:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-07 18:27:19', 120), dt_lwt = convert(datetime, '2021-03-07 18:27:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-07 18:27:19', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-07 18:27:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,383 [7] DEBUG dn_lib.tools.log - aggiornato folder nel database: C:\root\todd\_test\dn\crm\jolly.task
2021-03-07 18:27:48,384 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 416 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 416, null, left('jolly', 150)
            , 'molinero', convert(datetime, '2021-03-07 18:27:19', 120), NULL, 1
            , 'in_corso', 'altissima', 'fix', 'ora', convert(datetime, '2021-03-07 18:27:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-03-07 18:27:19', 120), dt_upd = NULL
         , title = left('jolly', 150), [user] = 'molinero'
         , stato = 'in_corso', priorita = 'altissima'
         , tipo = 'fix', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-07 18:27:19', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-07 18:27:19', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('jolly', '') or isnull([user], '') <> isnull('molinero', '') 
          or isnull(stato, '') <> isnull('in_corso', '') or isnull(priorita, '') <> isnull('altissima', '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,390 [7] DEBUG dn_lib.tools.log - aggiornato task nel database: jolly
2021-03-07 18:27:48,391 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 279) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,398 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 19 
        and folder_name = 'pulizia crm.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 19, 'pulizia crm.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,400 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 21 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 21, null, left('pulizia crm', 150)
            , 'molina', convert(datetime, '2020-05-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-05-26 00:00:00', 120), dt_upd = NULL
         , title = left('pulizia crm', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-05-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('pulizia crm', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,402 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 21 
        and folder_name = '_oldies';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 21, '_oldies', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,403 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'App_Code';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'App_Code', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,405 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 23 and file_name = 'backup.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 23, 'backup.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-12-13 15:11:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-12-13 15:11:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-12-13 15:11:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,406 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 23 and file_name = 'db_utilities.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 23, 'db_utilities.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-26 10:47:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-26 10:47:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-26 10:47:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,408 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,409 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'pages';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'pages', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,410 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'recovery.aspx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'recovery.aspx', '.aspx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-10-20 17:46:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-10-20 17:46:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-20 17:46:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,412 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'recovery.aspx.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'recovery.aspx.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-26 10:46:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-26 10:46:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-26 10:46:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,413 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'rifs.aspx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'rifs.aspx', '.aspx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-05-08 14:05:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-05-08 14:05:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-05-08 14:05:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,414 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'rifs.aspx.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'rifs.aspx.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-09-16 17:25:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-09-16 17:25:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-09-16 17:25:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,416 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'sys.css';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'sys.css', '.css', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,417 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'tables.aspx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'tables.aspx', '.aspx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-05-08 14:05:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-05-08 14:05:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-05-08 14:05:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,418 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'tables.aspx.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'tables.aspx.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2018-09-21 17:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2018-09-21 17:44:37', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-09-21 17:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,419 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,420 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'pages_xml';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'pages_xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,421 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 25 and file_name = 'pageBackup.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 25, 'pageBackup.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,422 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 25 and file_name = 'pageBackupImport.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 25, 'pageBackupImport.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,423 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 25 and file_name = 'pageBackups.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 25, 'pageBackups.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-25 17:12:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-25 17:12:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-25 17:12:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,423 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 25 and file_name = 'pageImport.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 25, 'pageImport.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-10-16 14:49:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-10-16 14:49:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-16 14:49:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,424 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,425 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'schemas';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'schemas', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,426 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td19_metaq1.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td19_metaq1.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-06-27 17:35:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-06-27 17:35:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-06-27 17:35:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,427 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td19_schemaq1.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td19_schemaq1.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-06-27 17:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-06-27 17:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-06-27 17:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,427 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'tdsql_metaq3.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'tdsql_metaq3.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-05-13 07:49:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-05-13 07:49:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-05-13 07:49:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,428 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'tdsql_schemaq3.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'tdsql_schemaq3.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-05-13 08:52:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-05-13 08:52:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-05-13 08:52:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,430 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_metaq1.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_metaq1.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:05:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:05:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:05:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,430 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_metaq2.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_metaq2.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:05:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:05:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:05:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,431 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_metaq3.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_metaq3.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:05:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:05:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:05:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,432 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_schemaq1.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_schemaq1.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:04:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:04:57', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:04:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,433 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_schemaq2.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_schemaq2.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:06:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:06:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:06:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,433 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_schemaq3.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_schemaq3.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-07 16:41:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-07 16:41:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-07 16:41:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,434 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'web_meta2016.05.01.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'web_meta2016.05.01.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-10-04 10:03:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-10-04 10:03:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-10-04 10:03:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,435 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'web_schema2016.05.01.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'web_schema2016.05.01.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-08 10:20:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-08 10:20:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-08 10:20:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,436 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,437 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'scripts';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'scripts', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,438 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'clean_all.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'clean_all.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,439 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'clean_cache.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'clean_cache.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,439 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'clean_zz.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'clean_zz.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,440 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'initweb.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'initweb.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,441 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_codici_attivo.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_codici_attivo.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-22 10:16:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-22 10:16:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-22 10:16:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,441 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_enums.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_enums.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2018-09-21 15:17:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2018-09-21 15:17:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-09-21 15:17:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,442 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_ricerche.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_ricerche.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-11-09 16:11:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-11-09 16:11:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-11-09 16:11:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,443 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_tpusers.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_tpusers.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,443 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_users.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_users.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,444 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'resetdb.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'resetdb.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,445 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,446 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,448 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,449 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'ditex';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'ditex', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,450 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 28 
        and folder_name = 'struttura base, pagine web, tabelle.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 28, 'struttura base, pagine web, tabelle.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,451 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 29 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 29, null, left('struttura base, pagine web, tabelle', 150)
            , 'molina', convert(datetime, '2020-12-04 00:00:00', 120), NULL, 1
            , 'sospeso', NULL, 'aggiunta', 'settimana', convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-12-04 00:00:00', 120), dt_upd = NULL
         , title = left('struttura base, pagine web, tabelle', 150), [user] = 'molina'
         , stato = 'sospeso', priorita = NULL
         , tipo = 'aggiunta', stima = 'settimana', dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-12-04 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('struttura base, pagine web, tabelle', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('sospeso', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('settimana', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,452 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 29 and file_name = 'Circolare 4E Agenzia Entrate Iperammortamento 30-03-2017.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 29, 'Circolare 4E Agenzia Entrate Iperammortamento 30-03-2017.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-20 16:01:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-20 16:01:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-20 16:01:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,453 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 29 and file_name = 'ditex.msg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 29, 'ditex.msg', '.msg', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-20 16:01:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-20 16:01:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-20 16:01:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,453 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 29 and file_name = 'ERAGON-COMMESSE.doc';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 29, 'ERAGON-COMMESSE.doc', '.doc', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-20 16:01:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-20 16:01:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-20 16:01:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,454 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 29 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 29, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-12-14 11:06:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-12-14 11:06:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-12-14 11:06:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,455 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 18) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,456 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'estrazioni';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'estrazioni', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,457 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 30 
        and folder_name = 'estrazione dati kromeda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 30, 'estrazione dati kromeda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,458 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 31 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 31, null, left('estrazione dati kromeda', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('estrazione dati kromeda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('estrazione dati kromeda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,459 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 31 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 31, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 12:24:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 12:24:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 12:24:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,460 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 19) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,461 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'lavorazioni';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'lavorazioni', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:45:44', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:44', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:44', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,462 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'accetta lavorazione senza invio mail.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'accetta lavorazione senza invio mail.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,463 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 33 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 33, null, left('accetta lavorazione senza invio mail', 150)
            , 'molina', convert(datetime, '2020-07-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-08 00:00:00', 120), dt_upd = NULL
         , title = left('accetta lavorazione senza invio mail', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('accetta lavorazione senza invio mail', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,464 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 33 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 33, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-09 10:09:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-09 10:09:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-09 10:09:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,465 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 20) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,466 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'aggiunto passaggio da ritirare.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'aggiunto passaggio da ritirare.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,467 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 34 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 34, null, left('aggiunto passaggio da ritirare', 150)
            , 'molina', convert(datetime, '2020-09-01 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezzora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-01 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunto passaggio da ritirare', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-01 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunto passaggio da ritirare', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,468 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 34 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 34, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-01 11:06:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-01 11:06:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-01 11:06:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,469 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 34 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 34, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-01 11:07:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-01 11:07:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-01 11:07:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,470 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 21) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,471 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'controlli uploat sito.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'controlli uploat sito.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,472 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 35 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 35, null, left('controlli uploat sito', 150)
            , 'molina', convert(datetime, '2020-10-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-09 00:00:00', 120), dt_upd = NULL
         , title = left('controlli uploat sito', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('controlli uploat sito', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,473 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 35 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 35, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-09 16:42:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-09 16:42:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-09 16:42:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,473 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 22) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,475 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'data aggiornamento lavorazioni sul sito.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'data aggiornamento lavorazioni sul sito.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,476 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 36 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 36, null, left('data aggiornamento lavorazioni sul sito', 150)
            , 'molina', convert(datetime, '2020-09-03 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezzora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-03 00:00:00', 120), dt_upd = NULL
         , title = left('data aggiornamento lavorazioni sul sito', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-03 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('data aggiornamento lavorazioni sul sito', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,477 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 36 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 36, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 10:37:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-03 10:37:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-03 10:37:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,478 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 23) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,479 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'facilitare l''uso del reso no rip.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'facilitare l''uso del reso no rip.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,480 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 37 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 37, null, left('facilitare l''uso del reso no rip', 150)
            , 'molina', convert(datetime, '2020-07-01 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', 'mezza', convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-01 00:00:00', 120), dt_upd = NULL
         , title = left('facilitare l''uso del reso no rip', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:40:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-01 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('facilitare l''uso del reso no rip', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,481 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 37 and file_name = '1.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 37, '1.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-01 16:41:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-01 16:41:08', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-01 16:41:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,482 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 37 and file_name = '2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 37, '2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-01 16:41:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-01 16:41:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-01 16:41:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,483 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 37 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 37, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-02 14:27:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-02 14:27:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 14:27:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,483 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 24) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,485 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'gestione porta lui.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'gestione porta lui.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,486 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 38 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 38, null, left('gestione porta lui', 150)
            , 'molina', convert(datetime, '2020-09-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'facile', 'ora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-15 00:00:00', 120), dt_upd = NULL
         , title = left('gestione porta lui', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione porta lui', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,487 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 25) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,488 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'gestione tasto INVIO note cliente.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'gestione tasto INVIO note cliente.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,489 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 39 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 39, null, left('gestione tasto INVIO note cliente', 150)
            , 'molina', convert(datetime, '2020-09-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-14 00:00:00', 120), dt_upd = NULL
         , title = left('gestione tasto INVIO note cliente', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione tasto INVIO note cliente', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,490 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 39 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 39, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-14 15:58:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-14 15:58:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-14 15:58:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,491 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 26) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,492 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'lavorazioni - mail inchiodata.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'lavorazioni - mail inchiodata.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,493 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 40 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 40, null, left('lavorazioni - mail inchiodata', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('lavorazioni - mail inchiodata', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('lavorazioni - mail inchiodata', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,494 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 40 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 40, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-27 10:27:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-27 10:27:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-27 10:27:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,495 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 27) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,496 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'ma i numeri di telefono da dove arrivano.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'ma i numeri di telefono da dove arrivano.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:41', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,497 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 41 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 41, null, left('ma i numeri di telefono da dove arrivano', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ma i numeri di telefono da dove arrivano', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:41', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ma i numeri di telefono da dove arrivano', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,498 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 41 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 41, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 09:24:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 09:24:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 09:24:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,499 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 41 and file_name = 'tel lav.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 41, 'tel lav.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-09 17:47:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-09 17:47:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-09 17:47:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,500 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 41 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 41, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-20 15:06:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-20 15:06:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-20 15:06:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,501 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 28) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,502 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'mail - prenota ritiri errata.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'mail - prenota ritiri errata.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,502 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 42 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 42, null, left('mail - prenota ritiri errata', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('mail - prenota ritiri errata', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('mail - prenota ritiri errata', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,504 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 42 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 42, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 09:29:44', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-05 09:29:44', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 09:29:44', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,504 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 29) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,505 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'modifica codici scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'modifica codici scheda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,506 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 43 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 43, null, left('modifica codici scheda', 150)
            , 'molina', convert(datetime, '2020-09-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-29 00:00:00', 120), dt_upd = NULL
         , title = left('modifica codici scheda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('modifica codici scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,508 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 43 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 43, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-29 17:55:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-29 17:55:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-29 17:55:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,509 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 30) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,510 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'nuova scheda - aggiungere anche il reso.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'nuova scheda - aggiungere anche il reso.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,511 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 44 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 44, null, left('nuova scheda - aggiungere anche il reso', 150)
            , 'molina', convert(datetime, '2020-07-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-08 00:00:00', 120), dt_upd = NULL
         , title = left('nuova scheda - aggiungere anche il reso', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuova scheda - aggiungere anche il reso', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,512 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 31) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,513 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'nuovo campo no spese.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'nuovo campo no spese.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,514 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 45 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 45, null, left('nuovo campo no spese', 150)
            , 'molina', convert(datetime, '2021-01-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezzora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-15 00:00:00', 120), dt_upd = NULL
         , title = left('nuovo campo no spese', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuovo campo no spese', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,515 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 45 and file_name = '1.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 45, '1.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 17:35:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-15 17:35:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 17:35:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,516 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 45 and file_name = '2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 45, '2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 17:35:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-15 17:35:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 17:35:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,516 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 45 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 45, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 17:34:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-15 17:34:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 17:34:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,517 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 32) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,518 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'nuovo ordine RESO NON ACCETTATO.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'nuovo ordine RESO NON ACCETTATO.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,519 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 46 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 46, null, left('nuovo ordine RESO NON ACCETTATO', 150)
            , 'molina', convert(datetime, '2020-09-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-28 00:00:00', 120), dt_upd = NULL
         , title = left('nuovo ordine RESO NON ACCETTATO', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuovo ordine RESO NON ACCETTATO', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,520 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 46 and file_name = 'task.spese di gestione.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 46, 'task.spese di gestione.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-28 15:16:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-28 15:16:15', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-28 15:16:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,521 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 33) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,522 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'nuovo tipo di lavorazione RESO DA CLIENTE.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'nuovo tipo di lavorazione RESO DA CLIENTE.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,523 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 47 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 47, null, left('nuovo tipo di lavorazione RESO DA CLIENTE', 150)
            , 'molina', convert(datetime, '2020-07-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', NULL, convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-08 00:00:00', 120), dt_upd = NULL
         , title = left('nuovo tipo di lavorazione RESO DA CLIENTE', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuovo tipo di lavorazione RESO DA CLIENTE', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,524 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 47 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 47, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-08 15:29:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-08 15:29:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-08 15:29:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,526 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 34) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,527 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'pdf lavorazione senza intestazione cliente.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'pdf lavorazione senza intestazione cliente.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,528 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 48 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 48, null, left('pdf lavorazione senza intestazione cliente', 150)
            , 'molina', convert(datetime, '2020-06-24 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'facile', NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-24 00:00:00', 120), dt_upd = NULL
         , title = left('pdf lavorazione senza intestazione cliente', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('pdf lavorazione senza intestazione cliente', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,529 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 35) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,530 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'poter cambiare una lavorazione da GAR a LAV.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'poter cambiare una lavorazione da GAR a LAV.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,531 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 49 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 49, null, left('poter cambiare una lavorazione da GAR a LAV', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('poter cambiare una lavorazione da GAR a LAV', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('poter cambiare una lavorazione da GAR a LAV', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,532 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 49 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 49, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-24 15:46:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-24 15:46:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-24 15:46:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,533 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 49 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 49, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,533 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 36) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,535 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'poter inserire anche files pdf o altro oltre alle immagini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'poter inserire anche files pdf o altro oltre alle immagini.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:41', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,536 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 50 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 50, null, left('poter inserire anche files pdf o altro oltre alle immagini', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('poter inserire anche files pdf o altro oltre alle immagini', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:41', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('poter inserire anche files pdf o altro oltre alle immagini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,537 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 37) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,538 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'poter scaricare le immagini dalla scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'poter scaricare le immagini dalla scheda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:41', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,540 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 51 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 51, null, left('poter scaricare le immagini dalla scheda', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('poter scaricare le immagini dalla scheda', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:41', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('poter scaricare le immagini dalla scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,541 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 38) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,542 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'revisione ritiri in rosso.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'revisione ritiri in rosso.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,543 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 52 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 52, null, left('revisione ritiri in rosso', 150)
            , 'molina', convert(datetime, '2020-09-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezzora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-09 00:00:00', 120), dt_upd = NULL
         , title = left('revisione ritiri in rosso', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione ritiri in rosso', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,544 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 52 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 52, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-09 09:52:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-09 09:52:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-09 09:52:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,545 [7] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 39) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-07 18:27:48,546 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rinomina DIP.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rinomina DIP.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:41', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,547 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 53 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 53, null, left('rinomina DIP', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('rinomina DIP', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:41', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rinomina DIP', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,548 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 53 and file_name = '1.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 53, '1.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-03 17:42:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-03 17:42:57', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-03 17:42:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-07 18:27:48,549 [7] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 53 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 53, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-03 18:06:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-03 18:06:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-03 18:06:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
