2021-03-06 16:18:39,864 [7] INFO dn_lib.tools.log - reload core
2021-03-06 16:18:39,951 [7] INFO dn_lib.tools.log - reload config docs
2021-03-06 16:18:39,953 [7] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:18:39,963 [7] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:18:39,971 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:18:39,980 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:18:39,988 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:18:40,000 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:18:40,009 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:18:40,016 [7] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:18:40,026 [7] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:18:40,028 [7] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:18:40,029 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:18:40,030 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:18:40,032 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:18:40,033 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:18:40,034 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:18:40,035 [7] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:18:40,035 [7] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:18:40,042 [7] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:18:40,044 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:18:40,045 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:18:40,046 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:18:40,047 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:18:40,048 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:18:40,048 [7] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:18:40,050 [7] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-06 16:18:40,188 [12] INFO dn_lib.tools.log - reload config docs
2021-03-06 16:18:40,189 [12] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:18:40,190 [12] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:18:40,190 [12] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:18:40,191 [12] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:18:40,192 [12] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:18:40,193 [12] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:18:40,194 [12] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:18:40,195 [12] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:18:40,196 [12] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:18:40,196 [12] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:18:40,197 [12] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:18:40,197 [12] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:18:40,198 [12] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:18:40,198 [12] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:18:40,199 [12] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:18:40,199 [12] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:18:40,200 [12] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:18:40,200 [12] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:18:40,201 [12] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:18:40,201 [12] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:18:40,201 [12] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:18:40,202 [12] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:18:40,202 [12] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:18:40,203 [12] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:18:40,203 [12] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-06 16:18:40,245 [11] INFO dn_lib.tools.log - reload config docs
2021-03-06 16:18:40,246 [11] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:18:40,247 [11] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:18:40,248 [11] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:18:40,249 [11] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:18:40,250 [11] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:18:40,252 [11] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:18:40,253 [11] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:18:40,254 [11] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:18:40,256 [11] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:18:40,256 [11] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:18:40,257 [11] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:18:40,258 [11] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:18:40,258 [11] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:18:40,259 [11] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:18:40,259 [11] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:18:40,260 [11] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:18:40,260 [11] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:18:40,261 [11] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:18:40,261 [11] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:18:40,262 [11] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:18:40,262 [11] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:18:40,263 [11] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:18:40,264 [11] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:18:40,264 [11] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:18:40,275 [11] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-06 16:18:40,299 [11] DEBUG dn_lib.tools.log - SQL: select task_filter_id, filter_title, filter_notes, filter_def, filter_class
 from dn_tasks_filters order by filter_order
2021-03-06 16:18:40,317 [11] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = 0 and var_name in ('active-task-filter')
2021-03-06 16:18:40,327 [11] DEBUG dn_lib.tools.log - SQL: select ft.tp, ft.synch_folder_id, ft.folder_id, ft.parent_id, ft.title
       , ft.des, ft.http_path, ft.lvl, dbo.folder_path(ft.folder_id) as folder_path
       , (select top 1 1 from dn_tasks where folder_id = ft.folder_id) as is_task
      from dbo.fnc_dn_folders(null, null) ft
      
      order by ft.synch_folder_id, ft.lvl, ft.title
2021-03-06 16:18:40,348 [11] DEBUG dn_lib.tools.log - SQL: select f.synch_folder_id, f.file_id, f.folder_id, f.file_name, f.dt_ins , null as found_file
       from dn_files f
       where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
        
	      where ft.synch_folder_id = f.synch_folder_id 
          and isnull(ft.folder_id, 0) = isnull(f.folder_id, 0))
2021-03-06 16:18:40,360 [11] DEBUG dn_lib.tools.log - SQL: select t3.*
      , tst.stato, tst.[order] as stato_order, isnull(tst.class, 'light') as stato_class, isnull(tst.title_plurale, '') as stato_title_plurale, isnull(tst.title_singolare, '') as stato_title_singolare
      , tp.priorita, tp.[order] as priorita_order, isnull(tp.class, 'light') as priorita_class, isnull(tp.title_plurale, '') as priorita_title_plurale, isnull(tp.title_singolare, '') as priorita_title_singolare
      , tt.tipo, tt.[order] as tipo_order, isnull(tt.class, 'light') as tipo_class, isnull(tt.title_plurale, '') as tipo_title_plurale, isnull(tt.title_singolare, '') as tipo_title_singolare
      , ts.stima, ts.[days] as stima_days, isnull(ts.class, 'light') as stima_class, isnull(ts.title_plurale, '') as stima_title_plurale, isnull(ts.title_singolare, '') as stima_title_singolare
      , (select top 1 1 from dn_tasks_notes where task_id = t3.task_id) as task_notes
      , (select top 1 1 from vw_task_allegati f2 where f2.task_id = t3.task_id 
          and not exists (select top 1 1 from dn_files_info where file_name = f2.file_name)) as task_files
  from (select t2.*, datediff(day, t2.dt_ref, getdate()) as diff_days
    from (select t.task_id, t.synch_folder_id, isnull(t.folder_id, f.folder_id) as folder_id
	   , t.file_id, t.title, t.[user], t.stato, t.priorita, t.tipo, t.stima, t.dt_ins, t.dt_upd
     , t.dt_lwt, (case when t.dt_ins > t.dt_upd then t.dt_ins else t.dt_upd end) as dt_ref
	  from dn_tasks t
    
	  left join dn_files f on f.file_id = t.file_id
    where (null is null or (null is not null and t.task_id = null)) ) t2
    where exists (select top 1 1 from dbo.fnc_dn_folders(null, null) ft 
	    where  ft.synch_folder_id = t2.synch_folder_id 
       and isnull(ft.folder_id, 0) = isnull(t2.folder_id, 0))) t3
   left join dn_task_stato tst on tst.stato = t3.stato
   left join dn_task_priorita tp on tp.priorita = t3.priorita
   left join dn_task_tipo tt on tt.tipo = t3.tipo
   left join dn_task_stima ts on ts.stima = t3.stima
   where 1 = 1 
2021-03-06 16:18:40,400 [11] DEBUG dn_lib.tools.log - SQL: select title_singolare, stato from dn_task_stato order by [order]
2021-03-06 16:18:40,429 [11] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, priorita as [value], [order] from dn_task_priorita
      ) t order by t.[order]
2021-03-06 16:18:40,533 [11] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [days]
       union select title_singolare as title, stima as [value], [days] from dn_task_stima 
       ) t order by t.[days]
2021-03-06 16:18:40,549 [11] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value], -1 as [order]
       union select title_singolare as title, tipo as [value], [order] from dn_task_tipo
       ) t order by t.[order]
2021-03-06 16:18:40,563 [11] DEBUG dn_lib.tools.log - SQL: select t.title, t.[value]
      from (select '' as title, '' as [value]
       union select nome as title, nome as [value] from users
       ) t order by 2
2021-03-06 16:18:46,284 [17] INFO dn_lib.tools.log - reload config docs
2021-03-06 16:18:46,285 [17] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:18:46,286 [17] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:18:46,288 [17] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:18:46,289 [17] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:18:46,290 [17] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:18:46,291 [17] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:18:46,292 [17] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:18:46,293 [17] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:18:46,293 [17] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:18:46,294 [17] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:18:46,295 [17] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:18:46,296 [17] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:18:46,296 [17] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:18:46,297 [17] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:18:46,298 [17] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:18:46,298 [17] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:18:46,299 [17] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:18:46,300 [17] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:18:46,300 [17] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:18:46,301 [17] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:18:46,301 [17] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:18:46,302 [17] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:18:46,302 [17] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:18:46,303 [17] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:18:46,303 [17] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-06 16:18:46,319 [7] INFO dn_lib.tools.log - reload config docs
2021-03-06 16:18:46,320 [7] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:18:46,321 [7] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:18:46,321 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:18:46,322 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:18:46,322 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:18:46,323 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:18:46,324 [7] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:18:46,324 [7] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:18:46,325 [7] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:18:46,325 [7] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:18:46,326 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:18:46,326 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:18:46,327 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:18:46,328 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:18:46,328 [7] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:18:46,329 [7] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:18:46,329 [7] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:18:46,329 [7] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:18:46,330 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:18:46,330 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:18:46,331 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:18:46,331 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:18:46,332 [7] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:18:46,332 [7] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:18:46,333 [7] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-06 16:18:46,345 [12] INFO dn_lib.tools.log - reload config docs
2021-03-06 16:18:46,346 [12] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:18:46,347 [12] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:18:46,347 [12] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:18:46,348 [12] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:18:46,348 [12] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:18:46,349 [12] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:18:46,349 [12] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:18:46,350 [12] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:18:46,350 [12] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:18:46,351 [12] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:18:46,351 [12] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:18:46,352 [12] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:18:46,352 [12] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:18:46,353 [12] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:18:46,353 [12] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:18:46,354 [12] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:18:46,354 [12] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:18:46,355 [12] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:18:46,355 [12] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:18:46,356 [12] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:18:46,356 [12] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:18:46,357 [12] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:18:46,357 [12] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:18:46,357 [12] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:18:46,358 [12] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-06 16:18:46,940 [11] INFO dn_lib.tools.log - reload config docs
2021-03-06 16:18:46,942 [11] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:18:46,944 [11] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:18:46,945 [11] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:18:46,946 [11] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:18:46,948 [11] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:18:46,949 [11] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:18:46,950 [11] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:18:46,950 [11] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:18:46,951 [11] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:18:46,952 [11] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:18:46,953 [11] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:18:46,953 [11] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:18:46,954 [11] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:18:46,954 [11] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:18:46,955 [11] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:18:46,955 [11] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:18:46,955 [11] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:18:46,956 [11] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:18:46,956 [11] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:18:46,957 [11] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:18:46,957 [11] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:18:46,958 [11] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:18:46,958 [11] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:18:46,959 [11] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:18:46,960 [11] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-06 16:18:47,003 [11] DEBUG dn_lib.tools.log - SQL: select distinct lower(nome) as nome from users
2021-03-06 16:18:47,007 [11] DEBUG dn_lib.tools.log - SQL: select free_txt, stato, priorita, tipo, stima, (case when [default] = 1 then '1' else '0' end) as [default]
        from dn_task_free_labels 
2021-03-06 16:18:47,011 [11] DEBUG dn_lib.tools.log - SQL: select file_name, type_info from dn_files_info
2021-03-06 16:18:47,014 [11] DEBUG dn_lib.tools.log - SQL: select extension, des_extension, open_comment, close_comment, type_content from dn_files_types
2021-03-06 16:18:47,017 [11] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = -1 and var_name in ('synch-files')
2021-03-06 16:18:47,019 [11] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = -1 and var_name in ('synch-folders')
2021-03-06 16:18:47,020 [11] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = -1 and var_name in ('synch-lwt')
2021-03-06 16:18:47,022 [11] DEBUG dn_lib.tools.log - SQL: select sf.synch_folder_id, sf.pc_name, sf.[title], sf.[des], sf.local_path, sf.http_path, sf.[user], sf.[password]
        from synch_folders sf where sf.pc_name = 'MOLINOVO' order by sf.[title]
2021-03-06 16:18:47,088 [11] DEBUG dn_lib.tools.log - elenco cartelle da sincronizzare
2021-03-06 16:18:47,089 [11] DEBUG dn_lib.tools.log - SQL: select sf.synch_folder_id, sf.pc_name, sf.[title], sf.[des], sf.local_path, sf.http_path, sf.[user], sf.[password]
        from synch_folders sf where sf.pc_name = 'MOLINOVO' order by sf.[title]
2021-03-06 16:18:47,090 [11] DEBUG dn_lib.tools.log -    - cartella di sincronizzazione 'dipa notess' - Deepa Notes, path: C:\root\todd\_test\dn
2021-03-06 16:18:47,092 [11] DEBUG dn_lib.tools.log - SQL: update dn_folders set readed = null;
      update dn_files set readed = null;
      update dn_tasks set readed = null;
2021-03-06 16:18:47,099 [11] DEBUG dn_lib.tools.log - elaboro la cartella C:\root\todd\_test\dn...
2021-03-06 16:18:47,101 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'aggiornamento dati';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'aggiornamento dati', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,110 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\aggiornamento dati
2021-03-06 16:18:47,114 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 2 
        and folder_name = 'via i prezzi custom di mapfre.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 2, 'via i prezzi custom di mapfre.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,118 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\aggiornamento dati\via i prezzi custom di mapfre.task
2021-03-06 16:18:47,127 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 3 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 3, null, left('via i prezzi custom di mapfre', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('via i prezzi custom di mapfre', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:35', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('via i prezzi custom di mapfre', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,132 [11] DEBUG dn_lib.tools.log - aggiunto task al database: via i prezzi custom di mapfre
2021-03-06 16:18:47,134 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 3 and file_name = 'via i prezzi mapfre custom.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 3, 'via i prezzi mapfre custom.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-26 16:00:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-26 16:00:11', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-26 16:00:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,139 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\aggiornamento dati\via i prezzi custom di mapfre.task\via i prezzi mapfre custom.sql
2021-03-06 16:18:47,146 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 2;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (2, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-26 16:00:11', 120));
2021-03-06 16:18:47,152 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\aggiornamento dati\via i prezzi custom di mapfre.task\via i prezzi mapfre custom.sql
2021-03-06 16:18:47,153 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 2) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:47,161 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'cauzioni';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'cauzioni', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,165 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\cauzioni
2021-03-06 16:18:47,167 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'condizione particolare tecnodue .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'condizione particolare tecnodue .task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,171 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\cauzioni\condizione particolare tecnodue .task
2021-03-06 16:18:47,176 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 5 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 5, null, left('condizione particolare tecnodue ', 150)
            , 'molina', convert(datetime, '2020-07-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', NULL, convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-30 00:00:00', 120), dt_upd = NULL
         , title = left('condizione particolare tecnodue ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('condizione particolare tecnodue ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,182 [11] DEBUG dn_lib.tools.log - aggiunto task al database: condizione particolare tecnodue 
2021-03-06 16:18:47,183 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 5 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 5, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 10:08:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-30 10:08:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 10:08:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,187 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\cauzioni\condizione particolare tecnodue .task\i.txt
2021-03-06 16:18:47,193 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 3;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (3, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 10:08:51', 120));
2021-03-06 16:18:47,196 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\cauzioni\condizione particolare tecnodue .task\i.txt
2021-03-06 16:18:47,198 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 3;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (3, 3, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 10:08:51', 120));
2021-03-06 16:18:47,201 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\cauzioni\condizione particolare tecnodue .task\i.txt
2021-03-06 16:18:47,202 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 5 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 5, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 11:50:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-30 11:50:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 11:50:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,206 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\cauzioni\condizione particolare tecnodue .task\sql.sql
2021-03-06 16:18:47,212 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 4;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (4, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 11:50:49', 120));
2021-03-06 16:18:47,215 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\cauzioni\condizione particolare tecnodue .task\sql.sql
2021-03-06 16:18:47,216 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 3) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:47,222 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'elimina note interne dopo invio mail.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'elimina note interne dopo invio mail.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,227 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\cauzioni\elimina note interne dopo invio mail.task
2021-03-06 16:18:47,232 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 6 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 6, null, left('elimina note interne dopo invio mail', 150)
            , 'molina', convert(datetime, '2020-07-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-29 00:00:00', 120), dt_upd = NULL
         , title = left('elimina note interne dopo invio mail', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('elimina note interne dopo invio mail', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,237 [11] DEBUG dn_lib.tools.log - aggiunto task al database: elimina note interne dopo invio mail
2021-03-06 16:18:47,238 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 6 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 6, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 16:10:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-29 16:10:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 16:10:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,242 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\cauzioni\elimina note interne dopo invio mail.task\i.txt
2021-03-06 16:18:47,250 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 5;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (5, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 16:10:35', 120));
2021-03-06 16:18:47,253 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\cauzioni\elimina note interne dopo invio mail.task\i.txt
2021-03-06 16:18:47,253 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 4;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (4, 5, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 16:10:35', 120));
2021-03-06 16:18:47,256 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\cauzioni\elimina note interne dopo invio mail.task\i.txt
2021-03-06 16:18:47,257 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 4) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:47,265 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'errore - riferimento a un oggetto non impostato sul rientro.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'errore - riferimento a un oggetto non impostato sul rientro.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,270 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\cauzioni\errore - riferimento a un oggetto non impostato sul rientro.task
2021-03-06 16:18:47,275 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 7 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 7, null, left('errore - riferimento a un oggetto non impostato sul rientro', 150)
            , 'molina', convert(datetime, '2020-07-27 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-27 00:00:00', 120), dt_upd = NULL
         , title = left('errore - riferimento a un oggetto non impostato sul rientro', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('errore - riferimento a un oggetto non impostato sul rientro', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,281 [11] DEBUG dn_lib.tools.log - aggiunto task al database: errore - riferimento a un oggetto non impostato sul rientro
2021-03-06 16:18:47,282 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 7 and file_name = 'dipa-20200727.log';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 7, 'dipa-20200727.log', '.log', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 12:18:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-27 12:18:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 12:18:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,286 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\cauzioni\errore - riferimento a un oggetto non impostato sul rientro.task\dipa-20200727.log
2021-03-06 16:18:47,287 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 7 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 7, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 15:33:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-27 15:33:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 15:33:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,291 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\cauzioni\errore - riferimento a un oggetto non impostato sul rientro.task\i.txt
2021-03-06 16:18:47,298 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 7;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (7, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 15:33:04', 120));
2021-03-06 16:18:47,301 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\cauzioni\errore - riferimento a un oggetto non impostato sul rientro.task\i.txt
2021-03-06 16:18:47,302 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 5;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (5, 7, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 15:33:04', 120));
2021-03-06 16:18:47,304 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\cauzioni\errore - riferimento a un oggetto non impostato sul rientro.task\i.txt
2021-03-06 16:18:47,305 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 7 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 7, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 15:30:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-27 15:30:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 15:30:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,309 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\cauzioni\errore - riferimento a un oggetto non impostato sul rientro.task\sql.sql
2021-03-06 16:18:47,314 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 8;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (8, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 15:30:20', 120));
2021-03-06 16:18:47,317 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\cauzioni\errore - riferimento a un oggetto non impostato sul rientro.task\sql.sql
2021-03-06 16:18:47,318 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 5) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:47,325 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'etichette automatiche arrivi resi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'etichette automatiche arrivi resi.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,329 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\cauzioni\etichette automatiche arrivi resi.task
2021-03-06 16:18:47,334 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 8 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 8, null, left('etichette automatiche arrivi resi', 150)
            , 'molina', convert(datetime, '2020-09-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-23 00:00:00', 120), dt_upd = NULL
         , title = left('etichette automatiche arrivi resi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('etichette automatiche arrivi resi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,340 [11] DEBUG dn_lib.tools.log - aggiunto task al database: etichette automatiche arrivi resi
2021-03-06 16:18:47,341 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 8 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 8, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-23 14:50:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-23 14:50:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-23 14:50:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,345 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\cauzioni\etichette automatiche arrivi resi.task\i.txt
2021-03-06 16:18:47,351 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 9;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (9, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-23 14:50:23', 120));
2021-03-06 16:18:47,354 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\cauzioni\etichette automatiche arrivi resi.task\i.txt
2021-03-06 16:18:47,355 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 6;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (6, 9, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-23 14:50:23', 120));
2021-03-06 16:18:47,357 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\cauzioni\etichette automatiche arrivi resi.task\i.txt
2021-03-06 16:18:47,358 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 6) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:47,365 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'filtro anno e altre cosette.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'filtro anno e altre cosette.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,369 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\cauzioni\filtro anno e altre cosette.task
2021-03-06 16:18:47,374 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 9 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 9, null, left('filtro anno e altre cosette', 150)
            , 'molina', convert(datetime, '2020-11-16 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-16 00:00:00', 120), dt_upd = NULL
         , title = left('filtro anno e altre cosette', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-16 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('filtro anno e altre cosette', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,380 [11] DEBUG dn_lib.tools.log - aggiunto task al database: filtro anno e altre cosette
2021-03-06 16:18:47,381 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 9 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 9, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-16 08:43:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-16 08:43:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-16 08:43:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,385 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\cauzioni\filtro anno e altre cosette.task\i.txt
2021-03-06 16:18:47,392 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 10;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (10, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-16 08:43:54', 120));
2021-03-06 16:18:47,394 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\cauzioni\filtro anno e altre cosette.task\i.txt
2021-03-06 16:18:47,395 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 7;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (7, 10, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-16 08:43:54', 120));
2021-03-06 16:18:47,398 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\cauzioni\filtro anno e altre cosette.task\i.txt
2021-03-06 16:18:47,399 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 7) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:47,405 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'mail in automatico al cliente per le garanzie anticipate.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'mail in automatico al cliente per le garanzie anticipate.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,409 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\cauzioni\mail in automatico al cliente per le garanzie anticipate.task
2021-03-06 16:18:47,414 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 10 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 10, null, left('mail in automatico al cliente per le garanzie anticipate', 150)
            , 'molina', convert(datetime, '2020-07-07 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-07 00:00:00', 120), dt_upd = NULL
         , title = left('mail in automatico al cliente per le garanzie anticipate', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:35', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-07 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('mail in automatico al cliente per le garanzie anticipate', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,419 [11] DEBUG dn_lib.tools.log - aggiunto task al database: mail in automatico al cliente per le garanzie anticipate
2021-03-06 16:18:47,420 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 10 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 10, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-07 09:55:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-07 09:55:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-07 09:55:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,426 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\cauzioni\mail in automatico al cliente per le garanzie anticipate.task\sql.sql
2021-03-06 16:18:47,431 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 11;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (11, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-07 09:55:47', 120));
2021-03-06 16:18:47,435 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\cauzioni\mail in automatico al cliente per le garanzie anticipate.task\sql.sql
2021-03-06 16:18:47,436 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 8) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:47,442 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'non voglio pi vedere la pratica.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'non voglio pi vedere la pratica.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,447 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\cauzioni\non voglio pi vedere la pratica.task
2021-03-06 16:18:47,451 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 11 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 11, null, left('non voglio pi vedere la pratica', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('non voglio pi vedere la pratica', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('non voglio pi vedere la pratica', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,456 [11] DEBUG dn_lib.tools.log - aggiunto task al database: non voglio pi vedere la pratica
2021-03-06 16:18:47,457 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 11 and file_name = 'i.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 11, 'i.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-26 16:30:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-26 16:30:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 16:30:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,461 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\cauzioni\non voglio pi vedere la pratica.task\i.png
2021-03-06 16:18:47,462 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 11 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 11, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-29 08:37:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-29 08:37:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 08:37:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,466 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\cauzioni\non voglio pi vedere la pratica.task\Thumbs.db
2021-03-06 16:18:47,467 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 9) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:47,473 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'pagina magento reso carcassa.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'pagina magento reso carcassa.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,478 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\cauzioni\pagina magento reso carcassa.task
2021-03-06 16:18:47,482 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 12 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 12, null, left('pagina magento reso carcassa', 150)
            , 'molina', convert(datetime, '2020-09-24 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'settimana', convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-24 00:00:00', 120), dt_upd = NULL
         , title = left('pagina magento reso carcassa', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'settimana', dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('pagina magento reso carcassa', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('settimana', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,487 [11] DEBUG dn_lib.tools.log - aggiunto task al database: pagina magento reso carcassa
2021-03-06 16:18:47,488 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 12 
        and folder_name = 'bck';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 12, 'bck', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,493 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\cauzioni\pagina magento reso carcassa.task\bck
2021-03-06 16:18:47,494 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 13 and file_name = 'mysql.bck.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 13, 'mysql.bck.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-24 12:33:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-24 12:33:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-24 12:33:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,498 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\cauzioni\pagina magento reso carcassa.task\bck\mysql.bck.sql
2021-03-06 16:18:47,503 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 14;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (14, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-24 12:33:55', 120));
2021-03-06 16:18:47,506 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\cauzioni\pagina magento reso carcassa.task\bck\mysql.bck.sql
2021-03-06 16:18:47,507 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 13 and file_name = 'rpc-index.bck.php';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 13, 'rpc-index.bck.php', '.php', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-24 11:00:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-24 11:00:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-24 11:00:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,511 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\cauzioni\pagina magento reso carcassa.task\bck\rpc-index.bck.php
2021-03-06 16:18:47,512 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 13 and file_name = 'scheduler.bck.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 13, 'scheduler.bck.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-24 10:57:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-24 10:57:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-24 10:57:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,516 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\cauzioni\pagina magento reso carcassa.task\bck\scheduler.bck.cs
2021-03-06 16:18:47,522 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 16;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (16, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-24 10:57:35', 120));
2021-03-06 16:18:47,525 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\cauzioni\pagina magento reso carcassa.task\bck\scheduler.bck.cs
2021-03-06 16:18:47,526 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 10) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:47,532 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 12 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 12, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-19 11:12:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-19 11:12:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-19 11:12:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,536 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\cauzioni\pagina magento reso carcassa.task\i.txt
2021-03-06 16:18:47,542 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 17;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (17, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-19 11:12:13', 120));
2021-03-06 16:18:47,546 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\cauzioni\pagina magento reso carcassa.task\i.txt
2021-03-06 16:18:47,546 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 10;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (10, 17, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-19 11:12:13', 120));
2021-03-06 16:18:47,549 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\cauzioni\pagina magento reso carcassa.task\i.txt
2021-03-06 16:18:47,550 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 12 and file_name = 'mysql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 12, 'mysql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-25 14:33:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-25 14:33:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-25 14:33:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,554 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\cauzioni\pagina magento reso carcassa.task\mysql.sql
2021-03-06 16:18:47,559 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 18;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (18, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-25 14:33:50', 120));
2021-03-06 16:18:47,561 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\cauzioni\pagina magento reso carcassa.task\mysql.sql
2021-03-06 16:18:47,562 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 12 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 12, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-08 14:54:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-08 14:54:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-08 14:54:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,567 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\cauzioni\pagina magento reso carcassa.task\sql.sql
2021-03-06 16:18:47,571 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 19;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (19, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-08 14:54:58', 120));
2021-03-06 16:18:47,574 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\cauzioni\pagina magento reso carcassa.task\sql.sql
2021-03-06 16:18:47,574 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 10) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:47,576 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'revisione cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'revisione cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,580 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\cauzioni\revisione cauzioni.task
2021-03-06 16:18:47,585 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 14 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 14, null, left('revisione cauzioni', 150)
            , 'molina', convert(datetime, '2020-09-04 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'giornata', convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-04 00:00:00', 120), dt_upd = NULL
         , title = left('revisione cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-04 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,590 [11] DEBUG dn_lib.tools.log - aggiunto task al database: revisione cauzioni
2021-03-06 16:18:47,591 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 14 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 14, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-11 16:52:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-11 16:52:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-11 16:52:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,596 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\cauzioni\revisione cauzioni.task\i.txt
2021-03-06 16:18:47,602 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 20;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (20, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-11 16:52:48', 120));
2021-03-06 16:18:47,605 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\cauzioni\revisione cauzioni.task\i.txt
2021-03-06 16:18:47,605 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 11;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (11, 20, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-11 16:52:48', 120));
2021-03-06 16:18:47,608 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\cauzioni\revisione cauzioni.task\i.txt
2021-03-06 16:18:47,609 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 14 and file_name = 'lavs_resi.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 14, 'lavs_resi.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-08 17:20:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-08 17:20:41', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-08 17:20:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,613 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\cauzioni\revisione cauzioni.task\lavs_resi.sql
2021-03-06 16:18:47,617 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 21;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (21, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-08 17:20:41', 120));
2021-03-06 16:18:47,620 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\cauzioni\revisione cauzioni.task\lavs_resi.sql
2021-03-06 16:18:47,620 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 11) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:47,627 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'revisione colonne griglia cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'revisione colonne griglia cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,632 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\cauzioni\revisione colonne griglia cauzioni.task
2021-03-06 16:18:47,637 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 15 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 15, null, left('revisione colonne griglia cauzioni', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('revisione colonne griglia cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione colonne griglia cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,644 [11] DEBUG dn_lib.tools.log - aggiunto task al database: revisione colonne griglia cauzioni
2021-03-06 16:18:47,644 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 15 and file_name = 'img.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 15, 'img.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-26 11:53:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-26 11:53:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 11:53:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,648 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\cauzioni\revisione colonne griglia cauzioni.task\img.png
2021-03-06 16:18:47,649 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 12) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:47,655 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'ricerca lavorazioni e gestione note.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'ricerca lavorazioni e gestione note.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,660 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\cauzioni\ricerca lavorazioni e gestione note.task
2021-03-06 16:18:47,664 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 16 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 16, null, left('ricerca lavorazioni e gestione note', 150)
            , 'molina', convert(datetime, '2020-09-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'giornata', convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-17 00:00:00', 120), dt_upd = NULL
         , title = left('ricerca lavorazioni e gestione note', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ricerca lavorazioni e gestione note', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,670 [11] DEBUG dn_lib.tools.log - aggiunto task al database: ricerca lavorazioni e gestione note
2021-03-06 16:18:47,671 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 13) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:47,677 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'ritocchi cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'ritocchi cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,682 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\cauzioni\ritocchi cauzioni.task
2021-03-06 16:18:47,687 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 17 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 17, null, left('ritocchi cauzioni', 150)
            , 'molina', convert(datetime, '2020-09-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-21 00:00:00', 120), dt_upd = NULL
         , title = left('ritocchi cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ritocchi cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,692 [11] DEBUG dn_lib.tools.log - aggiunto task al database: ritocchi cauzioni
2021-03-06 16:18:47,693 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 17 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 17, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-21 09:13:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-21 09:13:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-21 09:13:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,697 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\cauzioni\ritocchi cauzioni.task\i.txt
2021-03-06 16:18:47,703 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 23;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (23, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-21 09:13:06', 120));
2021-03-06 16:18:47,706 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\cauzioni\ritocchi cauzioni.task\i.txt
2021-03-06 16:18:47,707 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 14;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (14, 23, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-21 09:13:06', 120));
2021-03-06 16:18:47,710 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\cauzioni\ritocchi cauzioni.task\i.txt
2021-03-06 16:18:47,710 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 14) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:47,718 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'SI-NO-URGENTE nella griglia cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'SI-NO-URGENTE nella griglia cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,722 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\cauzioni\SI-NO-URGENTE nella griglia cauzioni.task
2021-03-06 16:18:47,728 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 18 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 18, null, left('SI-NO-URGENTE nella griglia cauzioni', 150)
            , 'molina', convert(datetime, '2020-09-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-14 00:00:00', 120), dt_upd = NULL
         , title = left('SI-NO-URGENTE nella griglia cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('SI-NO-URGENTE nella griglia cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,734 [11] DEBUG dn_lib.tools.log - aggiunto task al database: SI-NO-URGENTE nella griglia cauzioni
2021-03-06 16:18:47,736 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 18 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 18, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-15 14:12:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-15 14:12:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-15 14:12:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,739 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\cauzioni\SI-NO-URGENTE nella griglia cauzioni.task\i.txt
2021-03-06 16:18:47,747 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 24;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (24, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-15 14:12:39', 120));
2021-03-06 16:18:47,749 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\cauzioni\SI-NO-URGENTE nella griglia cauzioni.task\i.txt
2021-03-06 16:18:47,749 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 15;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (15, 24, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-15 14:12:39', 120));
2021-03-06 16:18:47,753 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\cauzioni\SI-NO-URGENTE nella griglia cauzioni.task\i.txt
2021-03-06 16:18:47,753 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 15) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:47,760 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'crm';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'crm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,765 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\crm
2021-03-06 16:18:47,765 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 19 
        and folder_name = 'gestione codici pi ricercati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 19, 'gestione codici pi ricercati.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,770 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\crm\gestione codici pi ricercati.task
2021-03-06 16:18:47,775 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 20 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 20, null, left('gestione codici pi ricercati', 150)
            , 'molina', convert(datetime, '2020-11-02 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-02 00:00:00', 120), dt_upd = NULL
         , title = left('gestione codici pi ricercati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione codici pi ricercati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,781 [11] DEBUG dn_lib.tools.log - aggiunto task al database: gestione codici pi ricercati
2021-03-06 16:18:47,782 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 20 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 20, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-02 16:32:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-02 16:32:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-02 16:32:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,786 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\gestione codici pi ricercati.task\i.txt
2021-03-06 16:18:47,792 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 25;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (25, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-02 16:32:13', 120));
2021-03-06 16:18:47,795 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\crm\gestione codici pi ricercati.task\i.txt
2021-03-06 16:18:47,796 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 16;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (16, 25, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-02 16:32:13', 120));
2021-03-06 16:18:47,799 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\crm\gestione codici pi ricercati.task\i.txt
2021-03-06 16:18:47,800 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 16) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:47,806 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 19 
        and folder_name = 'pulizia crm.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 19, 'pulizia crm.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,810 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\crm\pulizia crm.task
2021-03-06 16:18:47,816 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 21 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 21, null, left('pulizia crm', 150)
            , 'molina', convert(datetime, '2020-05-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-05-26 00:00:00', 120), dt_upd = NULL
         , title = left('pulizia crm', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-05-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('pulizia crm', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,823 [11] DEBUG dn_lib.tools.log - aggiunto task al database: pulizia crm
2021-03-06 16:18:47,824 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 21 
        and folder_name = '_oldies';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 21, '_oldies', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,828 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies
2021-03-06 16:18:47,829 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'App_Code';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'App_Code', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,835 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\App_Code
2021-03-06 16:18:47,836 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 23 and file_name = 'backup.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 23, 'backup.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-12-13 15:11:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-12-13 15:11:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-12-13 15:11:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,840 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\App_Code\backup.cs
2021-03-06 16:18:47,849 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 26;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (26, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-12-13 15:11:40', 120));
2021-03-06 16:18:47,852 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\App_Code\backup.cs
2021-03-06 16:18:47,853 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 23 and file_name = 'db_utilities.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 23, 'db_utilities.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-26 10:47:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-26 10:47:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-26 10:47:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,858 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\App_Code\db_utilities.cs
2021-03-06 16:18:47,866 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 27;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (27, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-26 10:47:00', 120));
2021-03-06 16:18:47,873 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\App_Code\db_utilities.cs
2021-03-06 16:18:47,874 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:47,881 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'pages';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'pages', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,885 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\pages
2021-03-06 16:18:47,886 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'recovery.aspx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'recovery.aspx', '.aspx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-10-20 17:46:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-10-20 17:46:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-20 17:46:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,890 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\pages\recovery.aspx
2021-03-06 16:18:47,891 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'recovery.aspx.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'recovery.aspx.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-26 10:46:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-26 10:46:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-26 10:46:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,896 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\pages\recovery.aspx.cs
2021-03-06 16:18:47,909 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 29;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (29, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-26 10:46:14', 120));
2021-03-06 16:18:47,913 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\pages\recovery.aspx.cs
2021-03-06 16:18:47,914 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'rifs.aspx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'rifs.aspx', '.aspx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-05-08 14:05:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-05-08 14:05:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-05-08 14:05:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,918 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\pages\rifs.aspx
2021-03-06 16:18:47,919 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'rifs.aspx.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'rifs.aspx.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-09-16 17:25:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-09-16 17:25:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-09-16 17:25:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,924 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\pages\rifs.aspx.cs
2021-03-06 16:18:47,930 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 31;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (31, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-09-16 17:25:52', 120));
2021-03-06 16:18:47,933 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\pages\rifs.aspx.cs
2021-03-06 16:18:47,934 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'sys.css';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'sys.css', '.css', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,939 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\pages\sys.css
2021-03-06 16:18:47,939 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'tables.aspx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'tables.aspx', '.aspx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-05-08 14:05:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-05-08 14:05:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-05-08 14:05:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,944 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\pages\tables.aspx
2021-03-06 16:18:47,945 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'tables.aspx.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'tables.aspx.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2018-09-21 17:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2018-09-21 17:44:37', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-09-21 17:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,949 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\pages\tables.aspx.cs
2021-03-06 16:18:47,957 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 34;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (34, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2018-09-21 17:44:37', 120));
2021-03-06 16:18:47,965 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\pages\tables.aspx.cs
2021-03-06 16:18:47,966 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:47,967 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'pages_xml';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'pages_xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,971 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\pages_xml
2021-03-06 16:18:47,972 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 25 and file_name = 'pageBackup.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 25, 'pageBackup.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,976 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\pages_xml\pageBackup.xml
2021-03-06 16:18:47,977 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 25 and file_name = 'pageBackupImport.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 25, 'pageBackupImport.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,982 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\pages_xml\pageBackupImport.xml
2021-03-06 16:18:47,982 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 25 and file_name = 'pageBackups.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 25, 'pageBackups.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-25 17:12:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-25 17:12:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-25 17:12:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,986 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\pages_xml\pageBackups.xml
2021-03-06 16:18:47,988 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 25 and file_name = 'pageImport.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 25, 'pageImport.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-10-16 14:49:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-10-16 14:49:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-16 14:49:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,993 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\pages_xml\pageImport.xml
2021-03-06 16:18:47,993 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:47,995 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'schemas';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'schemas', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:47,999 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\schemas
2021-03-06 16:18:48,000 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td19_metaq1.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td19_metaq1.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-06-27 17:35:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-06-27 17:35:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-06-27 17:35:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,004 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\schemas\td19_metaq1.xml
2021-03-06 16:18:48,005 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td19_schemaq1.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td19_schemaq1.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-06-27 17:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-06-27 17:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-06-27 17:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,011 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\schemas\td19_schemaq1.xml
2021-03-06 16:18:48,012 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'tdsql_metaq3.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'tdsql_metaq3.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-05-13 07:49:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-05-13 07:49:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-05-13 07:49:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,017 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\schemas\tdsql_metaq3.xml
2021-03-06 16:18:48,017 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'tdsql_schemaq3.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'tdsql_schemaq3.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-05-13 08:52:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-05-13 08:52:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-05-13 08:52:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,021 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\schemas\tdsql_schemaq3.xml
2021-03-06 16:18:48,022 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_metaq1.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_metaq1.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:05:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:05:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:05:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,026 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\schemas\td_metaq1.xml
2021-03-06 16:18:48,027 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_metaq2.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_metaq2.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:05:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:05:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:05:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,031 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\schemas\td_metaq2.xml
2021-03-06 16:18:48,031 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_metaq3.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_metaq3.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:05:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:05:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:05:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,035 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\schemas\td_metaq3.xml
2021-03-06 16:18:48,036 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_schemaq1.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_schemaq1.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:04:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:04:57', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:04:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,042 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\schemas\td_schemaq1.xml
2021-03-06 16:18:48,042 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_schemaq2.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_schemaq2.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:06:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:06:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:06:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,047 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\schemas\td_schemaq2.xml
2021-03-06 16:18:48,048 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_schemaq3.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_schemaq3.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-07 16:41:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-07 16:41:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-07 16:41:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,053 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\schemas\td_schemaq3.xml
2021-03-06 16:18:48,054 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'web_meta2016.05.01.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'web_meta2016.05.01.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-10-04 10:03:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-10-04 10:03:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-10-04 10:03:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,059 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\schemas\web_meta2016.05.01.xml
2021-03-06 16:18:48,060 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'web_schema2016.05.01.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'web_schema2016.05.01.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-08 10:20:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-08 10:20:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-08 10:20:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,064 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\schemas\web_schema2016.05.01.xml
2021-03-06 16:18:48,065 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,066 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'scripts';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'scripts', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,070 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\scripts
2021-03-06 16:18:48,071 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'clean_all.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'clean_all.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,075 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\scripts\clean_all.xml
2021-03-06 16:18:48,076 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'clean_cache.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'clean_cache.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,080 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\scripts\clean_cache.xml
2021-03-06 16:18:48,081 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'clean_zz.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'clean_zz.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,085 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\scripts\clean_zz.xml
2021-03-06 16:18:48,086 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'initweb.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'initweb.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,090 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\scripts\initweb.xml
2021-03-06 16:18:48,091 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_codici_attivo.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_codici_attivo.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-22 10:16:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-22 10:16:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-22 10:16:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,096 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\scripts\init_codici_attivo.xml
2021-03-06 16:18:48,097 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_enums.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_enums.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2018-09-21 15:17:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2018-09-21 15:17:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-09-21 15:17:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,101 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\scripts\init_enums.xml
2021-03-06 16:18:48,101 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_ricerche.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_ricerche.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-11-09 16:11:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-11-09 16:11:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-11-09 16:11:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,105 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\scripts\init_ricerche.xml
2021-03-06 16:18:48,106 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_tpusers.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_tpusers.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,111 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\scripts\init_tpusers.xml
2021-03-06 16:18:48,112 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_users.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_users.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,116 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\scripts\init_users.xml
2021-03-06 16:18:48,117 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'resetdb.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'resetdb.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,122 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\crm\pulizia crm.task\_oldies\scripts\resetdb.xml
2021-03-06 16:18:48,123 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,124 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,125 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,126 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'ditex';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'ditex', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,130 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ditex
2021-03-06 16:18:48,131 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 28 
        and folder_name = 'struttura base, pagine web, tabelle.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 28, 'struttura base, pagine web, tabelle.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,135 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ditex\struttura base, pagine web, tabelle.task
2021-03-06 16:18:48,141 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 29 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 29, null, left('struttura base, pagine web, tabelle', 150)
            , 'molina', convert(datetime, '2020-12-04 00:00:00', 120), NULL, 1
            , 'sospeso', NULL, 'aggiunta', 'settimana', convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-12-04 00:00:00', 120), dt_upd = NULL
         , title = left('struttura base, pagine web, tabelle', 150), [user] = 'molina'
         , stato = 'sospeso', priorita = NULL
         , tipo = 'aggiunta', stima = 'settimana', dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-12-04 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('struttura base, pagine web, tabelle', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('sospeso', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('settimana', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,147 [11] DEBUG dn_lib.tools.log - aggiunto task al database: struttura base, pagine web, tabelle
2021-03-06 16:18:48,148 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 29 and file_name = 'Circolare 4E Agenzia Entrate Iperammortamento 30-03-2017.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 29, 'Circolare 4E Agenzia Entrate Iperammortamento 30-03-2017.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-20 16:01:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-20 16:01:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-20 16:01:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,152 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ditex\struttura base, pagine web, tabelle.task\Circolare 4E Agenzia Entrate Iperammortamento 30-03-2017.pdf
2021-03-06 16:18:48,153 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 29 and file_name = 'ditex.msg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 29, 'ditex.msg', '.msg', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-20 16:01:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-20 16:01:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-20 16:01:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,158 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ditex\struttura base, pagine web, tabelle.task\ditex.msg
2021-03-06 16:18:48,159 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 29 and file_name = 'ERAGON-COMMESSE.doc';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 29, 'ERAGON-COMMESSE.doc', '.doc', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-20 16:01:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-20 16:01:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-20 16:01:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,164 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ditex\struttura base, pagine web, tabelle.task\ERAGON-COMMESSE.doc
2021-03-06 16:18:48,164 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 29 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 29, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-12-14 11:06:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-12-14 11:06:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-12-14 11:06:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,169 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ditex\struttura base, pagine web, tabelle.task\i.txt
2021-03-06 16:18:48,176 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 64;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (64, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-12-14 11:06:05', 120));
2021-03-06 16:18:48,179 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ditex\struttura base, pagine web, tabelle.task\i.txt
2021-03-06 16:18:48,179 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 18;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (18, 64, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-12-14 11:06:05', 120));
2021-03-06 16:18:48,181 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ditex\struttura base, pagine web, tabelle.task\i.txt
2021-03-06 16:18:48,183 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 18) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,190 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'estrazioni';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'estrazioni', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,195 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\estrazioni
2021-03-06 16:18:48,196 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 30 
        and folder_name = 'estrazione dati kromeda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 30, 'estrazione dati kromeda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,200 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\estrazioni\estrazione dati kromeda.task
2021-03-06 16:18:48,205 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 31 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 31, null, left('estrazione dati kromeda', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('estrazione dati kromeda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('estrazione dati kromeda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,210 [11] DEBUG dn_lib.tools.log - aggiunto task al database: estrazione dati kromeda
2021-03-06 16:18:48,211 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 31 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 31, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 12:24:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 12:24:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 12:24:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,216 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\estrazioni\estrazione dati kromeda.task\content.sql
2021-03-06 16:18:48,222 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 65;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (65, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 12:24:23', 120));
2021-03-06 16:18:48,225 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\estrazioni\estrazione dati kromeda.task\content.sql
2021-03-06 16:18:48,226 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 19) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,233 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'lavorazioni';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'lavorazioni', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:45:44', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:44', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:44', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,237 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni
2021-03-06 16:18:48,237 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'accetta lavorazione senza invio mail.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'accetta lavorazione senza invio mail.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,243 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\accetta lavorazione senza invio mail.task
2021-03-06 16:18:48,248 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 33 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 33, null, left('accetta lavorazione senza invio mail', 150)
            , 'molina', convert(datetime, '2020-07-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-08 00:00:00', 120), dt_upd = NULL
         , title = left('accetta lavorazione senza invio mail', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('accetta lavorazione senza invio mail', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,254 [11] DEBUG dn_lib.tools.log - aggiunto task al database: accetta lavorazione senza invio mail
2021-03-06 16:18:48,254 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 33 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 33, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-09 10:09:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-09 10:09:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-09 10:09:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,258 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\accetta lavorazione senza invio mail.task\sql.sql
2021-03-06 16:18:48,259 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 20) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,265 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'aggiunto passaggio da ritirare.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'aggiunto passaggio da ritirare.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,269 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\aggiunto passaggio da ritirare.task
2021-03-06 16:18:48,274 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 34 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 34, null, left('aggiunto passaggio da ritirare', 150)
            , 'molina', convert(datetime, '2020-09-01 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezzora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-01 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunto passaggio da ritirare', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-01 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunto passaggio da ritirare', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,281 [11] DEBUG dn_lib.tools.log - aggiunto task al database: aggiunto passaggio da ritirare
2021-03-06 16:18:48,282 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 34 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 34, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-01 11:06:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-01 11:06:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-01 11:06:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,286 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\aggiunto passaggio da ritirare.task\i.txt
2021-03-06 16:18:48,292 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 67;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (67, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-01 11:06:59', 120));
2021-03-06 16:18:48,294 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\aggiunto passaggio da ritirare.task\i.txt
2021-03-06 16:18:48,294 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 21;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (21, 67, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-01 11:06:59', 120));
2021-03-06 16:18:48,299 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\lavorazioni\aggiunto passaggio da ritirare.task\i.txt
2021-03-06 16:18:48,299 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 34 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 34, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-01 11:07:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-01 11:07:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-01 11:07:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,304 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\aggiunto passaggio da ritirare.task\sql.sql
2021-03-06 16:18:48,308 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 68;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (68, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-01 11:07:18', 120));
2021-03-06 16:18:48,311 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\aggiunto passaggio da ritirare.task\sql.sql
2021-03-06 16:18:48,312 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 21) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,318 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'controlli uploat sito.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'controlli uploat sito.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,322 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\controlli uploat sito.task
2021-03-06 16:18:48,328 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 35 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 35, null, left('controlli uploat sito', 150)
            , 'molina', convert(datetime, '2020-10-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-09 00:00:00', 120), dt_upd = NULL
         , title = left('controlli uploat sito', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('controlli uploat sito', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,333 [11] DEBUG dn_lib.tools.log - aggiunto task al database: controlli uploat sito
2021-03-06 16:18:48,334 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 35 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 35, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-09 16:42:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-09 16:42:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-09 16:42:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,338 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\controlli uploat sito.task\i.txt
2021-03-06 16:18:48,344 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 69;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (69, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-09 16:42:01', 120));
2021-03-06 16:18:48,347 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\controlli uploat sito.task\i.txt
2021-03-06 16:18:48,348 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 22;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (22, 69, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-09 16:42:01', 120));
2021-03-06 16:18:48,351 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\lavorazioni\controlli uploat sito.task\i.txt
2021-03-06 16:18:48,352 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 22) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,359 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'data aggiornamento lavorazioni sul sito.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'data aggiornamento lavorazioni sul sito.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,364 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\data aggiornamento lavorazioni sul sito.task
2021-03-06 16:18:48,369 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 36 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 36, null, left('data aggiornamento lavorazioni sul sito', 150)
            , 'molina', convert(datetime, '2020-09-03 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezzora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-03 00:00:00', 120), dt_upd = NULL
         , title = left('data aggiornamento lavorazioni sul sito', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-03 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('data aggiornamento lavorazioni sul sito', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,374 [11] DEBUG dn_lib.tools.log - aggiunto task al database: data aggiornamento lavorazioni sul sito
2021-03-06 16:18:48,375 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 36 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 36, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 10:37:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-03 10:37:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-03 10:37:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,380 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\data aggiornamento lavorazioni sul sito.task\i.txt
2021-03-06 16:18:48,386 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 70;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (70, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 10:37:39', 120));
2021-03-06 16:18:48,389 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\data aggiornamento lavorazioni sul sito.task\i.txt
2021-03-06 16:18:48,389 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 23;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (23, 70, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 10:37:39', 120));
2021-03-06 16:18:48,393 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\lavorazioni\data aggiornamento lavorazioni sul sito.task\i.txt
2021-03-06 16:18:48,393 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 23) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,401 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'facilitare l''uso del reso no rip.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'facilitare l''uso del reso no rip.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,405 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\facilitare l'uso del reso no rip.task
2021-03-06 16:18:48,410 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 37 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 37, null, left('facilitare l''uso del reso no rip', 150)
            , 'molina', convert(datetime, '2020-07-01 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', 'mezza', convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-01 00:00:00', 120), dt_upd = NULL
         , title = left('facilitare l''uso del reso no rip', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:40:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-01 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('facilitare l''uso del reso no rip', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,415 [11] DEBUG dn_lib.tools.log - aggiunto task al database: facilitare l'uso del reso no rip
2021-03-06 16:18:48,416 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 37 and file_name = '1.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 37, '1.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-01 16:41:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-01 16:41:08', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-01 16:41:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,420 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\facilitare l'uso del reso no rip.task\1.png
2021-03-06 16:18:48,421 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 37 and file_name = '2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 37, '2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-01 16:41:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-01 16:41:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-01 16:41:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,425 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\facilitare l'uso del reso no rip.task\2.png
2021-03-06 16:18:48,426 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 37 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 37, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-02 14:27:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-02 14:27:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 14:27:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,430 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\facilitare l'uso del reso no rip.task\sql.sql
2021-03-06 16:18:48,435 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 73;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (73, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-02 14:27:03', 120));
2021-03-06 16:18:48,438 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\facilitare l'uso del reso no rip.task\sql.sql
2021-03-06 16:18:48,439 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 24) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,445 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'gestione porta lui.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'gestione porta lui.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,449 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\gestione porta lui.task
2021-03-06 16:18:48,455 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 38 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 38, null, left('gestione porta lui', 150)
            , 'molina', convert(datetime, '2020-09-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'facile', 'ora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-15 00:00:00', 120), dt_upd = NULL
         , title = left('gestione porta lui', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione porta lui', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,461 [11] DEBUG dn_lib.tools.log - aggiunto task al database: gestione porta lui
2021-03-06 16:18:48,461 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 25) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,468 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'gestione tasto INVIO note cliente.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'gestione tasto INVIO note cliente.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,472 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\gestione tasto INVIO note cliente.task
2021-03-06 16:18:48,477 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 39 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 39, null, left('gestione tasto INVIO note cliente', 150)
            , 'molina', convert(datetime, '2020-09-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-14 00:00:00', 120), dt_upd = NULL
         , title = left('gestione tasto INVIO note cliente', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione tasto INVIO note cliente', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,482 [11] DEBUG dn_lib.tools.log - aggiunto task al database: gestione tasto INVIO note cliente
2021-03-06 16:18:48,483 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 39 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 39, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-14 15:58:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-14 15:58:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-14 15:58:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,488 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\gestione tasto INVIO note cliente.task\i.txt
2021-03-06 16:18:48,493 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 74;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (74, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-14 15:58:02', 120));
2021-03-06 16:18:48,497 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\gestione tasto INVIO note cliente.task\i.txt
2021-03-06 16:18:48,497 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 26;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (26, 74, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-14 15:58:02', 120));
2021-03-06 16:18:48,500 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\lavorazioni\gestione tasto INVIO note cliente.task\i.txt
2021-03-06 16:18:48,501 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 26) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,508 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'lavorazioni - mail inchiodata.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'lavorazioni - mail inchiodata.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,513 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\lavorazioni - mail inchiodata.task
2021-03-06 16:18:48,517 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 40 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 40, null, left('lavorazioni - mail inchiodata', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('lavorazioni - mail inchiodata', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('lavorazioni - mail inchiodata', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,523 [11] DEBUG dn_lib.tools.log - aggiunto task al database: lavorazioni - mail inchiodata
2021-03-06 16:18:48,524 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 40 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 40, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-27 10:27:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-27 10:27:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-27 10:27:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,528 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\lavorazioni - mail inchiodata.task\content.sql
2021-03-06 16:18:48,533 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 75;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (75, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-27 10:27:34', 120));
2021-03-06 16:18:48,536 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\lavorazioni - mail inchiodata.task\content.sql
2021-03-06 16:18:48,536 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 27) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,543 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'ma i numeri di telefono da dove arrivano.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'ma i numeri di telefono da dove arrivano.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:41', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,547 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\ma i numeri di telefono da dove arrivano.task
2021-03-06 16:18:48,549 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 41 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 41, null, left('ma i numeri di telefono da dove arrivano', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ma i numeri di telefono da dove arrivano', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:41', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ma i numeri di telefono da dove arrivano', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,554 [11] DEBUG dn_lib.tools.log - aggiunto task al database: ma i numeri di telefono da dove arrivano
2021-03-06 16:18:48,555 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 41 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 41, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 09:24:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 09:24:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 09:24:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,559 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\ma i numeri di telefono da dove arrivano.task\i.txt
2021-03-06 16:18:48,565 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 76;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (76, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 09:24:12', 120));
2021-03-06 16:18:48,568 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\ma i numeri di telefono da dove arrivano.task\i.txt
2021-03-06 16:18:48,569 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 28;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (28, 76, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 09:24:12', 120));
2021-03-06 16:18:48,573 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\lavorazioni\ma i numeri di telefono da dove arrivano.task\i.txt
2021-03-06 16:18:48,573 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 41 and file_name = 'tel lav.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 41, 'tel lav.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-09 17:47:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-09 17:47:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-09 17:47:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,578 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\ma i numeri di telefono da dove arrivano.task\tel lav.png
2021-03-06 16:18:48,578 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 41 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 41, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-20 15:06:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-20 15:06:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-20 15:06:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,583 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\ma i numeri di telefono da dove arrivano.task\Thumbs.db
2021-03-06 16:18:48,584 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 28) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,590 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'mail - prenota ritiri errata.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'mail - prenota ritiri errata.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,595 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\mail - prenota ritiri errata.task
2021-03-06 16:18:48,597 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 42 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 42, null, left('mail - prenota ritiri errata', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('mail - prenota ritiri errata', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('mail - prenota ritiri errata', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,602 [11] DEBUG dn_lib.tools.log - aggiunto task al database: mail - prenota ritiri errata
2021-03-06 16:18:48,603 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 42 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 42, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 09:29:44', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-05 09:29:44', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 09:29:44', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,608 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\mail - prenota ritiri errata.task\content.sql
2021-03-06 16:18:48,614 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 79;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (79, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 09:29:44', 120));
2021-03-06 16:18:48,617 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\mail - prenota ritiri errata.task\content.sql
2021-03-06 16:18:48,617 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 29) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,624 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'modifica codici scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'modifica codici scheda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,628 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\modifica codici scheda.task
2021-03-06 16:18:48,633 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 43 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 43, null, left('modifica codici scheda', 150)
            , 'molina', convert(datetime, '2020-09-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-29 00:00:00', 120), dt_upd = NULL
         , title = left('modifica codici scheda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('modifica codici scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,639 [11] DEBUG dn_lib.tools.log - aggiunto task al database: modifica codici scheda
2021-03-06 16:18:48,639 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 43 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 43, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-29 17:55:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-29 17:55:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-29 17:55:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,644 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\modifica codici scheda.task\i.txt
2021-03-06 16:18:48,649 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 80;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (80, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-29 17:55:03', 120));
2021-03-06 16:18:48,652 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\modifica codici scheda.task\i.txt
2021-03-06 16:18:48,653 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 30;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (30, 80, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-29 17:55:03', 120));
2021-03-06 16:18:48,656 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\lavorazioni\modifica codici scheda.task\i.txt
2021-03-06 16:18:48,658 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 30) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,664 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'nuova scheda - aggiungere anche il reso.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'nuova scheda - aggiungere anche il reso.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,668 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\nuova scheda - aggiungere anche il reso.task
2021-03-06 16:18:48,673 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 44 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 44, null, left('nuova scheda - aggiungere anche il reso', 150)
            , 'molina', convert(datetime, '2020-07-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-08 00:00:00', 120), dt_upd = NULL
         , title = left('nuova scheda - aggiungere anche il reso', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuova scheda - aggiungere anche il reso', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,679 [11] DEBUG dn_lib.tools.log - aggiunto task al database: nuova scheda - aggiungere anche il reso
2021-03-06 16:18:48,680 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 31) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,686 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'nuovo campo no spese.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'nuovo campo no spese.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,692 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\nuovo campo no spese.task
2021-03-06 16:18:48,696 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 45 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 45, null, left('nuovo campo no spese', 150)
            , 'molina', convert(datetime, '2021-01-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezzora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-15 00:00:00', 120), dt_upd = NULL
         , title = left('nuovo campo no spese', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuovo campo no spese', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,701 [11] DEBUG dn_lib.tools.log - aggiunto task al database: nuovo campo no spese
2021-03-06 16:18:48,702 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 45 and file_name = '1.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 45, '1.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 17:35:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-15 17:35:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 17:35:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,707 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\nuovo campo no spese.task\1.png
2021-03-06 16:18:48,707 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 45 and file_name = '2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 45, '2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 17:35:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-15 17:35:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 17:35:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,712 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\nuovo campo no spese.task\2.png
2021-03-06 16:18:48,713 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 45 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 45, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 17:34:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-15 17:34:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 17:34:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,718 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\nuovo campo no spese.task\i.txt
2021-03-06 16:18:48,724 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 83;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (83, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 17:34:59', 120));
2021-03-06 16:18:48,727 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\nuovo campo no spese.task\i.txt
2021-03-06 16:18:48,727 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 32;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (32, 83, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 17:34:59', 120));
2021-03-06 16:18:48,730 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\lavorazioni\nuovo campo no spese.task\i.txt
2021-03-06 16:18:48,730 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 32) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,736 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'nuovo ordine RESO NON ACCETTATO.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'nuovo ordine RESO NON ACCETTATO.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,741 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\nuovo ordine RESO NON ACCETTATO.task
2021-03-06 16:18:48,745 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 46 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 46, null, left('nuovo ordine RESO NON ACCETTATO', 150)
            , 'molina', convert(datetime, '2020-09-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-28 00:00:00', 120), dt_upd = NULL
         , title = left('nuovo ordine RESO NON ACCETTATO', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuovo ordine RESO NON ACCETTATO', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,752 [11] DEBUG dn_lib.tools.log - aggiunto task al database: nuovo ordine RESO NON ACCETTATO
2021-03-06 16:18:48,752 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 46 and file_name = 'task.spese di gestione.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 46, 'task.spese di gestione.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-28 15:16:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-28 15:16:15', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-28 15:16:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,757 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\nuovo ordine RESO NON ACCETTATO.task\task.spese di gestione.sql
2021-03-06 16:18:48,763 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 84;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (84, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-28 15:16:15', 120));
2021-03-06 16:18:48,766 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\nuovo ordine RESO NON ACCETTATO.task\task.spese di gestione.sql
2021-03-06 16:18:48,767 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 33) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,775 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'nuovo tipo di lavorazione RESO DA CLIENTE.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'nuovo tipo di lavorazione RESO DA CLIENTE.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,780 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\nuovo tipo di lavorazione RESO DA CLIENTE.task
2021-03-06 16:18:48,785 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 47 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 47, null, left('nuovo tipo di lavorazione RESO DA CLIENTE', 150)
            , 'molina', convert(datetime, '2020-07-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', NULL, convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-08 00:00:00', 120), dt_upd = NULL
         , title = left('nuovo tipo di lavorazione RESO DA CLIENTE', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuovo tipo di lavorazione RESO DA CLIENTE', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,791 [11] DEBUG dn_lib.tools.log - aggiunto task al database: nuovo tipo di lavorazione RESO DA CLIENTE
2021-03-06 16:18:48,792 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 47 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 47, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-08 15:29:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-08 15:29:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-08 15:29:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,797 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\nuovo tipo di lavorazione RESO DA CLIENTE.task\sql.sql
2021-03-06 16:18:48,803 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 85;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (85, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-08 15:29:54', 120));
2021-03-06 16:18:48,806 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\nuovo tipo di lavorazione RESO DA CLIENTE.task\sql.sql
2021-03-06 16:18:48,807 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 34) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,815 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'pdf lavorazione senza intestazione cliente.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'pdf lavorazione senza intestazione cliente.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,820 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\pdf lavorazione senza intestazione cliente.task
2021-03-06 16:18:48,825 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 48 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 48, null, left('pdf lavorazione senza intestazione cliente', 150)
            , 'molina', convert(datetime, '2020-06-24 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'facile', NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-24 00:00:00', 120), dt_upd = NULL
         , title = left('pdf lavorazione senza intestazione cliente', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('pdf lavorazione senza intestazione cliente', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,830 [11] DEBUG dn_lib.tools.log - aggiunto task al database: pdf lavorazione senza intestazione cliente
2021-03-06 16:18:48,831 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 35) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,837 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'poter cambiare una lavorazione da GAR a LAV.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'poter cambiare una lavorazione da GAR a LAV.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,842 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\poter cambiare una lavorazione da GAR a LAV.task
2021-03-06 16:18:48,847 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 49 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 49, null, left('poter cambiare una lavorazione da GAR a LAV', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('poter cambiare una lavorazione da GAR a LAV', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('poter cambiare una lavorazione da GAR a LAV', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,853 [11] DEBUG dn_lib.tools.log - aggiunto task al database: poter cambiare una lavorazione da GAR a LAV
2021-03-06 16:18:48,853 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 49 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 49, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-24 15:46:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-24 15:46:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-24 15:46:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,857 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\poter cambiare una lavorazione da GAR a LAV.task\content.sql
2021-03-06 16:18:48,864 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 86;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (86, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-24 15:46:48', 120));
2021-03-06 16:18:48,867 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\poter cambiare una lavorazione da GAR a LAV.task\content.sql
2021-03-06 16:18:48,868 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 49 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 49, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,872 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\poter cambiare una lavorazione da GAR a LAV.task\i.txt
2021-03-06 16:18:48,878 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 87;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (87, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
2021-03-06 16:18:48,881 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\poter cambiare una lavorazione da GAR a LAV.task\i.txt
2021-03-06 16:18:48,881 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 36;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (36, 87, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
2021-03-06 16:18:48,885 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\lavorazioni\poter cambiare una lavorazione da GAR a LAV.task\i.txt
2021-03-06 16:18:48,886 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 36) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,892 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'poter inserire anche files pdf o altro oltre alle immagini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'poter inserire anche files pdf o altro oltre alle immagini.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:41', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,896 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\poter inserire anche files pdf o altro oltre alle immagini.task
2021-03-06 16:18:48,898 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 50 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 50, null, left('poter inserire anche files pdf o altro oltre alle immagini', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('poter inserire anche files pdf o altro oltre alle immagini', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:41', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('poter inserire anche files pdf o altro oltre alle immagini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,903 [11] DEBUG dn_lib.tools.log - aggiunto task al database: poter inserire anche files pdf o altro oltre alle immagini
2021-03-06 16:18:48,904 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 37) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,910 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'poter scaricare le immagini dalla scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'poter scaricare le immagini dalla scheda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:41', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,916 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\poter scaricare le immagini dalla scheda.task
2021-03-06 16:18:48,918 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 51 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 51, null, left('poter scaricare le immagini dalla scheda', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('poter scaricare le immagini dalla scheda', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:41', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('poter scaricare le immagini dalla scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,922 [11] DEBUG dn_lib.tools.log - aggiunto task al database: poter scaricare le immagini dalla scheda
2021-03-06 16:18:48,923 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 38) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,931 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'revisione ritiri in rosso.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'revisione ritiri in rosso.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,935 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\revisione ritiri in rosso.task
2021-03-06 16:18:48,940 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 52 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 52, null, left('revisione ritiri in rosso', 150)
            , 'molina', convert(datetime, '2020-09-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezzora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-09 00:00:00', 120), dt_upd = NULL
         , title = left('revisione ritiri in rosso', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione ritiri in rosso', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,946 [11] DEBUG dn_lib.tools.log - aggiunto task al database: revisione ritiri in rosso
2021-03-06 16:18:48,947 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 52 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 52, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-09 09:52:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-09 09:52:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-09 09:52:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,951 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\revisione ritiri in rosso.task\i.txt
2021-03-06 16:18:48,957 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 88;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (88, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-09 09:52:07', 120));
2021-03-06 16:18:48,960 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\revisione ritiri in rosso.task\i.txt
2021-03-06 16:18:48,961 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 39;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (39, 88, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-09 09:52:07', 120));
2021-03-06 16:18:48,963 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\lavorazioni\revisione ritiri in rosso.task\i.txt
2021-03-06 16:18:48,964 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 39) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:48,972 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rinomina DIP.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rinomina DIP.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:41', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,976 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\rinomina DIP.task
2021-03-06 16:18:48,981 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 53 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 53, null, left('rinomina DIP', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('rinomina DIP', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:41', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rinomina DIP', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,986 [11] DEBUG dn_lib.tools.log - aggiunto task al database: rinomina DIP
2021-03-06 16:18:48,987 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 53 and file_name = '1.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 53, '1.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-03 17:42:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-03 17:42:57', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-03 17:42:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,991 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\rinomina DIP.task\1.png
2021-03-06 16:18:48,992 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 53 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 53, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-03 18:06:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-03 18:06:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-03 18:06:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:48,996 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\rinomina DIP.task\sql.sql
2021-03-06 16:18:49,002 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 90;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (90, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-03 18:06:40', 120));
2021-03-06 16:18:49,005 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\rinomina DIP.task\sql.sql
2021-03-06 16:18:49,006 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 53 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 53, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-05 23:11:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-05 23:11:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-05 23:11:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,010 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\rinomina DIP.task\Thumbs.db
2021-03-06 16:18:49,011 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 40) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,019 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'ritiri rossi in errore.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'ritiri rossi in errore.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,024 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\ritiri rossi in errore.task
2021-03-06 16:18:49,028 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 54 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 54, null, left('ritiri rossi in errore', 150)
            , 'molina', convert(datetime, '2020-07-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-29 00:00:00', 120), dt_upd = NULL
         , title = left('ritiri rossi in errore', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ritiri rossi in errore', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,033 [11] DEBUG dn_lib.tools.log - aggiunto task al database: ritiri rossi in errore
2021-03-06 16:18:49,034 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 54 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 54, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 17:13:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-29 17:13:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 17:13:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,039 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\ritiri rossi in errore.task\i.txt
2021-03-06 16:18:49,045 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 92;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (92, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 17:13:45', 120));
2021-03-06 16:18:49,048 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\ritiri rossi in errore.task\i.txt
2021-03-06 16:18:49,049 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 41;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (41, 92, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 17:13:45', 120));
2021-03-06 16:18:49,051 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\lavorazioni\ritiri rossi in errore.task\i.txt
2021-03-06 16:18:49,052 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 54 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 54, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 17:11:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-29 17:11:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 17:11:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,056 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\ritiri rossi in errore.task\sql.sql
2021-03-06 16:18:49,061 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 93;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (93, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 17:11:32', 120));
2021-03-06 16:18:49,063 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\ritiri rossi in errore.task\sql.sql
2021-03-06 16:18:49,064 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 41) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,073 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rivisitazione colonna lavorazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rivisitazione colonna lavorazioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,077 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\rivisitazione colonna lavorazioni.task
2021-03-06 16:18:49,082 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 55 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 55, null, left('rivisitazione colonna lavorazioni', 150)
            , 'molina', convert(datetime, '2021-02-04 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-02-04 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione colonna lavorazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-02-04 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione colonna lavorazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,087 [11] DEBUG dn_lib.tools.log - aggiunto task al database: rivisitazione colonna lavorazioni
2021-03-06 16:18:49,088 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 55 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 55, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-05 14:29:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-05 14:29:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-05 14:29:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,092 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\rivisitazione colonna lavorazioni.task\i.txt
2021-03-06 16:18:49,098 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 94;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (94, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-05 14:29:21', 120));
2021-03-06 16:18:49,101 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\rivisitazione colonna lavorazioni.task\i.txt
2021-03-06 16:18:49,101 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 42;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (42, 94, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-05 14:29:21', 120));
2021-03-06 16:18:49,104 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\lavorazioni\rivisitazione colonna lavorazioni.task\i.txt
2021-03-06 16:18:49,105 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 55 and file_name = 'lavs.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 55, 'lavs.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-04 15:24:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-04 15:24:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-04 15:24:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,109 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\rivisitazione colonna lavorazioni.task\lavs.sql
2021-03-06 16:18:49,113 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 95;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (95, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-04 15:24:06', 120));
2021-03-06 16:18:49,117 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\rivisitazione colonna lavorazioni.task\lavs.sql
2021-03-06 16:18:49,117 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 42) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,125 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rivisitazione flusso schede.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rivisitazione flusso schede.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,129 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\rivisitazione flusso schede.task
2021-03-06 16:18:49,134 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 56 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 56, null, left('rivisitazione flusso schede', 150)
            , 'molina', convert(datetime, '2020-08-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-28 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione flusso schede', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione flusso schede', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,139 [11] DEBUG dn_lib.tools.log - aggiunto task al database: rivisitazione flusso schede
2021-03-06 16:18:49,140 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 56 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 56, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 08:20:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-31 08:20:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-31 08:20:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,144 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\rivisitazione flusso schede.task\i.txt
2021-03-06 16:18:49,150 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 96;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (96, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 08:20:30', 120));
2021-03-06 16:18:49,153 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\rivisitazione flusso schede.task\i.txt
2021-03-06 16:18:49,154 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 43;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (43, 96, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 08:20:30', 120));
2021-03-06 16:18:49,157 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\lavorazioni\rivisitazione flusso schede.task\i.txt
2021-03-06 16:18:49,158 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 43) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,164 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rivisitazione lavorazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rivisitazione lavorazioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,169 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\rivisitazione lavorazioni.task
2021-03-06 16:18:49,174 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 57 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 57, null, left('rivisitazione lavorazioni', 150)
            , 'molina', convert(datetime, '2020-08-27 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezza', convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-27 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione lavorazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione lavorazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,181 [11] DEBUG dn_lib.tools.log - aggiunto task al database: rivisitazione lavorazioni
2021-03-06 16:18:49,182 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 57 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 57, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-28 10:57:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-28 10:57:53', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-28 10:57:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,186 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\rivisitazione lavorazioni.task\i.txt
2021-03-06 16:18:49,192 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 97;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (97, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-28 10:57:53', 120));
2021-03-06 16:18:49,195 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\rivisitazione lavorazioni.task\i.txt
2021-03-06 16:18:49,196 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 44;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (44, 97, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-28 10:57:53', 120));
2021-03-06 16:18:49,198 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\lavorazioni\rivisitazione lavorazioni.task\i.txt
2021-03-06 16:18:49,198 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 44) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,205 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rivisitazione telefoni scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rivisitazione telefoni scheda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,210 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\rivisitazione telefoni scheda.task
2021-03-06 16:18:49,215 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 58 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 58, null, left('rivisitazione telefoni scheda', 150)
            , 'molina', convert(datetime, '2020-10-01 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-01 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione telefoni scheda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-01 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione telefoni scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,221 [11] DEBUG dn_lib.tools.log - aggiunto task al database: rivisitazione telefoni scheda
2021-03-06 16:18:49,222 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 58 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 58, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-01 16:25:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-01 16:25:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-01 16:25:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,227 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\rivisitazione telefoni scheda.task\i.txt
2021-03-06 16:18:49,232 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 98;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (98, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-01 16:25:59', 120));
2021-03-06 16:18:49,235 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\rivisitazione telefoni scheda.task\i.txt
2021-03-06 16:18:49,236 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 45;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (45, 98, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-01 16:25:59', 120));
2021-03-06 16:18:49,238 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\lavorazioni\rivisitazione telefoni scheda.task\i.txt
2021-03-06 16:18:49,239 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 45) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,246 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'selezione da sito dell''indirizzo ritiro lavorazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'selezione da sito dell''indirizzo ritiro lavorazioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,251 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\selezione da sito dell'indirizzo ritiro lavorazioni.task
2021-03-06 16:18:49,256 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 59 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 59, null, left('selezione da sito dell''indirizzo ritiro lavorazioni', 150)
            , 'molina', convert(datetime, '2020-06-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-15 00:00:00', 120), dt_upd = NULL
         , title = left('selezione da sito dell''indirizzo ritiro lavorazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('selezione da sito dell''indirizzo ritiro lavorazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,261 [11] DEBUG dn_lib.tools.log - aggiunto task al database: selezione da sito dell'indirizzo ritiro lavorazioni
2021-03-06 16:18:49,262 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 59 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 59, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 17:49:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-29 17:49:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 17:49:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,266 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\selezione da sito dell'indirizzo ritiro lavorazioni.task\i.txt
2021-03-06 16:18:49,271 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 99;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (99, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 17:49:28', 120));
2021-03-06 16:18:49,274 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\selezione da sito dell'indirizzo ritiro lavorazioni.task\i.txt
2021-03-06 16:18:49,275 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 46;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (46, 99, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 17:49:28', 120));
2021-03-06 16:18:49,279 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\lavorazioni\selezione da sito dell'indirizzo ritiro lavorazioni.task\i.txt
2021-03-06 16:18:49,279 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 59 and file_name = 'img.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 59, 'img.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-15 08:31:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-15 08:31:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-15 08:31:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,284 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\selezione da sito dell'indirizzo ritiro lavorazioni.task\img.png
2021-03-06 16:18:49,284 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 59 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 59, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-08 14:51:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-08 14:51:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-08 14:51:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,289 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\selezione da sito dell'indirizzo ritiro lavorazioni.task\sql.sql
2021-03-06 16:18:49,293 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 101;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (101, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-08 14:51:38', 120));
2021-03-06 16:18:49,297 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\selezione da sito dell'indirizzo ritiro lavorazioni.task\sql.sql
2021-03-06 16:18:49,297 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 59 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 59, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-15 08:34:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-15 08:34:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-15 08:34:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,302 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\selezione da sito dell'indirizzo ritiro lavorazioni.task\Thumbs.db
2021-03-06 16:18:49,303 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 46) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,310 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'stampa etichette codice scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'stampa etichette codice scheda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,314 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\stampa etichette codice scheda.task
2021-03-06 16:18:49,319 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 60 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 60, null, left('stampa etichette codice scheda', 150)
            , 'molina', convert(datetime, '2020-09-16 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-16 00:00:00', 120), dt_upd = NULL
         , title = left('stampa etichette codice scheda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-16 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('stampa etichette codice scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,325 [11] DEBUG dn_lib.tools.log - aggiunto task al database: stampa etichette codice scheda
2021-03-06 16:18:49,326 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 60 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 60, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-16 16:51:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-16 16:51:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-16 16:51:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,330 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\stampa etichette codice scheda.task\i.txt
2021-03-06 16:18:49,336 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 103;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (103, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-16 16:51:39', 120));
2021-03-06 16:18:49,339 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\stampa etichette codice scheda.task\i.txt
2021-03-06 16:18:49,340 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 47;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (47, 103, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-16 16:51:39', 120));
2021-03-06 16:18:49,342 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\lavorazioni\stampa etichette codice scheda.task\i.txt
2021-03-06 16:18:49,343 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 47) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,350 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'visualizzare telefono - mail nelle domande.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'visualizzare telefono - mail nelle domande.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,356 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\lavorazioni\visualizzare telefono - mail nelle domande.task
2021-03-06 16:18:49,358 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 61 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 61, null, left('visualizzare telefono - mail nelle domande', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('visualizzare telefono - mail nelle domande', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('visualizzare telefono - mail nelle domande', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,363 [11] DEBUG dn_lib.tools.log - aggiunto task al database: visualizzare telefono - mail nelle domande
2021-03-06 16:18:49,364 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 61 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 61, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 11:26:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 11:26:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 11:26:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,368 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\visualizzare telefono - mail nelle domande.task\i.txt
2021-03-06 16:18:49,376 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 104;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (104, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 11:26:00', 120));
2021-03-06 16:18:49,380 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\visualizzare telefono - mail nelle domande.task\i.txt
2021-03-06 16:18:49,381 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 48;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (48, 104, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 11:26:00', 120));
2021-03-06 16:18:49,383 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\lavorazioni\visualizzare telefono - mail nelle domande.task\i.txt
2021-03-06 16:18:49,383 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 61 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 61, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 11:26:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 11:26:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 11:26:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,387 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\lavorazioni\visualizzare telefono - mail nelle domande.task\sql.sql
2021-03-06 16:18:49,391 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 105;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (105, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 11:26:20', 120));
2021-03-06 16:18:49,394 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\lavorazioni\visualizzare telefono - mail nelle domande.task\sql.sql
2021-03-06 16:18:49,395 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 48) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,401 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'magazzino';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'magazzino', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,405 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino
2021-03-06 16:18:49,406 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'bertello - melo refresci.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'bertello - melo refresci.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,410 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\bertello - melo refresci.task
2021-03-06 16:18:49,415 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 63 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 63, null, left('bertello - melo refresci', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', 'alta', 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('bertello - melo refresci', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:47', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('bertello - melo refresci', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,420 [11] DEBUG dn_lib.tools.log - aggiunto task al database: bertello - melo refresci
2021-03-06 16:18:49,421 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 63 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 63, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 08:39:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-15 08:39:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 08:39:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,426 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\bertello - melo refresci.task\i.txt
2021-03-06 16:18:49,432 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 106;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (106, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 08:39:38', 120));
2021-03-06 16:18:49,435 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\bertello - melo refresci.task\i.txt
2021-03-06 16:18:49,436 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 49;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (49, 106, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 08:39:38', 120));
2021-03-06 16:18:49,438 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\magazzino\bertello - melo refresci.task\i.txt
2021-03-06 16:18:49,440 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 49) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,447 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'carico dei codici DIP nel pedonale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'carico dei codici DIP nel pedonale.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,451 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\carico dei codici DIP nel pedonale.task
2021-03-06 16:18:49,456 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 64 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 64, null, left('carico dei codici DIP nel pedonale', 150)
            , 'molina', convert(datetime, '2020-07-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-30 00:00:00', 120), dt_upd = NULL
         , title = left('carico dei codici DIP nel pedonale', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('carico dei codici DIP nel pedonale', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,462 [11] DEBUG dn_lib.tools.log - aggiunto task al database: carico dei codici DIP nel pedonale
2021-03-06 16:18:49,463 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 64 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 64, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 14:22:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-30 14:22:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 14:22:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,467 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\carico dei codici DIP nel pedonale.task\i.txt
2021-03-06 16:18:49,473 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 107;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (107, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 14:22:55', 120));
2021-03-06 16:18:49,476 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\carico dei codici DIP nel pedonale.task\i.txt
2021-03-06 16:18:49,476 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 50;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (50, 107, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 14:22:55', 120));
2021-03-06 16:18:49,479 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\magazzino\carico dei codici DIP nel pedonale.task\i.txt
2021-03-06 16:18:49,481 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 50) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,488 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'gestione nuovo magazzino pallets.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'gestione nuovo magazzino pallets.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,493 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\gestione nuovo magazzino pallets.task
2021-03-06 16:18:49,498 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 65 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 65, null, left('gestione nuovo magazzino pallets', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'aggiunta', 'tre_giorni', convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('gestione nuovo magazzino pallets', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'tre_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione nuovo magazzino pallets', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('tre_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,503 [11] DEBUG dn_lib.tools.log - aggiunto task al database: gestione nuovo magazzino pallets
2021-03-06 16:18:49,504 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 65 and file_name = 'dipaQuoteXY_trl2.xlsx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 65, 'dipaQuoteXY_trl2.xlsx', '.xlsx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-07 16:34:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-07 16:34:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-07 16:34:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,509 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\gestione nuovo magazzino pallets.task\dipaQuoteXY_trl2.xlsx
2021-03-06 16:18:49,510 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 65 and file_name = 'patch.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 65, 'patch.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-08 09:26:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-08 09:26:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-08 09:26:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,514 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\gestione nuovo magazzino pallets.task\patch.sql
2021-03-06 16:18:49,521 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 109;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (109, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-08 09:26:31', 120));
2021-03-06 16:18:49,524 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\gestione nuovo magazzino pallets.task\patch.sql
2021-03-06 16:18:49,525 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 65 and file_name = 'script_bck.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 65, 'script_bck.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-07 12:22:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-07 12:22:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-07 12:22:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,530 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\gestione nuovo magazzino pallets.task\script_bck.sql
2021-03-06 16:18:49,537 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 110;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (110, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-07 12:22:22', 120));
2021-03-06 16:18:49,542 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\gestione nuovo magazzino pallets.task\script_bck.sql
2021-03-06 16:18:49,543 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 65 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 65, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-08 09:25:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-08 09:25:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-08 09:25:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,547 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\gestione nuovo magazzino pallets.task\sql.sql
2021-03-06 16:18:49,552 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 111;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (111, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-08 09:25:31', 120));
2021-03-06 16:18:49,554 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\gestione nuovo magazzino pallets.task\sql.sql
2021-03-06 16:18:49,555 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 51) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,562 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'gli ordini in viola li deve processare nino .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'gli ordini in viola li deve processare nino .task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,567 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\gli ordini in viola li deve processare nino .task
2021-03-06 16:18:49,572 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 66 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 66, null, left('gli ordini in viola li deve processare nino ', 150)
            , 'molina', convert(datetime, '2020-07-06 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', 'due_ore', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-06 00:00:00', 120), dt_upd = NULL
         , title = left('gli ordini in viola li deve processare nino ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-06 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gli ordini in viola li deve processare nino ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,577 [11] DEBUG dn_lib.tools.log - aggiunto task al database: gli ordini in viola li deve processare nino 
2021-03-06 16:18:49,578 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 66 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 66, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-06 09:30:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-06 09:30:11', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-06 09:30:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,582 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\gli ordini in viola li deve processare nino .task\sql.sql
2021-03-06 16:18:49,587 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 112;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (112, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-06 09:30:11', 120));
2021-03-06 16:18:49,589 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\gli ordini in viola li deve processare nino .task\sql.sql
2021-03-06 16:18:49,590 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 52) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,597 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'leds magazzino elettronico.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'leds magazzino elettronico.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,601 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task
2021-03-06 16:18:49,606 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 67 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 67, null, left('leds magazzino elettronico', 150)
            , 'molina', convert(datetime, '2020-01-24 00:00:00', 120), convert(datetime, '2021-03-03 14:40:35', 120), 1
            , 'in_corso', NULL, 'aggiunta', 'settimana', convert(datetime, '2021-03-03 14:40:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-01-24 00:00:00', 120), dt_upd = convert(datetime, '2021-03-03 14:40:35', 120)
         , title = left('leds magazzino elettronico', 150), [user] = 'molina'
         , stato = 'in_corso', priorita = NULL
         , tipo = 'aggiunta', stima = 'settimana', dt_lwt_index = convert(datetime, '2021-03-03 14:40:35', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-01-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(convert(datetime, '2021-03-03 14:40:35', 120), getdate())
          or isnull(title, '') <> isnull('leds magazzino elettronico', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('in_corso', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('settimana', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,613 [11] DEBUG dn_lib.tools.log - aggiunto task al database: leds magazzino elettronico
2021-03-06 16:18:49,614 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 67 
        and folder_name = 'PickToLight';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 67, 'PickToLight', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,618 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight
2021-03-06 16:18:49,619 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 68 
        and folder_name = 'cs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 68, 'cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,622 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs
2021-03-06 16:18:49,623 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 69 
        and folder_name = 'LsSample1a';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 69, 'LsSample1a', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,628 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a
2021-03-06 16:18:49,628 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 70 
        and folder_name = '.vs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 70, '.vs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,632 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\.vs
2021-03-06 16:18:49,633 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 71 
        and folder_name = 'LsSample1a';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 71, 'LsSample1a', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,638 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\.vs\LsSample1a
2021-03-06 16:18:49,638 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 72 
        and folder_name = 'v15';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 72, 'v15', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,643 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\.vs\LsSample1a\v15
2021-03-06 16:18:49,644 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 73 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 73, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,648 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\.vs\LsSample1a\v15\Server
2021-03-06 16:18:49,649 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 74 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 74, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,654 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\.vs\LsSample1a\v15\Server\sqlite3
2021-03-06 16:18:49,655 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 75 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 75, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,660 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\.vs\LsSample1a\v15\Server\sqlite3\db.lock
2021-03-06 16:18:49,660 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 75 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 75, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,665 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\.vs\LsSample1a\v15\Server\sqlite3\storage.ide
2021-03-06 16:18:49,665 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 75 and file_name = 'storage.ide-shm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 75, 'storage.ide-shm', '.ide-shm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,669 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\.vs\LsSample1a\v15\Server\sqlite3\storage.ide-shm
2021-03-06 16:18:49,670 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 75 and file_name = 'storage.ide-wal';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 75, 'storage.ide-wal', '.ide-wal', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,675 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\.vs\LsSample1a\v15\Server\sqlite3\storage.ide-wal
2021-03-06 16:18:49,678 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,687 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,688 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 73 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 73, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:00:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:00:37', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:00:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,693 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\.vs\LsSample1a\v15\.suo
2021-03-06 16:18:49,694 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,695 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 72 
        and folder_name = 'v16';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 72, 'v16', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,700 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\.vs\LsSample1a\v16
2021-03-06 16:18:49,701 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 76 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 76, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,707 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\.vs\LsSample1a\v16\Server
2021-03-06 16:18:49,708 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 77 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 77, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,713 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\.vs\LsSample1a\v16\Server\sqlite3
2021-03-06 16:18:49,714 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 78 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 78, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,719 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\.vs\LsSample1a\v16\Server\sqlite3\db.lock
2021-03-06 16:18:49,720 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 78 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 78, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:04:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:04:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:04:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,724 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\.vs\LsSample1a\v16\Server\sqlite3\storage.ide
2021-03-06 16:18:49,725 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,727 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,728 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 76 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 76, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:04:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:04:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:04:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,733 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\.vs\LsSample1a\v16\.suo
2021-03-06 16:18:49,734 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,736 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,738 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,739 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 70 
        and folder_name = 'Backup';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 70, 'Backup', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,744 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Backup
2021-03-06 16:18:49,745 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 79 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 79, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,749 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Backup\Properties
2021-03-06 16:18:49,750 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 80 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 80, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,755 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Backup\Properties\AssemblyInfo.cs
2021-03-06 16:18:49,763 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 121;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (121, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
2021-03-06 16:18:49,767 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Backup\Properties\AssemblyInfo.cs
2021-03-06 16:18:49,767 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 80 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 80, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,771 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Backup\Properties\Resources.Designer.cs
2021-03-06 16:18:49,779 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 122;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (122, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
2021-03-06 16:18:49,783 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Backup\Properties\Resources.Designer.cs
2021-03-06 16:18:49,784 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 80 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 80, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,788 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Backup\Properties\Resources.resx
2021-03-06 16:18:49,790 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 80 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 80, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,794 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Backup\Properties\Settings.Designer.cs
2021-03-06 16:18:49,802 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 124;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (124, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
2021-03-06 16:18:49,805 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Backup\Properties\Settings.Designer.cs
2021-03-06 16:18:49,805 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 80 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 80, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,810 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Backup\Properties\Settings.settings
2021-03-06 16:18:49,810 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,812 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 79 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 79, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:38:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:38:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:38:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,817 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Backup\Form1.cs
2021-03-06 16:18:49,824 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 126;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (126, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:38:48', 120));
2021-03-06 16:18:49,827 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Backup\Form1.cs
2021-03-06 16:18:49,828 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 79 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 79, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:38:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:38:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:38:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,833 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Backup\Form1.Designer.cs
2021-03-06 16:18:49,843 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 127;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (127, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:38:50', 120));
2021-03-06 16:18:49,846 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Backup\Form1.Designer.cs
2021-03-06 16:18:49,847 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 79 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 79, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:38:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:38:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:38:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,851 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Backup\Form1.resx
2021-03-06 16:18:49,852 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 79 and file_name = 'LsSample1a.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 79, 'LsSample1a.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-11 16:03:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-11 16:03:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-11 16:03:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,857 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Backup\LsSample1a.csproj
2021-03-06 16:18:49,858 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 79 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 79, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,862 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Backup\Program.cs
2021-03-06 16:18:49,869 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 130;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (130, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
2021-03-06 16:18:49,872 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Backup\Program.cs
2021-03-06 16:18:49,873 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,875 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 70 
        and folder_name = 'bin';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 70, 'bin', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,879 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\bin
2021-03-06 16:18:49,879 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 81 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 81, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,884 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\bin\Debug
2021-03-06 16:18:49,885 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 82 and file_name = 'AioiSystems.Lightstep.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 82, 'AioiSystems.Lightstep.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-22 16:39:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-22 16:39:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-22 16:39:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,889 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\bin\Debug\AioiSystems.Lightstep.dll
2021-03-06 16:18:49,890 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 82 and file_name = 'AioiSystems.Lightstep.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 82, 'AioiSystems.Lightstep.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2012-06-29 10:53:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2012-06-29 10:53:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2012-06-29 10:53:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,895 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\bin\Debug\AioiSystems.Lightstep.xml
2021-03-06 16:18:49,895 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 82 and file_name = 'LsSample1a.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 82, 'LsSample1a.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,900 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\bin\Debug\LsSample1a.exe
2021-03-06 16:18:49,900 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 82 and file_name = 'LsSample1a.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 82, 'LsSample1a.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,905 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\bin\Debug\LsSample1a.pdb
2021-03-06 16:18:49,906 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,907 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,908 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 70 
        and folder_name = 'obj';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 70, 'obj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,912 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\obj
2021-03-06 16:18:49,913 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 83 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 83, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,917 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\obj\Debug
2021-03-06 16:18:49,918 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 84 
        and folder_name = 'TempPE';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 84, 'TempPE', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,922 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\obj\Debug\TempPE
2021-03-06 16:18:49,923 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 85 and file_name = 'Properties.Resources.Designer.cs.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 85, 'Properties.Resources.Designer.cs.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,928 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\obj\Debug\TempPE\Properties.Resources.Designer.cs.dll
2021-03-06 16:18:49,928 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,930 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'DesignTimeResolveAssemblyReferences.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'DesignTimeResolveAssemblyReferences.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 17:39:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 17:39:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 17:39:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,934 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\obj\Debug\DesignTimeResolveAssemblyReferences.cache
2021-03-06 16:18:49,935 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'DesignTimeResolveAssemblyReferencesInput.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'DesignTimeResolveAssemblyReferencesInput.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:33:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:33:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:33:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,939 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\obj\Debug\DesignTimeResolveAssemblyReferencesInput.cache
2021-03-06 16:18:49,940 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.csproj.CopyComplete';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.csproj.CopyComplete', '.copycomplete', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,945 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\obj\Debug\LsSample1a.csproj.CopyComplete
2021-03-06 16:18:49,945 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.csproj.CoreCompileInputs.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.csproj.CoreCompileInputs.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,949 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\obj\Debug\LsSample1a.csproj.CoreCompileInputs.cache
2021-03-06 16:18:49,950 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.csproj.FileListAbsolute.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.csproj.FileListAbsolute.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,955 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\obj\Debug\LsSample1a.csproj.FileListAbsolute.txt
2021-03-06 16:18:49,960 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 140;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (140, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:50', 120));
2021-03-06 16:18:49,963 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\obj\Debug\LsSample1a.csproj.FileListAbsolute.txt
2021-03-06 16:18:49,964 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.csproj.GenerateResource.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.csproj.GenerateResource.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,968 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\obj\Debug\LsSample1a.csproj.GenerateResource.cache
2021-03-06 16:18:49,969 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.csprojAssemblyReference.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.csprojAssemblyReference.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,973 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\obj\Debug\LsSample1a.csprojAssemblyReference.cache
2021-03-06 16:18:49,974 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,979 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\obj\Debug\LsSample1a.exe
2021-03-06 16:18:49,979 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.Form1.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.Form1.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,984 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\obj\Debug\LsSample1a.Form1.resources
2021-03-06 16:18:49,984 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,988 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\obj\Debug\LsSample1a.pdb
2021-03-06 16:18:49,989 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.Properties.Resources.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.Properties.Resources.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:49,994 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\obj\Debug\LsSample1a.Properties.Resources.resources
2021-03-06 16:18:49,995 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,996 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:49,998 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 70 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 70, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,002 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Properties
2021-03-06 16:18:50,003 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 86 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 86, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,007 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Properties\AssemblyInfo.cs
2021-03-06 16:18:50,009 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 147;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (147, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
2021-03-06 16:18:50,011 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Properties\AssemblyInfo.cs
2021-03-06 16:18:50,013 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 86 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 86, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,017 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Properties\Resources.Designer.cs
2021-03-06 16:18:50,025 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 148;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (148, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:32', 120));
2021-03-06 16:18:50,028 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Properties\Resources.Designer.cs
2021-03-06 16:18:50,029 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 86 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 86, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,033 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Properties\Resources.resx
2021-03-06 16:18:50,034 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 86 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 86, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,038 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Properties\Settings.Designer.cs
2021-03-06 16:18:50,047 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 150;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (150, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:34', 120));
2021-03-06 16:18:50,050 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Properties\Settings.Designer.cs
2021-03-06 16:18:50,051 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 86 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 86, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,055 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Properties\Settings.settings
2021-03-06 16:18:50,056 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,057 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,062 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Form1.cs
2021-03-06 16:18:50,069 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 152;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (152, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
2021-03-06 16:18:50,072 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Form1.cs
2021-03-06 16:18:50,072 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,077 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Form1.Designer.cs
2021-03-06 16:18:50,086 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 153;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (153, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
2021-03-06 16:18:50,091 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Form1.Designer.cs
2021-03-06 16:18:50,091 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,096 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Form1.resx
2021-03-06 16:18:50,097 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'LsSample1a.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'LsSample1a.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,102 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\LsSample1a.csproj
2021-03-06 16:18:50,103 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'LsSample1a.sln';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'LsSample1a.sln', '.sln', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,107 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\LsSample1a.sln
2021-03-06 16:18:50,108 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,112 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Program.cs
2021-03-06 16:18:50,113 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 157;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (157, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
2021-03-06 16:18:50,116 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\Program.cs
2021-03-06 16:18:50,117 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'UpgradeLog.htm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'UpgradeLog.htm', '.htm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,121 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1a\UpgradeLog.htm
2021-03-06 16:18:50,122 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,123 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 69 
        and folder_name = 'LsSample1b';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 69, 'LsSample1b', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,128 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b
2021-03-06 16:18:50,128 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 87 
        and folder_name = '.vs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 87, '.vs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,133 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\.vs
2021-03-06 16:18:50,133 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 88 
        and folder_name = 'LsSample1b';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 88, 'LsSample1b', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,138 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\.vs\LsSample1b
2021-03-06 16:18:50,138 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 89 
        and folder_name = 'v15';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 89, 'v15', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,143 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\.vs\LsSample1b\v15
2021-03-06 16:18:50,143 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 90 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 90, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,148 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\.vs\LsSample1b\v15\Server
2021-03-06 16:18:50,149 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 91 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 91, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,153 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\.vs\LsSample1b\v15\Server\sqlite3
2021-03-06 16:18:50,154 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 92 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 92, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,159 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\.vs\LsSample1b\v15\Server\sqlite3\db.lock
2021-03-06 16:18:50,159 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 92 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 92, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,164 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\.vs\LsSample1b\v15\Server\sqlite3\storage.ide
2021-03-06 16:18:50,164 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 92 and file_name = 'storage.ide-shm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 92, 'storage.ide-shm', '.ide-shm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,168 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\.vs\LsSample1b\v15\Server\sqlite3\storage.ide-shm
2021-03-06 16:18:50,169 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 92 and file_name = 'storage.ide-wal';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 92, 'storage.ide-wal', '.ide-wal', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,173 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\.vs\LsSample1b\v15\Server\sqlite3\storage.ide-wal
2021-03-06 16:18:50,174 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,176 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,178 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 90 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 90, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:02:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:02:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:02:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,182 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\.vs\LsSample1b\v15\.suo
2021-03-06 16:18:50,183 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,184 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 89 
        and folder_name = 'v16';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 89, 'v16', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,188 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\.vs\LsSample1b\v16
2021-03-06 16:18:50,189 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 93 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 93, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,193 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\.vs\LsSample1b\v16\Server
2021-03-06 16:18:50,194 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 94 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 94, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,199 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\.vs\LsSample1b\v16\Server\sqlite3
2021-03-06 16:18:50,200 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 95 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 95, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,204 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\.vs\LsSample1b\v16\Server\sqlite3\db.lock
2021-03-06 16:18:50,205 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 95 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 95, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,209 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\.vs\LsSample1b\v16\Server\sqlite3\storage.ide
2021-03-06 16:18:50,210 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,211 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,212 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 93 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 93, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 18:15:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 18:15:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 18:15:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,216 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\.vs\LsSample1b\v16\.suo
2021-03-06 16:18:50,217 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,219 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,220 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,222 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 87 
        and folder_name = 'Backup';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 87, 'Backup', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,226 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Backup
2021-03-06 16:18:50,227 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 96 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 96, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,232 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Backup\Properties
2021-03-06 16:18:50,237 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 97 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 97, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,242 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Backup\Properties\AssemblyInfo.cs
2021-03-06 16:18:50,244 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 167;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (167, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
2021-03-06 16:18:50,246 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Backup\Properties\AssemblyInfo.cs
2021-03-06 16:18:50,247 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 97 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 97, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 17:35:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 17:35:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 17:35:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,253 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Backup\Properties\Resources.Designer.cs
2021-03-06 16:18:50,261 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 168;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (168, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 17:35:06', 120));
2021-03-06 16:18:50,264 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Backup\Properties\Resources.Designer.cs
2021-03-06 16:18:50,265 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 97 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 97, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,269 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Backup\Properties\Resources.resx
2021-03-06 16:18:50,270 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 97 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 97, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 17:35:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 17:35:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 17:35:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,275 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Backup\Properties\Settings.Designer.cs
2021-03-06 16:18:50,282 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 170;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (170, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 17:35:06', 120));
2021-03-06 16:18:50,285 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Backup\Properties\Settings.Designer.cs
2021-03-06 16:18:50,286 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 97 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 97, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,291 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Backup\Properties\Settings.settings
2021-03-06 16:18:50,291 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,292 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 96 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 96, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,297 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Backup\Form1.cs
2021-03-06 16:18:50,304 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 172;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (172, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
2021-03-06 16:18:50,308 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Backup\Form1.cs
2021-03-06 16:18:50,309 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 96 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 96, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,313 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Backup\Form1.Designer.cs
2021-03-06 16:18:50,323 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 173;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (173, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
2021-03-06 16:18:50,326 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Backup\Form1.Designer.cs
2021-03-06 16:18:50,327 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 96 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 96, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,331 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Backup\Form1.resx
2021-03-06 16:18:50,332 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 96 and file_name = 'LsSample1b.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 96, 'LsSample1b.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-11 16:04:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-11 16:04:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-11 16:04:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,336 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Backup\LsSample1b.csproj
2021-03-06 16:18:50,337 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 96 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 96, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 17:35:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 17:35:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 17:35:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,341 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Backup\Program.cs
2021-03-06 16:18:50,349 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 176;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (176, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 17:35:06', 120));
2021-03-06 16:18:50,351 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Backup\Program.cs
2021-03-06 16:18:50,352 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,354 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 87 
        and folder_name = 'bin';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 87, 'bin', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,358 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\bin
2021-03-06 16:18:50,359 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 98 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 98, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,363 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\bin\Debug
2021-03-06 16:18:50,364 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 99 and file_name = 'AioiSystems.Lightstep.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 99, 'AioiSystems.Lightstep.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-22 16:39:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-22 16:39:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-22 16:39:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,368 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\bin\Debug\AioiSystems.Lightstep.dll
2021-03-06 16:18:50,369 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 99 and file_name = 'AioiSystems.Lightstep.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 99, 'AioiSystems.Lightstep.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2012-06-29 10:53:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2012-06-29 10:53:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2012-06-29 10:53:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,373 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\bin\Debug\AioiSystems.Lightstep.xml
2021-03-06 16:18:50,373 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 99 and file_name = 'LsSample1b.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 99, 'LsSample1b.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,378 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\bin\Debug\LsSample1b.exe
2021-03-06 16:18:50,378 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 99 and file_name = 'LsSample1b.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 99, 'LsSample1b.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,383 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\bin\Debug\LsSample1b.pdb
2021-03-06 16:18:50,384 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,387 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,387 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 87 
        and folder_name = 'obj';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 87, 'obj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,391 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\obj
2021-03-06 16:18:50,392 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 100 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 100, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,398 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\obj\Debug
2021-03-06 16:18:50,399 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 101 
        and folder_name = 'TempPE';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 101, 'TempPE', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,403 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\obj\Debug\TempPE
2021-03-06 16:18:50,404 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 102 and file_name = 'Properties.Resources.Designer.cs.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 102, 'Properties.Resources.Designer.cs.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,409 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\obj\Debug\TempPE\Properties.Resources.Designer.cs.dll
2021-03-06 16:18:50,410 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,411 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'DesignTimeResolveAssemblyReferences.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'DesignTimeResolveAssemblyReferences.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 18:11:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 18:11:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 18:11:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,415 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\obj\Debug\DesignTimeResolveAssemblyReferences.cache
2021-03-06 16:18:50,416 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'DesignTimeResolveAssemblyReferencesInput.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'DesignTimeResolveAssemblyReferencesInput.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,421 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\obj\Debug\DesignTimeResolveAssemblyReferencesInput.cache
2021-03-06 16:18:50,422 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.csproj.CopyComplete';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.csproj.CopyComplete', '.copycomplete', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,426 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\obj\Debug\LsSample1b.csproj.CopyComplete
2021-03-06 16:18:50,427 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.csproj.CoreCompileInputs.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.csproj.CoreCompileInputs.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,432 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\obj\Debug\LsSample1b.csproj.CoreCompileInputs.cache
2021-03-06 16:18:50,432 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.csproj.FileListAbsolute.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.csproj.FileListAbsolute.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,436 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\obj\Debug\LsSample1b.csproj.FileListAbsolute.txt
2021-03-06 16:18:50,442 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 186;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (186, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
2021-03-06 16:18:50,444 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\obj\Debug\LsSample1b.csproj.FileListAbsolute.txt
2021-03-06 16:18:50,445 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.csproj.GenerateResource.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.csproj.GenerateResource.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,450 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\obj\Debug\LsSample1b.csproj.GenerateResource.cache
2021-03-06 16:18:50,450 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.csprojAssemblyReference.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.csprojAssemblyReference.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,456 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\obj\Debug\LsSample1b.csprojAssemblyReference.cache
2021-03-06 16:18:50,456 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,460 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\obj\Debug\LsSample1b.exe
2021-03-06 16:18:50,461 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.Form1.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.Form1.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 18:11:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 18:11:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 18:11:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,465 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\obj\Debug\LsSample1b.Form1.resources
2021-03-06 16:18:50,466 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,472 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\obj\Debug\LsSample1b.pdb
2021-03-06 16:18:50,472 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 101 and file_name = 'LsSample1b.Properties.Resources.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 101, 'LsSample1b.Properties.Resources.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 18:11:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 18:11:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 18:11:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,476 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\obj\Debug\LsSample1b.Properties.Resources.resources
2021-03-06 16:18:50,477 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,479 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,481 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 87 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 87, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,484 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Properties
2021-03-06 16:18:50,485 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 103 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 103, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,489 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Properties\AssemblyInfo.cs
2021-03-06 16:18:50,490 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 193;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (193, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
2021-03-06 16:18:50,493 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Properties\AssemblyInfo.cs
2021-03-06 16:18:50,494 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 103 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 103, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,499 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Properties\Resources.Designer.cs
2021-03-06 16:18:50,508 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 194;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (194, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:34', 120));
2021-03-06 16:18:50,511 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Properties\Resources.Designer.cs
2021-03-06 16:18:50,512 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 103 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 103, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,516 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Properties\Resources.resx
2021-03-06 16:18:50,517 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 103 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 103, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,521 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Properties\Settings.Designer.cs
2021-03-06 16:18:50,529 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 196;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (196, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:34', 120));
2021-03-06 16:18:50,532 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Properties\Settings.Designer.cs
2021-03-06 16:18:50,533 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 103 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 103, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,537 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Properties\Settings.settings
2021-03-06 16:18:50,538 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,540 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,544 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Form1.cs
2021-03-06 16:18:50,545 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 198;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (198, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
2021-03-06 16:18:50,548 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Form1.cs
2021-03-06 16:18:50,549 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,553 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Form1.Designer.cs
2021-03-06 16:18:50,564 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 199;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (199, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
2021-03-06 16:18:50,567 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Form1.Designer.cs
2021-03-06 16:18:50,568 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,572 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Form1.resx
2021-03-06 16:18:50,573 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'LsSample1b.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'LsSample1b.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,577 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\LsSample1b.csproj
2021-03-06 16:18:50,578 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'LsSample1b.sln';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'LsSample1b.sln', '.sln', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,582 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\LsSample1b.sln
2021-03-06 16:18:50,583 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 17:35:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 17:35:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 17:35:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,588 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Program.cs
2021-03-06 16:18:50,589 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 203;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (203, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 17:35:06', 120));
2021-03-06 16:18:50,592 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\Program.cs
2021-03-06 16:18:50,593 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 87 and file_name = 'UpgradeLog.htm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 87, 'UpgradeLog.htm', '.htm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,598 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample1b\UpgradeLog.htm
2021-03-06 16:18:50,599 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,600 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 69 
        and folder_name = 'LsSample2';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 69, 'LsSample2', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,604 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2
2021-03-06 16:18:50,605 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 104 
        and folder_name = '.vs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 104, '.vs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,610 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\.vs
2021-03-06 16:18:50,611 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 105 
        and folder_name = 'LsSample2';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 105, 'LsSample2', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,616 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\.vs\LsSample2
2021-03-06 16:18:50,617 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 106 
        and folder_name = 'v15';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 106, 'v15', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,621 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\.vs\LsSample2\v15
2021-03-06 16:18:50,622 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 107 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 107, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,626 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\.vs\LsSample2\v15\Server
2021-03-06 16:18:50,627 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 108 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 108, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,631 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\.vs\LsSample2\v15\Server\sqlite3
2021-03-06 16:18:50,632 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 109 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 109, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,636 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\.vs\LsSample2\v15\Server\sqlite3\db.lock
2021-03-06 16:18:50,636 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 109 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 109, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,641 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\.vs\LsSample2\v15\Server\sqlite3\storage.ide
2021-03-06 16:18:50,642 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 109 and file_name = 'storage.ide-shm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 109, 'storage.ide-shm', '.ide-shm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,646 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\.vs\LsSample2\v15\Server\sqlite3\storage.ide-shm
2021-03-06 16:18:50,647 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 109 and file_name = 'storage.ide-wal';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 109, 'storage.ide-wal', '.ide-wal', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,651 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\.vs\LsSample2\v15\Server\sqlite3\storage.ide-wal
2021-03-06 16:18:50,652 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,653 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,655 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 107 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 107, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,659 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\.vs\LsSample2\v15\.suo
2021-03-06 16:18:50,660 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,662 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 106 
        and folder_name = 'v16';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 106, 'v16', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,666 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\.vs\LsSample2\v16
2021-03-06 16:18:50,667 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 110 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 110, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,671 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\.vs\LsSample2\v16\Server
2021-03-06 16:18:50,672 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 111 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 111, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,678 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\.vs\LsSample2\v16\Server\sqlite3
2021-03-06 16:18:50,678 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 112 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 112, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,683 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\.vs\LsSample2\v16\Server\sqlite3\db.lock
2021-03-06 16:18:50,684 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 112 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 112, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,688 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\.vs\LsSample2\v16\Server\sqlite3\storage.ide
2021-03-06 16:18:50,689 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,690 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,691 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 110 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 110, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 18:11:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 18:11:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 18:11:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,695 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\.vs\LsSample2\v16\.suo
2021-03-06 16:18:50,696 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,698 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,699 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,700 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 104 
        and folder_name = 'Backup';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 104, 'Backup', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,704 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Backup
2021-03-06 16:18:50,705 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 113 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 113, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,710 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Backup\Properties
2021-03-06 16:18:50,711 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 114 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 114, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:08', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,716 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Backup\Properties\AssemblyInfo.cs
2021-03-06 16:18:50,724 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 213;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (213, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:08', 120));
2021-03-06 16:18:50,727 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Backup\Properties\AssemblyInfo.cs
2021-03-06 16:18:50,728 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 114 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 114, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,732 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Backup\Properties\Resources.Designer.cs
2021-03-06 16:18:50,741 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 214;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (214, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
2021-03-06 16:18:50,746 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Backup\Properties\Resources.Designer.cs
2021-03-06 16:18:50,747 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 114 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 114, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,751 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Backup\Properties\Resources.resx
2021-03-06 16:18:50,752 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 114 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 114, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,756 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Backup\Properties\Settings.Designer.cs
2021-03-06 16:18:50,764 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 216;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (216, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
2021-03-06 16:18:50,766 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Backup\Properties\Settings.Designer.cs
2021-03-06 16:18:50,767 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 114 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 114, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:08', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,772 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Backup\Properties\Settings.settings
2021-03-06 16:18:50,772 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,774 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'Declare.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'Declare.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-29 16:14:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-29 16:14:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-29 16:14:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,778 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Backup\Declare.cs
2021-03-06 16:18:50,784 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 218;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (218, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-29 16:14:16', 120));
2021-03-06 16:18:50,786 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Backup\Declare.cs
2021-03-06 16:18:50,787 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:42:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:42:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:42:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,791 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Backup\Form1.cs
2021-03-06 16:18:50,798 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 219;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (219, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:42:10', 120));
2021-03-06 16:18:50,802 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Backup\Form1.cs
2021-03-06 16:18:50,802 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 15:29:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 15:29:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 15:29:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,807 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Backup\Form1.Designer.cs
2021-03-06 16:18:50,817 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 220;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (220, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 15:29:24', 120));
2021-03-06 16:18:50,820 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Backup\Form1.Designer.cs
2021-03-06 16:18:50,820 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 15:29:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 15:29:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 15:29:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,825 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Backup\Form1.resx
2021-03-06 16:18:50,827 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'LsSample2.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'LsSample2.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-11 16:05:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-11 16:05:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-11 16:05:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,831 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Backup\LsSample2.csproj
2021-03-06 16:18:50,832 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,836 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Backup\Program.cs
2021-03-06 16:18:50,844 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 223;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (223, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
2021-03-06 16:18:50,847 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Backup\Program.cs
2021-03-06 16:18:50,847 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'Workspace.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'Workspace.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:42:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:42:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:42:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,851 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Backup\Workspace.cs
2021-03-06 16:18:50,859 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 224;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (224, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:42:02', 120));
2021-03-06 16:18:50,862 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Backup\Workspace.cs
2021-03-06 16:18:50,862 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 113 and file_name = 'WorkUnit.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 113, 'WorkUnit.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-09-22 14:23:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-09-22 14:23:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-09-22 14:23:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,868 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Backup\WorkUnit.cs
2021-03-06 16:18:50,874 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 225;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (225, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-09-22 14:23:40', 120));
2021-03-06 16:18:50,876 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Backup\WorkUnit.cs
2021-03-06 16:18:50,877 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,878 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 104 
        and folder_name = 'bin';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 104, 'bin', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,882 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\bin
2021-03-06 16:18:50,883 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 115 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 115, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,887 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\bin\Debug
2021-03-06 16:18:50,889 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 116 and file_name = 'AioiSystems.Lightstep.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 116, 'AioiSystems.Lightstep.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-22 16:39:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-22 16:39:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-22 16:39:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,893 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\bin\Debug\AioiSystems.Lightstep.dll
2021-03-06 16:18:50,893 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 116 and file_name = 'AioiSystems.Lightstep.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 116, 'AioiSystems.Lightstep.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2012-06-29 10:53:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2012-06-29 10:53:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2012-06-29 10:53:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,898 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\bin\Debug\AioiSystems.Lightstep.xml
2021-03-06 16:18:50,898 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 116 and file_name = 'LsSample2.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 116, 'LsSample2.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,904 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\bin\Debug\LsSample2.exe
2021-03-06 16:18:50,904 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 116 and file_name = 'LsSample2.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 116, 'LsSample2.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,909 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\bin\Debug\LsSample2.pdb
2021-03-06 16:18:50,909 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,911 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,912 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 104 
        and folder_name = 'obj';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 104, 'obj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,917 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\obj
2021-03-06 16:18:50,918 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 117 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 117, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,922 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\obj\Debug
2021-03-06 16:18:50,923 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 118 
        and folder_name = 'TempPE';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 118, 'TempPE', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,927 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\obj\Debug\TempPE
2021-03-06 16:18:50,928 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 119 and file_name = 'Properties.Resources.Designer.cs.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 119, 'Properties.Resources.Designer.cs.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,933 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\obj\Debug\TempPE\Properties.Resources.Designer.cs.dll
2021-03-06 16:18:50,933 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:50,935 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'DesignTimeResolveAssemblyReferences.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'DesignTimeResolveAssemblyReferences.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 18:10:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 18:10:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 18:10:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,939 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\obj\Debug\DesignTimeResolveAssemblyReferences.cache
2021-03-06 16:18:50,940 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'DesignTimeResolveAssemblyReferencesInput.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'DesignTimeResolveAssemblyReferencesInput.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,944 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\obj\Debug\DesignTimeResolveAssemblyReferencesInput.cache
2021-03-06 16:18:50,944 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.csproj.CopyComplete';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.csproj.CopyComplete', '.copycomplete', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,949 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\obj\Debug\LsSample2.csproj.CopyComplete
2021-03-06 16:18:50,950 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.csproj.CoreCompileInputs.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.csproj.CoreCompileInputs.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,954 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\obj\Debug\LsSample2.csproj.CoreCompileInputs.cache
2021-03-06 16:18:50,955 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.csproj.FileListAbsolute.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.csproj.FileListAbsolute.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,959 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\obj\Debug\LsSample2.csproj.FileListAbsolute.txt
2021-03-06 16:18:50,964 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 235;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (235, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:16', 120));
2021-03-06 16:18:50,967 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\obj\Debug\LsSample2.csproj.FileListAbsolute.txt
2021-03-06 16:18:50,968 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.csproj.GenerateResource.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.csproj.GenerateResource.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,973 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\obj\Debug\LsSample2.csproj.GenerateResource.cache
2021-03-06 16:18:50,977 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.csprojAssemblyReference.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.csprojAssemblyReference.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,984 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\obj\Debug\LsSample2.csprojAssemblyReference.cache
2021-03-06 16:18:50,985 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,989 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\obj\Debug\LsSample2.exe
2021-03-06 16:18:50,989 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.Form1.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.Form1.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,994 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\obj\Debug\LsSample2.Form1.resources
2021-03-06 16:18:50,995 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:03:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:03:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:03:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:50,999 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\obj\Debug\LsSample2.pdb
2021-03-06 16:18:50,999 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 118 and file_name = 'LsSample2.Properties.Resources.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 118, 'LsSample2.Properties.Resources.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,004 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\obj\Debug\LsSample2.Properties.Resources.resources
2021-03-06 16:18:51,005 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,006 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,008 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 104 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 104, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,012 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Properties
2021-03-06 16:18:51,013 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 120 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 120, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:08', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,017 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Properties\AssemblyInfo.cs
2021-03-06 16:18:51,019 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 242;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (242, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:08', 120));
2021-03-06 16:18:51,022 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Properties\AssemblyInfo.cs
2021-03-06 16:18:51,023 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 120 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 120, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,027 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Properties\Resources.Designer.cs
2021-03-06 16:18:51,035 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 243;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (243, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:16', 120));
2021-03-06 16:18:51,038 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Properties\Resources.Designer.cs
2021-03-06 16:18:51,038 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 120 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 120, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,043 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Properties\Resources.resx
2021-03-06 16:18:51,044 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 120 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 120, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,048 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Properties\Settings.Designer.cs
2021-03-06 16:18:51,056 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 245;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (245, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:16', 120));
2021-03-06 16:18:51,059 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Properties\Settings.Designer.cs
2021-03-06 16:18:51,060 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 120 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 120, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:08', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,064 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Properties\Settings.settings
2021-03-06 16:18:51,065 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,066 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'Declare.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'Declare.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-29 16:14:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-29 16:14:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-29 16:14:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,070 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Declare.cs
2021-03-06 16:18:51,072 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 247;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (247, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-29 16:14:16', 120));
2021-03-06 16:18:51,075 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Declare.cs
2021-03-06 16:18:51,076 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:42:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:42:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:42:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,080 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Form1.cs
2021-03-06 16:18:51,081 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 248;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (248, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:42:10', 120));
2021-03-06 16:18:51,084 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Form1.cs
2021-03-06 16:18:51,085 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 15:29:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 15:29:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 15:29:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,090 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Form1.Designer.cs
2021-03-06 16:18:51,090 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 249;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (249, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 15:29:24', 120));
2021-03-06 16:18:51,093 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Form1.Designer.cs
2021-03-06 16:18:51,094 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 15:29:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 15:29:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 15:29:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,099 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Form1.resx
2021-03-06 16:18:51,100 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'LsSample2.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'LsSample2.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,104 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\LsSample2.csproj
2021-03-06 16:18:51,105 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'LsSample2.sln';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'LsSample2.sln', '.sln', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,109 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\LsSample2.sln
2021-03-06 16:18:51,110 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-26 13:38:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-26 13:38:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,114 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Program.cs
2021-03-06 16:18:51,115 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 253;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (253, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-26 13:38:10', 120));
2021-03-06 16:18:51,118 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Program.cs
2021-03-06 16:18:51,119 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'UpgradeLog.htm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'UpgradeLog.htm', '.htm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:42:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:42:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:42:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,126 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\UpgradeLog.htm
2021-03-06 16:18:51,127 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'Workspace.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'Workspace.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:42:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:42:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:42:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,131 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Workspace.cs
2021-03-06 16:18:51,138 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 255;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (255, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:42:02', 120));
2021-03-06 16:18:51,141 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\Workspace.cs
2021-03-06 16:18:51,142 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 104 and file_name = 'WorkUnit.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 104, 'WorkUnit.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-09-22 14:23:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-09-22 14:23:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-09-22 14:23:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,146 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\WorkUnit.cs
2021-03-06 16:18:51,152 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 256;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (256, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-09-22 14:23:40', 120));
2021-03-06 16:18:51,155 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\cs\LsSample2\WorkUnit.cs
2021-03-06 16:18:51,156 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,158 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,159 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 68 
        and folder_name = 'Flowlight';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 68, 'Flowlight', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,163 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Flowlight
2021-03-06 16:18:51,165 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 121 
        and folder_name = 'Flowlight15E_Setup_x64';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 121, 'Flowlight15E_Setup_x64', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,169 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Flowlight\Flowlight15E_Setup_x64
2021-03-06 16:18:51,170 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 122 and file_name = 'Flowlight15E_Setup_x64.msi';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 122, 'Flowlight15E_Setup_x64.msi', '.msi', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-04-19 16:09:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-04-19 16:09:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-04-19 16:09:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,174 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Flowlight\Flowlight15E_Setup_x64\Flowlight15E_Setup_x64.msi
2021-03-06 16:18:51,175 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,177 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 121 
        and folder_name = 'Flowlight15E_Setup_x86';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 121, 'Flowlight15E_Setup_x86', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:16', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,181 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Flowlight\Flowlight15E_Setup_x86
2021-03-06 16:18:51,182 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 123 and file_name = 'Flowlight15E_Setup_x86.msi';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 123, 'Flowlight15E_Setup_x86.msi', '.msi', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,186 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Flowlight\Flowlight15E_Setup_x86\Flowlight15E_Setup_x86.msi
2021-03-06 16:18:51,187 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,188 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,189 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 68 
        and folder_name = 'Lightstep104e';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 68, 'Lightstep104e', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:17', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,193 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Lightstep104e
2021-03-06 16:18:51,194 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 124 
        and folder_name = 'Manual';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 124, 'Manual', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:17', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,199 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Lightstep104e\Manual
2021-03-06 16:18:51,200 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 125 and file_name = 'Lightstep10_PG30E.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 125, 'Lightstep10_PG30E.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,204 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Lightstep104e\Manual\Lightstep10_PG30E.pdf
2021-03-06 16:18:51,205 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,207 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 124 and file_name = 'Lightstep10E_Setup_x64.msi';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 124, 'Lightstep10E_Setup_x64.msi', '.msi', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,211 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Lightstep104e\Lightstep10E_Setup_x64.msi
2021-03-06 16:18:51,212 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 124 and file_name = 'Lightstep10E_Setup_x86.msi';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 124, 'Lightstep10E_Setup_x86.msi', '.msi', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,217 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Lightstep104e\Lightstep10E_Setup_x86.msi
2021-03-06 16:18:51,218 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 124 and file_name = 'Read_at_the_beginning.rtf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 124, 'Read_at_the_beginning.rtf', '.rtf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,221 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Lightstep104e\Read_at_the_beginning.rtf
2021-03-06 16:18:51,222 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 124 and file_name = 'Revision_history.rtf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 124, 'Revision_history.rtf', '.rtf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,228 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Lightstep104e\Revision_history.rtf
2021-03-06 16:18:51,228 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,230 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 68 
        and folder_name = 'Reflexer1.2.5e';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 68, 'Reflexer1.2.5e', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,235 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Reflexer1.2.5e
2021-03-06 16:18:51,236 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 126 
        and folder_name = 'Manual';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 126, 'Manual', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:17', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,241 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Reflexer1.2.5e\Manual
2021-03-06 16:18:51,242 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 127 and file_name = 'ReflexerUM12e.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 127, 'ReflexerUM12e.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:45:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,246 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Reflexer1.2.5e\Manual\ReflexerUM12e.pdf
2021-03-06 16:18:51,247 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,248 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 126 
        and folder_name = 'x64';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 126, 'x64', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,253 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Reflexer1.2.5e\x64
2021-03-06 16:18:51,253 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 128 and file_name = 'Reflexer12E_LE_Setup_x64.msi';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 128, 'Reflexer12E_LE_Setup_x64.msi', '.msi', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:45:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,257 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Reflexer1.2.5e\x64\Reflexer12E_LE_Setup_x64.msi
2021-03-06 16:18:51,258 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 128 and file_name = 'setup.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 128, 'setup.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:45:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,263 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Reflexer1.2.5e\x64\setup.exe
2021-03-06 16:18:51,264 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,265 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 126 
        and folder_name = 'x86';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 126, 'x86', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,270 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Reflexer1.2.5e\x86
2021-03-06 16:18:51,271 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 129 and file_name = 'Reflexer12E_LE_Setup_x86.msi';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 129, 'Reflexer12E_LE_Setup_x86.msi', '.msi', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:45:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,275 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Reflexer1.2.5e\x86\Reflexer12E_LE_Setup_x86.msi
2021-03-06 16:18:51,276 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 129 and file_name = 'setup.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 129, 'setup.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:45:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,280 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Reflexer1.2.5e\x86\setup.exe
2021-03-06 16:18:51,281 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,283 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 126 and file_name = 'readme.rtf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 126, 'readme.rtf', '.rtf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:45:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,287 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Reflexer1.2.5e\readme.rtf
2021-03-06 16:18:51,288 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,289 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 68 
        and folder_name = 'Software development manual and software package';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 68, 'Software development manual and software package', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,293 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Software development manual and software package
2021-03-06 16:18:51,294 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 130 
        and folder_name = '7 Color light';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 130, '7 Color light', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,298 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Software development manual and software package\7 Color light
2021-03-06 16:18:51,299 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 131 and file_name = 'PP505 command creating process.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 131, 'PP505 command creating process.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,303 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Software development manual and software package\7 Color light\PP505 command creating process.pdf
2021-03-06 16:18:51,304 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 131 and file_name = 'PP505 command examples for 7 colors.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 131, 'PP505 command examples for 7 colors.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,309 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Software development manual and software package\7 Color light\PP505 command examples for 7 colors.pdf
2021-03-06 16:18:51,310 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 131 and file_name = 'PP505 command manual description.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 131, 'PP505 command manual description.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,314 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Software development manual and software package\7 Color light\PP505 command manual description.pdf
2021-03-06 16:18:51,315 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,316 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 130 
        and folder_name = 'MWU2414';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 130, 'MWU2414', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,320 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Software development manual and software package\MWU2414
2021-03-06 16:18:51,321 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 132 and file_name = 'MWU2414 Commands V1.1.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 132, 'MWU2414 Commands V1.1.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,325 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Software development manual and software package\MWU2414\MWU2414 Commands V1.1.pdf
2021-03-06 16:18:51,326 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,328 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 130 
        and folder_name = 'Reflexer';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 130, 'Reflexer', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,332 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Software development manual and software package\Reflexer
2021-03-06 16:18:51,333 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 133 and file_name = 'Reflexer.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 133, 'Reflexer.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,338 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Software development manual and software package\Reflexer\Reflexer.pdf
2021-03-06 16:18:51,339 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,340 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 130 and file_name = 'S- Key.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 130, 'S- Key.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,344 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Software development manual and software package\S- Key.pdf
2021-03-06 16:18:51,344 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 130 and file_name = 'TCP_IP Command Reference V6.0.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 130, 'TCP_IP Command Reference V6.0.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:30:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:30:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:30:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,349 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\Software development manual and software package\TCP_IP Command Reference V6.0.pdf
2021-03-06 16:18:51,349 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,352 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 68 and file_name = 'How to configure the DPDs with Flowlight.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 68, 'How to configure the DPDs with Flowlight.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:11:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:11:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:11:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,356 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\How to configure the DPDs with Flowlight.pdf
2021-03-06 16:18:51,357 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 68 and file_name = 'MWU series installation user manual.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 68, 'MWU series installation user manual.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:11:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:11:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:11:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,361 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\MWU series installation user manual.pdf
2021-03-06 16:18:51,362 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 68 and file_name = 'PTL system communication overview.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 68, 'PTL system communication overview.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:10:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:10:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:10:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,366 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\PickToLight\PTL system communication overview.pdf
2021-03-06 16:18:51,366 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,368 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 67 
        and folder_name = 'ptl';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 67, 'ptl', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,372 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl
2021-03-06 16:18:51,372 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 134 
        and folder_name = '.vs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 134, '.vs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,377 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\.vs
2021-03-06 16:18:51,378 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 135 
        and folder_name = 'LsSample1a';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 135, 'LsSample1a', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,382 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\.vs\LsSample1a
2021-03-06 16:18:51,383 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 136 
        and folder_name = 'v15';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 136, 'v15', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,388 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\.vs\LsSample1a\v15
2021-03-06 16:18:51,388 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 137 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 137, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,392 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\.vs\LsSample1a\v15\Server
2021-03-06 16:18:51,392 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 138 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 138, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,397 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\.vs\LsSample1a\v15\Server\sqlite3
2021-03-06 16:18:51,398 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 139 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 139, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:04:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:04:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:04:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,402 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\.vs\LsSample1a\v15\Server\sqlite3\db.lock
2021-03-06 16:18:51,403 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 139 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 139, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:04:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:04:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:04:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,407 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\.vs\LsSample1a\v15\Server\sqlite3\storage.ide
2021-03-06 16:18:51,408 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 139 and file_name = 'storage.ide-shm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 139, 'storage.ide-shm', '.ide-shm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:04:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:04:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:04:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,412 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\.vs\LsSample1a\v15\Server\sqlite3\storage.ide-shm
2021-03-06 16:18:51,413 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 139 and file_name = 'storage.ide-wal';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 139, 'storage.ide-wal', '.ide-wal', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:07:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:07:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:07:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,417 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\.vs\LsSample1a\v15\Server\sqlite3\storage.ide-wal
2021-03-06 16:18:51,418 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,420 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,422 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 137 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 137, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:37:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:37:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:37:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,426 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\.vs\LsSample1a\v15\.suo
2021-03-06 16:18:51,427 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,428 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,430 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 135 
        and folder_name = 'ptl';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 135, 'ptl', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,435 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\.vs\ptl
2021-03-06 16:18:51,435 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 140 
        and folder_name = 'v15';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 140, 'v15', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,440 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\.vs\ptl\v15
2021-03-06 16:18:51,440 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 141 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 141, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,445 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\.vs\ptl\v15\Server
2021-03-06 16:18:51,445 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 142 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 142, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,450 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\.vs\ptl\v15\Server\sqlite3
2021-03-06 16:18:51,451 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 143 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 143, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:39:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:39:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:39:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,455 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\.vs\ptl\v15\Server\sqlite3\db.lock
2021-03-06 16:18:51,457 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 143 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 143, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:39:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:39:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:39:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,462 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\.vs\ptl\v15\Server\sqlite3\storage.ide
2021-03-06 16:18:51,463 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 143 and file_name = 'storage.ide-shm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 143, 'storage.ide-shm', '.ide-shm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:39:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:39:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:39:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,467 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\.vs\ptl\v15\Server\sqlite3\storage.ide-shm
2021-03-06 16:18:51,468 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 143 and file_name = 'storage.ide-wal';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 143, 'storage.ide-wal', '.ide-wal', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-29 10:50:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-29 10:50:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-29 10:50:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,472 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\.vs\ptl\v15\Server\sqlite3\storage.ide-wal
2021-03-06 16:18:51,473 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,474 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,476 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 141 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 141, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-04 09:54:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-02-04 09:54:15', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-02-04 09:54:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,480 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\.vs\ptl\v15\.suo
2021-03-06 16:18:51,481 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,483 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,485 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,486 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 134 
        and folder_name = 'bin';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 134, 'bin', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,490 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\bin
2021-03-06 16:18:51,491 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 144 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 144, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,495 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\bin\Debug
2021-03-06 16:18:51,496 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 145 and file_name = 'AioiSystems.Lightstep.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 145, 'AioiSystems.Lightstep.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-24 13:50:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-24 13:50:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-24 13:50:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,500 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\bin\Debug\AioiSystems.Lightstep.dll
2021-03-06 16:18:51,501 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 145 and file_name = 'AioiSystems.Lightstep.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 145, 'AioiSystems.Lightstep.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2012-06-29 11:53:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2012-06-29 11:53:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2012-06-29 11:53:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,506 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\bin\Debug\AioiSystems.Lightstep.xml
2021-03-06 16:18:51,506 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 145 and file_name = 'LsSample1a.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 145, 'LsSample1a.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,511 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\bin\Debug\LsSample1a.exe
2021-03-06 16:18:51,511 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 145 and file_name = 'LsSample1a.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 145, 'LsSample1a.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,516 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\bin\Debug\LsSample1a.pdb
2021-03-06 16:18:51,517 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,518 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,520 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 134 
        and folder_name = 'obj';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 134, 'obj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,524 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\obj
2021-03-06 16:18:51,524 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 146 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 146, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,528 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\obj\Debug
2021-03-06 16:18:51,529 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 147 
        and folder_name = 'TempPE';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 147, 'TempPE', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,533 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\obj\Debug\TempPE
2021-03-06 16:18:51,534 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 148 and file_name = 'Properties.Resources.Designer.cs.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 148, 'Properties.Resources.Designer.cs.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,539 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\obj\Debug\TempPE\Properties.Resources.Designer.cs.dll
2021-03-06 16:18:51,539 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,541 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'DesignTimeResolveAssemblyReferences.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'DesignTimeResolveAssemblyReferences.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 17:39:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 17:39:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 17:39:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,546 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\obj\Debug\DesignTimeResolveAssemblyReferences.cache
2021-03-06 16:18:51,547 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'DesignTimeResolveAssemblyReferencesInput.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'DesignTimeResolveAssemblyReferencesInput.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:00:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:00:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:00:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,551 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\obj\Debug\DesignTimeResolveAssemblyReferencesInput.cache
2021-03-06 16:18:51,552 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.csproj.CopyComplete';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.csproj.CopyComplete', '.copycomplete', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,556 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\obj\Debug\LsSample1a.csproj.CopyComplete
2021-03-06 16:18:51,556 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.csproj.CoreCompileInputs.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.csproj.CoreCompileInputs.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:04:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:04:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:04:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,561 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\obj\Debug\LsSample1a.csproj.CoreCompileInputs.cache
2021-03-06 16:18:51,562 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.csproj.FileListAbsolute.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.csproj.FileListAbsolute.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,567 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\obj\Debug\LsSample1a.csproj.FileListAbsolute.txt
2021-03-06 16:18:51,568 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 299;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (299, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:50', 120));
2021-03-06 16:18:51,571 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\obj\Debug\LsSample1a.csproj.FileListAbsolute.txt
2021-03-06 16:18:51,571 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.csproj.GenerateResource.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.csproj.GenerateResource.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,576 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\obj\Debug\LsSample1a.csproj.GenerateResource.cache
2021-03-06 16:18:51,577 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.csprojAssemblyReference.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.csprojAssemblyReference.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:04:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:04:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:04:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,582 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\obj\Debug\LsSample1a.csprojAssemblyReference.cache
2021-03-06 16:18:51,582 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,588 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\obj\Debug\LsSample1a.exe
2021-03-06 16:18:51,589 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.Form1.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.Form1.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,593 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\obj\Debug\LsSample1a.Form1.resources
2021-03-06 16:18:51,594 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.frm_main.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.frm_main.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,601 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\obj\Debug\LsSample1a.frm_main.resources
2021-03-06 16:18:51,601 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,607 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\obj\Debug\LsSample1a.pdb
2021-03-06 16:18:51,608 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'LsSample1a.Properties.Resources.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'LsSample1a.Properties.Resources.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,612 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\obj\Debug\LsSample1a.Properties.Resources.resources
2021-03-06 16:18:51,613 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'ptl.csproj.CopyComplete';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'ptl.csproj.CopyComplete', '.copycomplete', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,619 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\obj\Debug\ptl.csproj.CopyComplete
2021-03-06 16:18:51,619 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'ptl.csproj.CoreCompileInputs.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'ptl.csproj.CoreCompileInputs.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:00:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:00:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:00:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,623 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\obj\Debug\ptl.csproj.CoreCompileInputs.cache
2021-03-06 16:18:51,624 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'ptl.csproj.FileListAbsolute.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'ptl.csproj.FileListAbsolute.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:45:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,629 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\obj\Debug\ptl.csproj.FileListAbsolute.txt
2021-03-06 16:18:51,634 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 309;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (309, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:45:06', 120));
2021-03-06 16:18:51,636 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\obj\Debug\ptl.csproj.FileListAbsolute.txt
2021-03-06 16:18:51,638 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'ptl.csproj.GenerateResource.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'ptl.csproj.GenerateResource.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:52:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:52:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:52:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,642 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\obj\Debug\ptl.csproj.GenerateResource.cache
2021-03-06 16:18:51,642 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 147 and file_name = 'ptl.csprojAssemblyReference.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 147, 'ptl.csprojAssemblyReference.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:39:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:39:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:39:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,646 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\obj\Debug\ptl.csprojAssemblyReference.cache
2021-03-06 16:18:51,647 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,654 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,656 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 134 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 134, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:19', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,661 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\Properties
2021-03-06 16:18:51,662 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 149 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 149, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,667 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\Properties\AssemblyInfo.cs
2021-03-06 16:18:51,667 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 312;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (312, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
2021-03-06 16:18:51,670 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\Properties\AssemblyInfo.cs
2021-03-06 16:18:51,671 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 149 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 149, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,676 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\Properties\Resources.Designer.cs
2021-03-06 16:18:51,677 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 313;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (313, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:32', 120));
2021-03-06 16:18:51,680 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\Properties\Resources.Designer.cs
2021-03-06 16:18:51,681 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 149 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 149, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,685 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\Properties\Resources.resx
2021-03-06 16:18:51,686 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 149 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 149, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,692 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\Properties\Settings.Designer.cs
2021-03-06 16:18:51,693 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 315;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (315, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:34', 120));
2021-03-06 16:18:51,696 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\Properties\Settings.Designer.cs
2021-03-06 16:18:51,697 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 149 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 149, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,701 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\Properties\Settings.settings
2021-03-06 16:18:51,702 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,703 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 134 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 134, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:52:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:52:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:52:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,707 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\Form1.cs
2021-03-06 16:18:51,715 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 317;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (317, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:52:51', 120));
2021-03-06 16:18:51,718 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\Form1.cs
2021-03-06 16:18:51,719 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 134 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 134, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:52:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:52:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:52:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,724 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\Form1.Designer.cs
2021-03-06 16:18:51,734 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 318;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (318, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:52:34', 120));
2021-03-06 16:18:51,737 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\Form1.Designer.cs
2021-03-06 16:18:51,738 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 134 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 134, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:52:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:52:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:52:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,743 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\Form1.resx
2021-03-06 16:18:51,744 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 134 and file_name = 'pick_to_light.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 134, 'pick_to_light.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,748 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\pick_to_light.cs
2021-03-06 16:18:51,756 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 320;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (320, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:43', 120));
2021-03-06 16:18:51,759 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\pick_to_light.cs
2021-03-06 16:18:51,759 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 134 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 134, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:40:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:40:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:40:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,764 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\Program.cs
2021-03-06 16:18:51,771 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 321;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (321, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:40:23', 120));
2021-03-06 16:18:51,774 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\Program.cs
2021-03-06 16:18:51,775 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 134 and file_name = 'ptl.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 134, 'ptl.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 18:07:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 18:07:57', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 18:07:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,779 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\ptl.csproj
2021-03-06 16:18:51,780 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 134 and file_name = 'ptl.sln';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 134, 'ptl.sln', '.sln', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:38:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:38:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:38:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,784 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\ptl.sln
2021-03-06 16:18:51,785 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 134 and file_name = 'UpgradeLog.htm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 134, 'UpgradeLog.htm', '.htm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,792 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\ptl\UpgradeLog.htm
2021-03-06 16:18:51,793 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,794 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 67 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 67, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-03 14:02:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-03 14:02:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-03 14:02:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,798 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\i.txt
2021-03-06 16:18:51,804 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 325;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (325, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-03 14:02:04', 120));
2021-03-06 16:18:51,807 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\i.txt
2021-03-06 16:18:51,807 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 53;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (53, 325, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-03 14:02:04', 120));
2021-03-06 16:18:51,810 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\magazzino\leds magazzino elettronico.task\i.txt
2021-03-06 16:18:51,810 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,812 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'magazzino inchiodato.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'magazzino inchiodato.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,816 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\magazzino inchiodato.task
2021-03-06 16:18:51,821 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 150 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 150, null, left('magazzino inchiodato', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('magazzino inchiodato', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:47', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('magazzino inchiodato', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,826 [11] DEBUG dn_lib.tools.log - aggiunto task al database: magazzino inchiodato
2021-03-06 16:18:51,827 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 150 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 150, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-06 15:23:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-06 15:23:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-06 15:23:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,831 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\magazzino inchiodato.task\content.sql
2021-03-06 16:18:51,838 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 326;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (326, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-06 15:23:26', 120));
2021-03-06 16:18:51,841 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\magazzino inchiodato.task\content.sql
2021-03-06 16:18:51,842 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 54) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,849 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'stato aggiuntivo casse - semi piena - molto piena.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'stato aggiuntivo casse - semi piena - molto piena.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,853 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\stato aggiuntivo casse - semi piena - molto piena.task
2021-03-06 16:18:51,855 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 151 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 151, null, left('stato aggiuntivo casse - semi piena - molto piena', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('stato aggiuntivo casse - semi piena - molto piena', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:47', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('stato aggiuntivo casse - semi piena - molto piena', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,861 [11] DEBUG dn_lib.tools.log - aggiunto task al database: stato aggiuntivo casse - semi piena - molto piena
2021-03-06 16:18:51,862 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 55) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,868 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'svuota cassa.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'svuota cassa.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,873 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\magazzino\svuota cassa.task
2021-03-06 16:18:51,878 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 152 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 152, null, left('svuota cassa', 150)
            , 'molina', convert(datetime, '2021-02-22 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-02-22 00:00:00', 120), dt_upd = NULL
         , title = left('svuota cassa', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-02-22 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('svuota cassa', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,883 [11] DEBUG dn_lib.tools.log - aggiunto task al database: svuota cassa
2021-03-06 16:18:51,883 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 152 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 152, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-22 10:16:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-22 10:16:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-22 10:16:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,888 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\svuota cassa.task\i.txt
2021-03-06 16:18:51,894 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 327;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (327, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-22 10:16:03', 120));
2021-03-06 16:18:51,897 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\svuota cassa.task\i.txt
2021-03-06 16:18:51,898 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 56;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (56, 327, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-22 10:16:03', 120));
2021-03-06 16:18:51,901 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\magazzino\svuota cassa.task\i.txt
2021-03-06 16:18:51,902 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 152 and file_name = 'svuota la cassa.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 152, 'svuota la cassa.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-22 10:15:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-22 10:15:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-22 10:15:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,906 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\magazzino\svuota cassa.task\svuota la cassa.sql
2021-03-06 16:18:51,911 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 328;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (328, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-22 10:15:45', 120));
2021-03-06 16:18:51,914 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\magazzino\svuota cassa.task\svuota la cassa.sql
2021-03-06 16:18:51,915 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 56) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,922 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'manager';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'manager', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,926 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\manager
2021-03-06 16:18:51,928 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 153 
        and folder_name = 'griglia articoli .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 153, 'griglia articoli .task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,933 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\manager\griglia articoli .task
2021-03-06 16:18:51,938 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 154 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 154, null, left('griglia articoli ', 150)
            , 'molina', convert(datetime, '2020-09-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-21 00:00:00', 120), dt_upd = NULL
         , title = left('griglia articoli ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('griglia articoli ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,944 [11] DEBUG dn_lib.tools.log - aggiunto task al database: griglia articoli 
2021-03-06 16:18:51,945 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 154 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 154, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-21 14:46:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-21 14:46:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-21 14:46:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,950 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\manager\griglia articoli .task\i.txt
2021-03-06 16:18:51,955 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 329;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (329, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-21 14:46:58', 120));
2021-03-06 16:18:51,959 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\manager\griglia articoli .task\i.txt
2021-03-06 16:18:51,959 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 57;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (57, 329, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-21 14:46:58', 120));
2021-03-06 16:18:51,962 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\manager\griglia articoli .task\i.txt
2021-03-06 16:18:51,962 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 57) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:51,970 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 153 
        and folder_name = 'restyling maschera principale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 153, 'restyling maschera principale.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,974 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\manager\restyling maschera principale.task
2021-03-06 16:18:51,979 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 155 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 155, null, left('restyling maschera principale', 150)
            , NULL, convert(datetime, '2020-09-02 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-02 00:00:00', 120), dt_upd = NULL
         , title = left('restyling maschera principale', 150), [user] = NULL
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('restyling maschera principale', '') or isnull([user], '') <> isnull(NULL, '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,985 [11] DEBUG dn_lib.tools.log - aggiunto task al database: restyling maschera principale
2021-03-06 16:18:51,985 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 155 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 155, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-02 09:19:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-02 09:19:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-02 09:19:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:51,989 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\manager\restyling maschera principale.task\i.txt
2021-03-06 16:18:51,998 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 330;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (330, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-02 09:19:52', 120));
2021-03-06 16:18:52,002 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\manager\restyling maschera principale.task\i.txt
2021-03-06 16:18:52,002 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 58;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (58, 330, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-02 09:19:52', 120));
2021-03-06 16:18:52,005 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\manager\restyling maschera principale.task\i.txt
2021-03-06 16:18:52,006 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 58) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:52,013 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'obelisk';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'obelisk', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,017 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obelisk
2021-03-06 16:18:52,018 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'aggiornamento numero K.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'aggiornamento numero K.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,022 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obelisk\aggiornamento numero K.task
2021-03-06 16:18:52,026 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 157 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 157, null, left('aggiornamento numero K', 150)
            , 'molina', convert(datetime, '2020-08-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'facile', 'ora', convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-25 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornamento numero K', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:47', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornamento numero K', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,031 [11] DEBUG dn_lib.tools.log - aggiunto task al database: aggiornamento numero K
2021-03-06 16:18:52,033 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 157 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 157, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-25 09:06:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-25 09:06:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-25 09:06:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,037 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\aggiornamento numero K.task\sql.sql
2021-03-06 16:18:52,042 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 331;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (331, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-25 09:06:14', 120));
2021-03-06 16:18:52,045 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\aggiornamento numero K.task\sql.sql
2021-03-06 16:18:52,045 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 59) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:52,053 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'Aggiugnere campo ricerca nel carrellino nero.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'Aggiugnere campo ricerca nel carrellino nero.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:49', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,057 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obelisk\Aggiugnere campo ricerca nel carrellino nero.task
2021-03-06 16:18:52,063 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 158 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 158, null, left('Aggiugnere campo ricerca nel carrellino nero', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('Aggiugnere campo ricerca nel carrellino nero', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:49', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('Aggiugnere campo ricerca nel carrellino nero', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,068 [11] DEBUG dn_lib.tools.log - aggiunto task al database: Aggiugnere campo ricerca nel carrellino nero
2021-03-06 16:18:52,069 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 158 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 158, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-18 09:31:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-18 09:31:15', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-18 09:31:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,073 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\Aggiugnere campo ricerca nel carrellino nero.task\Thumbs.db
2021-03-06 16:18:52,074 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 158 and file_name = 'untitled.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 158, 'untitled.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-17 08:28:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-17 08:28:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-17 08:28:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,078 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\Aggiugnere campo ricerca nel carrellino nero.task\untitled.png
2021-03-06 16:18:52,079 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 60) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:52,085 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'aggiunta colonna nota operatore.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'aggiunta colonna nota operatore.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,090 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obelisk\aggiunta colonna nota operatore.task
2021-03-06 16:18:52,095 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 159 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 159, null, left('aggiunta colonna nota operatore', 150)
            , 'molina', convert(datetime, '2020-09-03 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'facile', 'ora', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-03 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta colonna nota operatore', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-03 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta colonna nota operatore', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,102 [11] DEBUG dn_lib.tools.log - aggiunto task al database: aggiunta colonna nota operatore
2021-03-06 16:18:52,103 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 159 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 159, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 12:11:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-03 12:11:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-03 12:11:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,107 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\aggiunta colonna nota operatore.task\i.txt
2021-03-06 16:18:52,115 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 334;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (334, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 12:11:52', 120));
2021-03-06 16:18:52,118 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\aggiunta colonna nota operatore.task\i.txt
2021-03-06 16:18:52,118 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 61;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (61, 334, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 12:11:52', 120));
2021-03-06 16:18:52,121 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\obelisk\aggiunta colonna nota operatore.task\i.txt
2021-03-06 16:18:52,122 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 61) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:52,129 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'aggiunta DEVONO ARRIVARE al tooltip.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'aggiunta DEVONO ARRIVARE al tooltip.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,133 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obelisk\aggiunta DEVONO ARRIVARE al tooltip.task
2021-03-06 16:18:52,138 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 160 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 160, null, left('aggiunta DEVONO ARRIVARE al tooltip', 150)
            , 'molina', convert(datetime, '2020-09-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezzora', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-17 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta DEVONO ARRIVARE al tooltip', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta DEVONO ARRIVARE al tooltip', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,143 [11] DEBUG dn_lib.tools.log - aggiunto task al database: aggiunta DEVONO ARRIVARE al tooltip
2021-03-06 16:18:52,144 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 62) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:52,152 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'aggiunta marca alle info prodotto.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'aggiunta marca alle info prodotto.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,156 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obelisk\aggiunta marca alle info prodotto.task
2021-03-06 16:18:52,161 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 161 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 161, null, left('aggiunta marca alle info prodotto', 150)
            , 'molina', convert(datetime, '2020-08-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-21 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta marca alle info prodotto', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:47', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta marca alle info prodotto', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,167 [11] DEBUG dn_lib.tools.log - aggiunto task al database: aggiunta marca alle info prodotto
2021-03-06 16:18:52,168 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 63) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:52,174 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'aggiunta ordinamento ricerca prodotti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'aggiunta ordinamento ricerca prodotti.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,179 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obelisk\aggiunta ordinamento ricerca prodotti.task
2021-03-06 16:18:52,184 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 162 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 162, null, left('aggiunta ordinamento ricerca prodotti', 150)
            , 'molina', convert(datetime, '2020-08-31 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', 'mezzora', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-31 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta ordinamento ricerca prodotti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-31 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta ordinamento ricerca prodotti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,189 [11] DEBUG dn_lib.tools.log - aggiunto task al database: aggiunta ordinamento ricerca prodotti
2021-03-06 16:18:52,190 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 162 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 162, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 18:31:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-31 18:31:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-31 18:31:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,195 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\aggiunta ordinamento ricerca prodotti.task\i.txt
2021-03-06 16:18:52,200 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 335;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (335, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 18:31:51', 120));
2021-03-06 16:18:52,204 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\aggiunta ordinamento ricerca prodotti.task\i.txt
2021-03-06 16:18:52,205 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 64;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (64, 335, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 18:31:51', 120));
2021-03-06 16:18:52,207 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\obelisk\aggiunta ordinamento ricerca prodotti.task\i.txt
2021-03-06 16:18:52,208 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 64) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:52,215 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'carrello nero - filtri.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'carrello nero - filtri.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:49', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,219 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obelisk\carrello nero - filtri.task
2021-03-06 16:18:52,220 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 163 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 163, null, left('carrello nero - filtri', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('carrello nero - filtri', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:49', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('carrello nero - filtri', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,227 [11] DEBUG dn_lib.tools.log - aggiunto task al database: carrello nero - filtri
2021-03-06 16:18:52,227 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 163 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 163, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-12 11:11:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-12 11:11:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-12 11:11:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,232 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\carrello nero - filtri.task\content.sql
2021-03-06 16:18:52,233 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 65) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:52,240 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'check tooltip prevista consegna.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'check tooltip prevista consegna.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:49', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,243 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obelisk\check tooltip prevista consegna.task
2021-03-06 16:18:52,248 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 164 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 164, null, left('check tooltip prevista consegna', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('check tooltip prevista consegna', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:49', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('check tooltip prevista consegna', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,255 [11] DEBUG dn_lib.tools.log - aggiunto task al database: check tooltip prevista consegna
2021-03-06 16:18:52,255 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 164 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 164, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-24 14:30:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-24 14:30:53', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-24 14:30:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,260 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\check tooltip prevista consegna.task\content.sql
2021-03-06 16:18:52,265 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 337;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (337, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-24 14:30:53', 120));
2021-03-06 16:18:52,268 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\check tooltip prevista consegna.task\content.sql
2021-03-06 16:18:52,270 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 66) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:52,277 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'codici CA in obelisk.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'codici CA in obelisk.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,282 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obelisk\codici CA in obelisk.task
2021-03-06 16:18:52,286 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 165 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 165, null, left('codici CA in obelisk', 150)
            , 'molina', convert(datetime, '2020-09-22 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-22 00:00:00', 120), dt_upd = NULL
         , title = left('codici CA in obelisk', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-22 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('codici CA in obelisk', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,291 [11] DEBUG dn_lib.tools.log - aggiunto task al database: codici CA in obelisk
2021-03-06 16:18:52,292 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 165 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 165, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-22 13:54:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-22 13:54:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-22 13:54:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,297 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\codici CA in obelisk.task\i.txt
2021-03-06 16:18:52,302 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 338;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (338, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-22 13:54:51', 120));
2021-03-06 16:18:52,306 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\codici CA in obelisk.task\i.txt
2021-03-06 16:18:52,306 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 67;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (67, 338, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-22 13:54:51', 120));
2021-03-06 16:18:52,310 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\obelisk\codici CA in obelisk.task\i.txt
2021-03-06 16:18:52,311 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 67) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:52,318 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'impostazione porta com scanner lavorazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'impostazione porta com scanner lavorazioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,322 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obelisk\impostazione porta com scanner lavorazioni.task
2021-03-06 16:18:52,327 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 166 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 166, null, left('impostazione porta com scanner lavorazioni', 150)
            , 'molina', convert(datetime, '2020-07-27 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'ora', convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-27 00:00:00', 120), dt_upd = NULL
         , title = left('impostazione porta com scanner lavorazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('impostazione porta com scanner lavorazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,333 [11] DEBUG dn_lib.tools.log - aggiunto task al database: impostazione porta com scanner lavorazioni
2021-03-06 16:18:52,333 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 166 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 166, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 17:56:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-27 17:56:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 17:56:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,338 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\impostazione porta com scanner lavorazioni.task\i.txt
2021-03-06 16:18:52,344 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 339;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (339, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 17:56:33', 120));
2021-03-06 16:18:52,347 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\impostazione porta com scanner lavorazioni.task\i.txt
2021-03-06 16:18:52,348 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 68;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (68, 339, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 17:56:33', 120));
2021-03-06 16:18:52,350 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\obelisk\impostazione porta com scanner lavorazioni.task\i.txt
2021-03-06 16:18:52,351 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 68) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:52,359 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'Made in PRC sulle etichette.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'Made in PRC sulle etichette.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,363 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obelisk\Made in PRC sulle etichette.task
2021-03-06 16:18:52,365 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 167 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 167, null, left('Made in PRC sulle etichette', 150)
            , 'molina', convert(datetime, '2020-09-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-14 00:00:00', 120), dt_upd = NULL
         , title = left('Made in PRC sulle etichette', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('Made in PRC sulle etichette', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,370 [11] DEBUG dn_lib.tools.log - aggiunto task al database: Made in PRC sulle etichette
2021-03-06 16:18:52,372 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 167 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 167, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-14 15:43:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-14 15:43:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-14 15:43:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,376 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\Made in PRC sulle etichette.task\i.txt
2021-03-06 16:18:52,382 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 340;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (340, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-14 15:43:16', 120));
2021-03-06 16:18:52,385 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\Made in PRC sulle etichette.task\i.txt
2021-03-06 16:18:52,386 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 69;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (69, 340, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-14 15:43:16', 120));
2021-03-06 16:18:52,389 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\obelisk\Made in PRC sulle etichette.task\i.txt
2021-03-06 16:18:52,389 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 167 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 167, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-14 13:54:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-14 13:54:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-14 13:54:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,393 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\Made in PRC sulle etichette.task\sql.sql
2021-03-06 16:18:52,398 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 341;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (341, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-14 13:54:13', 120));
2021-03-06 16:18:52,400 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\Made in PRC sulle etichette.task\sql.sql
2021-03-06 16:18:52,401 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 69) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:52,409 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'nuova griglia domande risposte per codice.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'nuova griglia domande risposte per codice.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,414 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obelisk\nuova griglia domande risposte per codice.task
2021-03-06 16:18:52,418 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 168 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 168, null, left('nuova griglia domande risposte per codice', 150)
            , 'molina', convert(datetime, '2020-11-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-26 00:00:00', 120), dt_upd = NULL
         , title = left('nuova griglia domande risposte per codice', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuova griglia domande risposte per codice', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,424 [11] DEBUG dn_lib.tools.log - aggiunto task al database: nuova griglia domande risposte per codice
2021-03-06 16:18:52,424 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 70) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:52,431 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'prodotti compatibili lunghissimi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'prodotti compatibili lunghissimi.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,436 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obelisk\prodotti compatibili lunghissimi.task
2021-03-06 16:18:52,441 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 169 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 169, null, left('prodotti compatibili lunghissimi', 150)
            , 'molina', convert(datetime, '2020-07-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-28 00:00:00', 120), dt_upd = NULL
         , title = left('prodotti compatibili lunghissimi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('prodotti compatibili lunghissimi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,446 [11] DEBUG dn_lib.tools.log - aggiunto task al database: prodotti compatibili lunghissimi
2021-03-06 16:18:52,447 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 169 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 169, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-28 18:16:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-28 18:16:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 18:16:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,451 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\prodotti compatibili lunghissimi.task\i.txt
2021-03-06 16:18:52,458 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 342;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (342, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-28 18:16:04', 120));
2021-03-06 16:18:52,461 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\prodotti compatibili lunghissimi.task\i.txt
2021-03-06 16:18:52,462 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 71;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (71, 342, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-28 18:16:04', 120));
2021-03-06 16:18:52,465 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\obelisk\prodotti compatibili lunghissimi.task\i.txt
2021-03-06 16:18:52,466 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 71) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:52,473 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'revisione carrello nero.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'revisione carrello nero.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:49', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,477 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obelisk\revisione carrello nero.task
2021-03-06 16:18:52,482 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 170 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 170, null, left('revisione carrello nero', 150)
            , 'molina', convert(datetime, '2021-02-05 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-02-05 00:00:00', 120), dt_upd = NULL
         , title = left('revisione carrello nero', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:49', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-02-05 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione carrello nero', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,488 [11] DEBUG dn_lib.tools.log - aggiunto task al database: revisione carrello nero
2021-03-06 16:18:52,488 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 170 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 170, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-08 16:12:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-08 16:12:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-08 16:12:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,492 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\revisione carrello nero.task\i.txt
2021-03-06 16:18:52,498 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 343;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (343, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-08 16:12:13', 120));
2021-03-06 16:18:52,501 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\revisione carrello nero.task\i.txt
2021-03-06 16:18:52,502 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 72;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (72, 343, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-08 16:12:13', 120));
2021-03-06 16:18:52,504 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\obelisk\revisione carrello nero.task\i.txt
2021-03-06 16:18:52,505 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 72) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:52,514 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'revisione cross segnalati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'revisione cross segnalati.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,518 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obelisk\revisione cross segnalati.task
2021-03-06 16:18:52,523 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 171 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 171, null, left('revisione cross segnalati', 150)
            , 'molina', convert(datetime, '2020-09-03 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-03 00:00:00', 120), dt_upd = NULL
         , title = left('revisione cross segnalati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-03 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione cross segnalati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,528 [11] DEBUG dn_lib.tools.log - aggiunto task al database: revisione cross segnalati
2021-03-06 16:18:52,529 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 171 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 171, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 17:52:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-03 17:52:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-03 17:52:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,534 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\revisione cross segnalati.task\i.txt
2021-03-06 16:18:52,539 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 344;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (344, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 17:52:02', 120));
2021-03-06 16:18:52,542 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\revisione cross segnalati.task\i.txt
2021-03-06 16:18:52,542 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 73;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (73, 344, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 17:52:02', 120));
2021-03-06 16:18:52,545 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\obelisk\revisione cross segnalati.task\i.txt
2021-03-06 16:18:52,546 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 73) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:52,553 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'revisione ricerca prodotti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'revisione ricerca prodotti.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,557 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obelisk\revisione ricerca prodotti.task
2021-03-06 16:18:52,562 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 172 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 172, null, left('revisione ricerca prodotti', 150)
            , 'molina', convert(datetime, '2020-08-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-28 00:00:00', 120), dt_upd = NULL
         , title = left('revisione ricerca prodotti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:47', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione ricerca prodotti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,568 [11] DEBUG dn_lib.tools.log - aggiunto task al database: revisione ricerca prodotti
2021-03-06 16:18:52,569 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 172 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 172, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 14:50:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-31 14:50:37', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-31 14:50:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,573 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\revisione ricerca prodotti.task\i.txt
2021-03-06 16:18:52,580 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 345;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (345, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 14:50:37', 120));
2021-03-06 16:18:52,583 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\revisione ricerca prodotti.task\i.txt
2021-03-06 16:18:52,583 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 74;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (74, 345, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 14:50:37', 120));
2021-03-06 16:18:52,586 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\obelisk\revisione ricerca prodotti.task\i.txt
2021-03-06 16:18:52,587 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 74) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:52,594 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'ricerca clienti web.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'ricerca clienti web.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,598 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obelisk\ricerca clienti web.task
2021-03-06 16:18:52,599 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 173 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 173, null, left('ricerca clienti web', 150)
            , 'molina', convert(datetime, '2020-09-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-21 00:00:00', 120), dt_upd = NULL
         , title = left('ricerca clienti web', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ricerca clienti web', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,605 [11] DEBUG dn_lib.tools.log - aggiunto task al database: ricerca clienti web
2021-03-06 16:18:52,606 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 173 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 173, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-21 17:43:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-21 17:43:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-21 17:43:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,610 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\ricerca clienti web.task\i.txt
2021-03-06 16:18:52,617 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 346;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (346, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-21 17:43:14', 120));
2021-03-06 16:18:52,620 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\ricerca clienti web.task\i.txt
2021-03-06 16:18:52,621 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 75;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (75, 346, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-21 17:43:14', 120));
2021-03-06 16:18:52,623 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\obelisk\ricerca clienti web.task\i.txt
2021-03-06 16:18:52,623 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 75) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:52,630 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'ricerca prodotti per marca - modello - versione.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'ricerca prodotti per marca - modello - versione.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,634 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task
2021-03-06 16:18:52,639 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 174 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 174, null, left('ricerca prodotti per marca - modello - versione', 150)
            , 'molina', convert(datetime, '2020-10-27 00:00:00', 120), NULL, 1
            , 'sospeso', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-27 00:00:00', 120), dt_upd = NULL
         , title = left('ricerca prodotti per marca - modello - versione', 150), [user] = 'molina'
         , stato = 'sospeso', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ricerca prodotti per marca - modello - versione', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('sospeso', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,645 [11] DEBUG dn_lib.tools.log - aggiunto task al database: ricerca prodotti per marca - modello - versione
2021-03-06 16:18:52,646 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'ComboBoxClienti.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'ComboBoxClienti.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-27 17:47:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-27 17:47:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-27 17:47:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,651 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\ComboBoxClienti.cs
2021-03-06 16:18:52,657 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 347;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (347, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-27 17:47:51', 120));
2021-03-06 16:18:52,659 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\ComboBoxClienti.cs
2021-03-06 16:18:52,660 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'ComboBoxMarche.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'ComboBoxMarche.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 15:36:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 15:36:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 15:36:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,664 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\ComboBoxMarche.cs
2021-03-06 16:18:52,671 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 348;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (348, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 15:36:59', 120));
2021-03-06 16:18:52,674 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\ComboBoxMarche.cs
2021-03-06 16:18:52,675 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'ComboBoxModelli.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'ComboBoxModelli.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 15:59:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 15:59:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 15:59:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,681 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\ComboBoxModelli.cs
2021-03-06 16:18:52,687 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 349;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (349, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 15:59:26', 120));
2021-03-06 16:18:52,691 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\ComboBoxModelli.cs
2021-03-06 16:18:52,692 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'ComboBoxSpecial.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'ComboBoxSpecial.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 15:48:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 15:48:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 15:48:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,696 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\ComboBoxSpecial.cs
2021-03-06 16:18:52,706 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 350;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (350, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 15:48:58', 120));
2021-03-06 16:18:52,709 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\ComboBoxSpecial.cs
2021-03-06 16:18:52,709 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'ComboBoxVersioni.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'ComboBoxVersioni.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 16:04:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 16:04:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 16:04:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,713 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\ComboBoxVersioni.cs
2021-03-06 16:18:52,722 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 351;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (351, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 16:04:19', 120));
2021-03-06 16:18:52,724 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\ComboBoxVersioni.cs
2021-03-06 16:18:52,725 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'FormMain.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'FormMain.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 16:13:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 16:13:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 16:13:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,729 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\FormMain.txt
2021-03-06 16:18:52,734 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 352;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (352, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 16:13:34', 120));
2021-03-06 16:18:52,737 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\FormMain.txt
2021-03-06 16:18:52,738 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 17:21:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 17:21:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 17:21:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,743 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\i.txt
2021-03-06 16:18:52,748 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 353;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (353, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 17:21:30', 120));
2021-03-06 16:18:52,751 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\i.txt
2021-03-06 16:18:52,751 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 76;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (76, 353, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 17:21:30', 120));
2021-03-06 16:18:52,754 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\i.txt
2021-03-06 16:18:52,755 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'marca.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'marca.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 15:42:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 15:42:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 15:42:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,759 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\marca.cs
2021-03-06 16:18:52,765 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 354;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (354, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 15:42:07', 120));
2021-03-06 16:18:52,769 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\marca.cs
2021-03-06 16:18:52,771 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'modello.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'modello.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 16:01:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 16:01:37', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 16:01:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,775 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\modello.cs
2021-03-06 16:18:52,784 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 355;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (355, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 16:01:37', 120));
2021-03-06 16:18:52,787 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\modello.cs
2021-03-06 16:18:52,787 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'refresh.crm.export-car-parts.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'refresh.crm.export-car-parts.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-28 16:22:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-28 16:22:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-28 16:22:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,791 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\refresh.crm.export-car-parts.sql
2021-03-06 16:18:52,796 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 356;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (356, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-28 16:22:18', 120));
2021-03-06 16:18:52,799 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\refresh.crm.export-car-parts.sql
2021-03-06 16:18:52,800 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'refresh.crm.export-td-defs.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'refresh.crm.export-td-defs.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-27 16:49:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-27 16:49:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-27 16:49:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,804 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\refresh.crm.export-td-defs.sql
2021-03-06 16:18:52,809 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 357;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (357, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-27 16:49:25', 120));
2021-03-06 16:18:52,812 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\refresh.crm.export-td-defs.sql
2021-03-06 16:18:52,813 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'task.ricerca per marca.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'task.ricerca per marca.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 16:12:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 16:12:15', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 16:12:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,817 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\task.ricerca per marca.sql
2021-03-06 16:18:52,823 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 358;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (358, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 16:12:15', 120));
2021-03-06 16:18:52,825 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\task.ricerca per marca.sql
2021-03-06 16:18:52,827 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 174 and file_name = 'versione.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 174, 'versione.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 16:02:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-28 16:02:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-28 16:02:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,831 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\versione.cs
2021-03-06 16:18:52,837 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 359;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (359, '.cs', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-28 16:02:32', 120));
2021-03-06 16:18:52,840 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\ricerca prodotti per marca - modello - versione.task\versione.cs
2021-03-06 16:18:52,841 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 76) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:52,848 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'sistemata alla griglia del fatturato - non si vedono i totali.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'sistemata alla griglia del fatturato - non si vedono i totali.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,853 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obelisk\sistemata alla griglia del fatturato - non si vedono i totali.task
2021-03-06 16:18:52,857 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 175 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 175, null, left('sistemata alla griglia del fatturato - non si vedono i totali', 150)
            , 'molina', convert(datetime, '2020-07-31 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-31 00:00:00', 120), dt_upd = NULL
         , title = left('sistemata alla griglia del fatturato - non si vedono i totali', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-31 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('sistemata alla griglia del fatturato - non si vedono i totali', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,862 [11] DEBUG dn_lib.tools.log - aggiunto task al database: sistemata alla griglia del fatturato - non si vedono i totali
2021-03-06 16:18:52,864 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 77) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:52,872 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'stampa pdf con acrobat.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'stampa pdf con acrobat.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:48', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,876 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obelisk\stampa pdf con acrobat.task
2021-03-06 16:18:52,881 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 176 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 176, null, left('stampa pdf con acrobat', 150)
            , 'molina', convert(datetime, '2020-09-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-30 00:00:00', 120), dt_upd = NULL
         , title = left('stampa pdf con acrobat', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:48', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('stampa pdf con acrobat', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,886 [11] DEBUG dn_lib.tools.log - aggiunto task al database: stampa pdf con acrobat
2021-03-06 16:18:52,887 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 78) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:52,894 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'supporto 3CX.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'supporto 3CX.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:49', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,898 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obelisk\supporto 3CX.task
2021-03-06 16:18:52,903 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 177 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 177, null, left('supporto 3CX', 150)
            , 'molina', convert(datetime, '2020-12-18 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-12-18 00:00:00', 120), dt_upd = NULL
         , title = left('supporto 3CX', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:49', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-12-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('supporto 3CX', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,909 [11] DEBUG dn_lib.tools.log - aggiunto task al database: supporto 3CX
2021-03-06 16:18:52,910 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 177 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 177, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-12-18 09:43:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-12-18 09:43:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-12-18 09:43:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,914 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\supporto 3CX.task\i.txt
2021-03-06 16:18:52,920 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 360;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (360, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-12-18 09:43:34', 120));
2021-03-06 16:18:52,924 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\supporto 3CX.task\i.txt
2021-03-06 16:18:52,925 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 79;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (79, 360, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-12-18 09:43:34', 120));
2021-03-06 16:18:52,928 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\obelisk\supporto 3CX.task\i.txt
2021-03-06 16:18:52,928 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 79) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:52,935 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'tab cross per gestione aggiunta (o eliminazione) cross.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'tab cross per gestione aggiunta (o eliminazione) cross.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,939 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obelisk\tab cross per gestione aggiunta (o eliminazione) cross.task
2021-03-06 16:18:52,944 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 178 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 178, null, left('tab cross per gestione aggiunta (o eliminazione) cross', 150)
            , 'molina', convert(datetime, '2020-08-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'ora', convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-21 00:00:00', 120), dt_upd = NULL
         , title = left('tab cross per gestione aggiunta (o eliminazione) cross', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:47', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('tab cross per gestione aggiunta (o eliminazione) cross', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,949 [11] DEBUG dn_lib.tools.log - aggiunto task al database: tab cross per gestione aggiunta (o eliminazione) cross
2021-03-06 16:18:52,950 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 178 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 178, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-26 18:19:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-26 18:19:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-26 18:19:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,955 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\tab cross per gestione aggiunta (o eliminazione) cross.task\i.txt
2021-03-06 16:18:52,961 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 361;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (361, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-26 18:19:07', 120));
2021-03-06 16:18:52,964 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\tab cross per gestione aggiunta (o eliminazione) cross.task\i.txt
2021-03-06 16:18:52,965 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 80;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (80, 361, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-26 18:19:07', 120));
2021-03-06 16:18:52,967 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\obelisk\tab cross per gestione aggiunta (o eliminazione) cross.task\i.txt
2021-03-06 16:18:52,968 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 178 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 178, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-24 12:33:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-24 12:33:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-24 12:33:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,973 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\tab cross per gestione aggiunta (o eliminazione) cross.task\sql.sql
2021-03-06 16:18:52,978 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 362;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (362, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-24 12:33:07', 120));
2021-03-06 16:18:52,982 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\tab cross per gestione aggiunta (o eliminazione) cross.task\sql.sql
2021-03-06 16:18:52,982 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 80) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:52,989 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 156 
        and folder_name = 'tooltip obelisk consegna prevista.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 156, 'tooltip obelisk consegna prevista.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:52,994 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obelisk\tooltip obelisk consegna prevista.task
2021-03-06 16:18:52,996 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 179 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 179, null, left('tooltip obelisk consegna prevista', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('tooltip obelisk consegna prevista', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:50', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('tooltip obelisk consegna prevista', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,001 [11] DEBUG dn_lib.tools.log - aggiunto task al database: tooltip obelisk consegna prevista
2021-03-06 16:18:53,002 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 179 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 179, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 12:46:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-05 12:46:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 12:46:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,007 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obelisk\tooltip obelisk consegna prevista.task\content.sql
2021-03-06 16:18:53,012 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 363;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (363, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 12:46:13', 120));
2021-03-06 16:18:53,014 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obelisk\tooltip obelisk consegna prevista.task\content.sql
2021-03-06 16:18:53,014 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 81) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:53,021 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'obsolete';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'obsolete', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,026 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obsolete
2021-03-06 16:18:53,027 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 180 
        and folder_name = 'ECUFILE.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 180, 'ECUFILE.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,031 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obsolete\ECUFILE.task
2021-03-06 16:18:53,037 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 181 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 181, null, left('ECUFILE', 150)
            , 'molina', convert(datetime, '2019-10-04 00:00:00', 120), NULL, 1
            , NULL, NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2019-10-04 00:00:00', 120), dt_upd = NULL
         , title = left('ECUFILE', 150), [user] = 'molina'
         , stato = NULL, priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2019-10-04 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ECUFILE', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull(NULL, '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,041 [11] DEBUG dn_lib.tools.log - aggiunto task al database: ECUFILE
2021-03-06 16:18:53,043 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 181 and file_name = 'mysql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 181, 'mysql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-10-04 09:23:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-10-04 09:23:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-10-04 09:23:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,047 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obsolete\ECUFILE.task\mysql.sql
2021-03-06 16:18:53,052 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 364;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (364, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-10-04 09:23:16', 120));
2021-03-06 16:18:53,055 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obsolete\ECUFILE.task\mysql.sql
2021-03-06 16:18:53,056 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 181 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 181, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-10-04 09:21:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-10-04 09:21:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-10-04 09:21:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,060 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obsolete\ECUFILE.task\sql.sql
2021-03-06 16:18:53,065 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 365;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (365, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-10-04 09:21:20', 120));
2021-03-06 16:18:53,068 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obsolete\ECUFILE.task\sql.sql
2021-03-06 16:18:53,069 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 82) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:53,076 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 180 
        and folder_name = 'remsa nota.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 180, 'remsa nota.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,081 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obsolete\remsa nota.task
2021-03-06 16:18:53,086 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 182 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 182, null, left('remsa nota', 150)
            , 'molina', convert(datetime, '2019-09-13 00:00:00', 120), NULL, 1
            , NULL, NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2019-09-13 00:00:00', 120), dt_upd = NULL
         , title = left('remsa nota', 150), [user] = 'molina'
         , stato = NULL, priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2019-09-13 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('remsa nota', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull(NULL, '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,091 [11] DEBUG dn_lib.tools.log - aggiunto task al database: remsa nota
2021-03-06 16:18:53,092 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 182 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 182, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-09-16 10:27:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-09-16 10:27:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-09-16 10:27:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,096 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obsolete\remsa nota.task\sql.sql
2021-03-06 16:18:53,101 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 366;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (366, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-09-16 10:27:36', 120));
2021-03-06 16:18:53,103 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obsolete\remsa nota.task\sql.sql
2021-03-06 16:18:53,104 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 83) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:53,111 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 180 
        and folder_name = 'reso funzionante.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 180, 'reso funzionante.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,116 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\obsolete\reso funzionante.task
2021-03-06 16:18:53,122 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 183 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 183, null, left('reso funzionante', 150)
            , 'molina', convert(datetime, '2020-02-19 00:00:00', 120), NULL, 1
            , NULL, NULL, NULL, NULL, convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-02-19 00:00:00', 120), dt_upd = NULL
         , title = left('reso funzionante', 150), [user] = 'molina'
         , stato = NULL, priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-02-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('reso funzionante', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull(NULL, '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,127 [11] DEBUG dn_lib.tools.log - aggiunto task al database: reso funzionante
2021-03-06 16:18:53,128 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 183 and file_name = 'documenti.xlsx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 183, 'documenti.xlsx', '.xlsx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-20 15:27:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-02-20 15:27:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-02-20 15:27:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,133 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obsolete\reso funzionante.task\documenti.xlsx
2021-03-06 16:18:53,133 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 183 and file_name = 'I problemi magazzino 2.msg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 183, 'I problemi magazzino 2.msg', '.msg', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-19 17:30:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-02-19 17:30:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-02-19 17:30:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,138 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obsolete\reso funzionante.task\I problemi magazzino 2.msg
2021-03-06 16:18:53,138 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 183 and file_name = 'I problemi magazzino 3.msg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 183, 'I problemi magazzino 3.msg', '.msg', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-19 17:30:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-02-19 17:30:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-02-19 17:30:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,143 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obsolete\reso funzionante.task\I problemi magazzino 3.msg
2021-03-06 16:18:53,144 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 183 and file_name = 'partitario.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 183, 'partitario.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-20 12:32:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-02-20 12:32:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-02-20 12:32:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,148 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obsolete\reso funzionante.task\partitario.sql
2021-03-06 16:18:53,156 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 370;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (370, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-20 12:32:52', 120));
2021-03-06 16:18:53,159 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obsolete\reso funzionante.task\partitario.sql
2021-03-06 16:18:53,161 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 183 and file_name = 'reso.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 183, 'reso.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-20 15:06:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-02-20 15:06:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-02-20 15:06:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,166 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obsolete\reso funzionante.task\reso.sql
2021-03-06 16:18:53,184 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 371;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (371, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-20 15:06:04', 120));
2021-03-06 16:18:53,207 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obsolete\reso funzionante.task\reso.sql
2021-03-06 16:18:53,208 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 183 and file_name = 'SPMG_ELABPARTITARI.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 183, 'SPMG_ELABPARTITARI.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-20 12:32:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-02-20 12:32:53', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-02-20 12:32:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,212 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obsolete\reso funzionante.task\SPMG_ELABPARTITARI.sql
2021-03-06 16:18:53,236 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 372;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (372, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-20 12:32:53', 120));
2021-03-06 16:18:53,243 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obsolete\reso funzionante.task\SPMG_ELABPARTITARI.sql
2021-03-06 16:18:53,243 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 183 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 183, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-20 15:23:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-02-20 15:23:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-02-20 15:23:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,247 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\obsolete\reso funzionante.task\sql.sql
2021-03-06 16:18:53,253 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 373;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (373, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-02-20 15:23:48', 120));
2021-03-06 16:18:53,257 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\obsolete\reso funzionante.task\sql.sql
2021-03-06 16:18:53,258 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 84) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:53,265 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'ordini fornitori';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'ordini fornitori', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,269 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini fornitori
2021-03-06 16:18:53,270 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'Aggiunta colonna Disp CA.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'Aggiunta colonna Disp CA.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,274 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini fornitori\Aggiunta colonna Disp CA.task
2021-03-06 16:18:53,279 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 185 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 185, null, left('Aggiunta colonna Disp CA', 150)
            , 'molina', convert(datetime, '2021-01-18 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezzora', convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-18 00:00:00', 120), dt_upd = NULL
         , title = left('Aggiunta colonna Disp CA', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('Aggiunta colonna Disp CA', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,286 [11] DEBUG dn_lib.tools.log - aggiunto task al database: Aggiunta colonna Disp CA
2021-03-06 16:18:53,287 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 85) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:53,294 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'aggiunta colonna resi fornitori.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'aggiunta colonna resi fornitori.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,298 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini fornitori\aggiunta colonna resi fornitori.task
2021-03-06 16:18:53,302 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 186 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 186, null, left('aggiunta colonna resi fornitori', 150)
            , 'molina', convert(datetime, '2020-08-31 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezzora', convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-31 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta colonna resi fornitori', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:50', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-31 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta colonna resi fornitori', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,308 [11] DEBUG dn_lib.tools.log - aggiunto task al database: aggiunta colonna resi fornitori
2021-03-06 16:18:53,309 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 186 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 186, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 17:21:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-31 17:21:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-31 17:21:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,313 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini fornitori\aggiunta colonna resi fornitori.task\i.txt
2021-03-06 16:18:53,319 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 374;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (374, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 17:21:23', 120));
2021-03-06 16:18:53,321 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini fornitori\aggiunta colonna resi fornitori.task\i.txt
2021-03-06 16:18:53,322 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 86;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (86, 374, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 17:21:23', 120));
2021-03-06 16:18:53,325 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini fornitori\aggiunta colonna resi fornitori.task\i.txt
2021-03-06 16:18:53,325 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 86) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:53,332 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'aggiunta selezione marca .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'aggiunta selezione marca .task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,337 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini fornitori\aggiunta selezione marca .task
2021-03-06 16:18:53,342 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 187 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 187, null, left('aggiunta selezione marca ', 150)
            , 'molina', convert(datetime, '2020-08-18 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-18 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta selezione marca ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta selezione marca ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,347 [11] DEBUG dn_lib.tools.log - aggiunto task al database: aggiunta selezione marca 
2021-03-06 16:18:53,348 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 187 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 187, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-18 14:03:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-18 14:03:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 14:03:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,353 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini fornitori\aggiunta selezione marca .task\sql.sql
2021-03-06 16:18:53,359 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 375;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (375, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-18 14:03:36', 120));
2021-03-06 16:18:53,362 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini fornitori\aggiunta selezione marca .task\sql.sql
2021-03-06 16:18:53,363 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 87) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:53,370 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'aggiunte informazioni sul fornitore al carrello.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'aggiunte informazioni sul fornitore al carrello.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,374 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini fornitori\aggiunte informazioni sul fornitore al carrello.task
2021-03-06 16:18:53,379 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 188 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 188, null, left('aggiunte informazioni sul fornitore al carrello', 150)
            , 'molina', convert(datetime, '2020-08-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-21 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunte informazioni sul fornitore al carrello', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunte informazioni sul fornitore al carrello', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,384 [11] DEBUG dn_lib.tools.log - aggiunto task al database: aggiunte informazioni sul fornitore al carrello
2021-03-06 16:18:53,386 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 88) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:53,393 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'fornitore non presente ordini di acquisto.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'fornitore non presente ordini di acquisto.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,397 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini fornitori\fornitore non presente ordini di acquisto.task
2021-03-06 16:18:53,401 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 189 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 189, null, left('fornitore non presente ordini di acquisto', 150)
            , 'molina', convert(datetime, '2021-01-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'ora', convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-14 00:00:00', 120), dt_upd = NULL
         , title = left('fornitore non presente ordini di acquisto', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('fornitore non presente ordini di acquisto', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,407 [11] DEBUG dn_lib.tools.log - aggiunto task al database: fornitore non presente ordini di acquisto
2021-03-06 16:18:53,408 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 189 and file_name = 'acq fornitori.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 189, 'acq fornitori.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-14 14:18:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-14 14:18:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-14 14:18:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,412 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini fornitori\fornitore non presente ordini di acquisto.task\acq fornitori.png
2021-03-06 16:18:53,413 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 189 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 189, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-14 14:18:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-14 14:18:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-14 14:18:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,418 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini fornitori\fornitore non presente ordini di acquisto.task\i.txt
2021-03-06 16:18:53,423 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 377;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (377, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-14 14:18:47', 120));
2021-03-06 16:18:53,425 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini fornitori\fornitore non presente ordini di acquisto.task\i.txt
2021-03-06 16:18:53,426 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 89;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (89, 377, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-14 14:18:47', 120));
2021-03-06 16:18:53,429 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini fornitori\fornitore non presente ordini di acquisto.task\i.txt
2021-03-06 16:18:53,430 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 89) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:53,438 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'in verde i codici dipa segnalati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'in verde i codici dipa segnalati.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,443 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini fornitori\in verde i codici dipa segnalati.task
2021-03-06 16:18:53,447 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 190 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 190, null, left('in verde i codici dipa segnalati', 150)
            , 'molina', convert(datetime, '2020-09-03 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'ora', convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-03 00:00:00', 120), dt_upd = NULL
         , title = left('in verde i codici dipa segnalati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:50', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-03 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('in verde i codici dipa segnalati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,453 [11] DEBUG dn_lib.tools.log - aggiunto task al database: in verde i codici dipa segnalati
2021-03-06 16:18:53,454 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 190 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 190, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-04 10:26:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-04 10:26:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-04 10:26:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,459 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini fornitori\in verde i codici dipa segnalati.task\i.txt
2021-03-06 16:18:53,467 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 378;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (378, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-04 10:26:29', 120));
2021-03-06 16:18:53,471 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini fornitori\in verde i codici dipa segnalati.task\i.txt
2021-03-06 16:18:53,472 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 90;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (90, 378, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-04 10:26:29', 120));
2021-03-06 16:18:53,475 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini fornitori\in verde i codici dipa segnalati.task\i.txt
2021-03-06 16:18:53,476 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 190 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 190, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 16:15:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-03 16:15:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-03 16:15:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,480 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini fornitori\in verde i codici dipa segnalati.task\sql.sql
2021-03-06 16:18:53,485 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 379;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (379, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 16:15:25', 120));
2021-03-06 16:18:53,488 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini fornitori\in verde i codici dipa segnalati.task\sql.sql
2021-03-06 16:18:53,489 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 90) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:53,497 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'inchiodato.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'inchiodato.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,501 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini fornitori\inchiodato.task
2021-03-06 16:18:53,506 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 191 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 191, null, left('inchiodato', 150)
            , 'molina', convert(datetime, '2020-05-06 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-05-06 00:00:00', 120), dt_upd = NULL
         , title = left('inchiodato', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-05-06 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('inchiodato', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,512 [11] DEBUG dn_lib.tools.log - aggiunto task al database: inchiodato
2021-03-06 16:18:53,513 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 191 and file_name = 'AL_EXPORT_ARTFOR_DELTA.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 191, 'AL_EXPORT_ARTFOR_DELTA.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 16:15:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-05 16:15:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 16:15:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,517 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini fornitori\inchiodato.task\AL_EXPORT_ARTFOR_DELTA.sql
2021-03-06 16:18:53,524 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 380;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (380, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 16:15:26', 120));
2021-03-06 16:18:53,527 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini fornitori\inchiodato.task\AL_EXPORT_ARTFOR_DELTA.sql
2021-03-06 16:18:53,528 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 191 and file_name = 'AL_EXPORT_ARTFOR_DELTA_MM.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 191, 'AL_EXPORT_ARTFOR_DELTA_MM.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 16:20:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-05 16:20:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 16:20:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,532 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini fornitori\inchiodato.task\AL_EXPORT_ARTFOR_DELTA_MM.sql
2021-03-06 16:18:53,538 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 381;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (381, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 16:20:31', 120));
2021-03-06 16:18:53,541 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini fornitori\inchiodato.task\AL_EXPORT_ARTFOR_DELTA_MM.sql
2021-03-06 16:18:53,542 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 191 and file_name = 'ord forn inchiodato.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 191, 'ord forn inchiodato.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 15:46:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-05 15:46:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 15:46:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,547 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini fornitori\inchiodato.task\ord forn inchiodato.sql
2021-03-06 16:18:53,551 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 382;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (382, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 15:46:10', 120));
2021-03-06 16:18:53,554 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini fornitori\inchiodato.task\ord forn inchiodato.sql
2021-03-06 16:18:53,555 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 191 and file_name = 'src.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 191, 'src.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 14:59:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-05 14:59:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 14:59:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,560 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini fornitori\inchiodato.task\src.txt
2021-03-06 16:18:53,565 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 383;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (383, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 14:59:13', 120));
2021-03-06 16:18:53,568 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini fornitori\inchiodato.task\src.txt
2021-03-06 16:18:53,569 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 91) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:53,576 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'prezzi scazzati dal nuovo prodotto manager.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'prezzi scazzati dal nuovo prodotto manager.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,580 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini fornitori\prezzi scazzati dal nuovo prodotto manager.task
2021-03-06 16:18:53,585 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 192 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 192, null, left('prezzi scazzati dal nuovo prodotto manager', 150)
            , 'molina', convert(datetime, '2020-08-24 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-24 00:00:00', 120), dt_upd = NULL
         , title = left('prezzi scazzati dal nuovo prodotto manager', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:50', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('prezzi scazzati dal nuovo prodotto manager', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,591 [11] DEBUG dn_lib.tools.log - aggiunto task al database: prezzi scazzati dal nuovo prodotto manager
2021-03-06 16:18:53,592 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 192 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 192, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-24 11:40:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-24 11:40:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-24 11:40:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,597 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini fornitori\prezzi scazzati dal nuovo prodotto manager.task\i.txt
2021-03-06 16:18:53,603 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 384;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (384, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-24 11:40:28', 120));
2021-03-06 16:18:53,606 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini fornitori\prezzi scazzati dal nuovo prodotto manager.task\i.txt
2021-03-06 16:18:53,606 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 92;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (92, 384, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-24 11:40:28', 120));
2021-03-06 16:18:53,608 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini fornitori\prezzi scazzati dal nuovo prodotto manager.task\i.txt
2021-03-06 16:18:53,609 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 192 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 192, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-24 11:43:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-24 11:43:53', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-24 11:43:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,615 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini fornitori\prezzi scazzati dal nuovo prodotto manager.task\sql.sql
2021-03-06 16:18:53,619 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 385;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (385, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-24 11:43:53', 120));
2021-03-06 16:18:53,622 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini fornitori\prezzi scazzati dal nuovo prodotto manager.task\sql.sql
2021-03-06 16:18:53,623 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 92) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:53,630 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'revisione generale ordini fornitori.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'revisione generale ordini fornitori.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,634 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini fornitori\revisione generale ordini fornitori.task
2021-03-06 16:18:53,639 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 193 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 193, null, left('revisione generale ordini fornitori', 150)
            , 'molina', convert(datetime, '2020-09-02 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'giornata', convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-02 00:00:00', 120), dt_upd = NULL
         , title = left('revisione generale ordini fornitori', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:44:50', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione generale ordini fornitori', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,646 [11] DEBUG dn_lib.tools.log - aggiunto task al database: revisione generale ordini fornitori
2021-03-06 16:18:53,647 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 193 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 193, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 08:48:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-03 08:48:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-03 08:48:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,652 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini fornitori\revisione generale ordini fornitori.task\i.txt
2021-03-06 16:18:53,659 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 386;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (386, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 08:48:01', 120));
2021-03-06 16:18:53,662 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini fornitori\revisione generale ordini fornitori.task\i.txt
2021-03-06 16:18:53,662 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 93;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (93, 386, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 08:48:01', 120));
2021-03-06 16:18:53,665 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini fornitori\revisione generale ordini fornitori.task\i.txt
2021-03-06 16:18:53,666 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 93) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:53,673 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'revisione griglia prodotti ordinati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'revisione griglia prodotti ordinati.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,677 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini fornitori\revisione griglia prodotti ordinati.task
2021-03-06 16:18:53,683 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 194 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 194, null, left('revisione griglia prodotti ordinati', 150)
            , 'molina', convert(datetime, '2021-01-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'giornata', convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-28 00:00:00', 120), dt_upd = NULL
         , title = left('revisione griglia prodotti ordinati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione griglia prodotti ordinati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,689 [11] DEBUG dn_lib.tools.log - aggiunto task al database: revisione griglia prodotti ordinati
2021-03-06 16:18:53,690 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 194 and file_name = '2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 194, '2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-28 14:09:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-28 14:09:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-28 14:09:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,694 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini fornitori\revisione griglia prodotti ordinati.task\2.png
2021-03-06 16:18:53,695 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 194 and file_name = 'forn.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 194, 'forn.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-28 14:10:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-28 14:10:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-28 14:10:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,699 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini fornitori\revisione griglia prodotti ordinati.task\forn.sql
2021-03-06 16:18:53,704 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 388;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (388, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-28 14:10:12', 120));
2021-03-06 16:18:53,706 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini fornitori\revisione griglia prodotti ordinati.task\forn.sql
2021-03-06 16:18:53,708 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 194 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 194, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:37:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:37:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:37:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,712 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini fornitori\revisione griglia prodotti ordinati.task\i.txt
2021-03-06 16:18:53,719 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 389;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (389, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:37:13', 120));
2021-03-06 16:18:53,722 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini fornitori\revisione griglia prodotti ordinati.task\i.txt
2021-03-06 16:18:53,724 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 94;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (94, 389, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:37:13', 120));
2021-03-06 16:18:53,728 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini fornitori\revisione griglia prodotti ordinati.task\i.txt
2021-03-06 16:18:53,728 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 94) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:53,736 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'segnalare gli ordini che sforano l''attesa.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'segnalare gli ordini che sforano l''attesa.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,740 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini fornitori\segnalare gli ordini che sforano l'attesa.task
2021-03-06 16:18:53,744 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 195 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 195, null, left('segnalare gli ordini che sforano l''attesa', 150)
            , 'molina', convert(datetime, '2020-08-25 00:00:00', 120), NULL, 1
            , 'sospeso', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-25 00:00:00', 120), dt_upd = NULL
         , title = left('segnalare gli ordini che sforano l''attesa', 150), [user] = 'molina'
         , stato = 'sospeso', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:50', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('segnalare gli ordini che sforano l''attesa', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('sospeso', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,750 [11] DEBUG dn_lib.tools.log - aggiunto task al database: segnalare gli ordini che sforano l'attesa
2021-03-06 16:18:53,752 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 195 and file_name = 'ordini fuori tempo.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 195, 'ordini fuori tempo.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-27 17:07:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-27 17:07:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-27 17:07:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,756 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini fornitori\segnalare gli ordini che sforano l'attesa.task\ordini fuori tempo.sql
2021-03-06 16:18:53,761 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 390;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (390, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-27 17:07:19', 120));
2021-03-06 16:18:53,764 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini fornitori\segnalare gli ordini che sforano l'attesa.task\ordini fuori tempo.sql
2021-03-06 16:18:53,765 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 95) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:53,772 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'sistemata alla maschera fornitori.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'sistemata alla maschera fornitori.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,776 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini fornitori\sistemata alla maschera fornitori.task
2021-03-06 16:18:53,781 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 196 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 196, null, left('sistemata alla maschera fornitori', 150)
            , 'molina', convert(datetime, '2020-08-27 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-27 00:00:00', 120), dt_upd = NULL
         , title = left('sistemata alla maschera fornitori', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:50', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('sistemata alla maschera fornitori', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,786 [11] DEBUG dn_lib.tools.log - aggiunto task al database: sistemata alla maschera fornitori
2021-03-06 16:18:53,787 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 196 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 196, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-27 18:18:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-27 18:18:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-27 18:18:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,791 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini fornitori\sistemata alla maschera fornitori.task\i.txt
2021-03-06 16:18:53,797 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 391;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (391, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-27 18:18:45', 120));
2021-03-06 16:18:53,801 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini fornitori\sistemata alla maschera fornitori.task\i.txt
2021-03-06 16:18:53,801 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 96;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (96, 391, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-27 18:18:45', 120));
2021-03-06 16:18:53,804 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini fornitori\sistemata alla maschera fornitori.task\i.txt
2021-03-06 16:18:53,805 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 96) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:53,812 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 184 
        and folder_name = 'sistemata ricerca codice x fornitore.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 184, 'sistemata ricerca codice x fornitore.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:50', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,816 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini fornitori\sistemata ricerca codice x fornitore.task
2021-03-06 16:18:53,820 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 197 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 197, null, left('sistemata ricerca codice x fornitore', 150)
            , 'molina', convert(datetime, '2020-08-31 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezzora', convert(datetime, '2021-03-02 22:44:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-31 00:00:00', 120), dt_upd = NULL
         , title = left('sistemata ricerca codice x fornitore', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:50', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-31 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('sistemata ricerca codice x fornitore', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,826 [11] DEBUG dn_lib.tools.log - aggiunto task al database: sistemata ricerca codice x fornitore
2021-03-06 16:18:53,827 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 197 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 197, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 15:08:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-31 15:08:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-31 15:08:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,831 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini fornitori\sistemata ricerca codice x fornitore.task\sql.sql
2021-03-06 16:18:53,836 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 392;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (392, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 15:08:23', 120));
2021-03-06 16:18:53,839 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini fornitori\sistemata ricerca codice x fornitore.task\sql.sql
2021-03-06 16:18:53,840 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 97) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:53,847 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'ordini vendite';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'ordini vendite', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:54', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,853 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite
2021-03-06 16:18:53,854 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'associata la fattura al cod pag PKS1.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'associata la fattura al cod pag PKS1.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,858 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\associata la fattura al cod pag PKS1.task
2021-03-06 16:18:53,864 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 199 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 199, null, left('associata la fattura al cod pag PKS1', 150)
            , 'molina', convert(datetime, '2020-07-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-29 00:00:00', 120), dt_upd = NULL
         , title = left('associata la fattura al cod pag PKS1', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('associata la fattura al cod pag PKS1', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,870 [11] DEBUG dn_lib.tools.log - aggiunto task al database: associata la fattura al cod pag PKS1
2021-03-06 16:18:53,871 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 98) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:53,878 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'automatismo ordini bolle.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'automatismo ordini bolle.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:53', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,882 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\automatismo ordini bolle.task
2021-03-06 16:18:53,887 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 200 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 200, null, left('automatismo ordini bolle', 150)
            , 'molina', convert(datetime, '2021-02-10 00:00:00', 120), convert(datetime, '2021-03-04 15:22:27', 120), 1
            , 'fatto', NULL, 'revisione', 'due_settimane', convert(datetime, '2021-03-04 15:22:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-02-10 00:00:00', 120), dt_upd = convert(datetime, '2021-03-04 15:22:27', 120)
         , title = left('automatismo ordini bolle', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_settimane', dt_lwt_index = convert(datetime, '2021-03-04 15:22:27', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-02-10 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(convert(datetime, '2021-03-04 15:22:27', 120), getdate())
          or isnull(title, '') <> isnull('automatismo ordini bolle', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_settimane', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,893 [11] DEBUG dn_lib.tools.log - aggiunto task al database: automatismo ordini bolle
2021-03-06 16:18:53,894 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 200 and file_name = 'backup recalc ordini.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 200, 'backup recalc ordini.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-12 09:39:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-12 09:39:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-12 09:39:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,898 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\automatismo ordini bolle.task\backup recalc ordini.sql
2021-03-06 16:18:53,905 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 393;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (393, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-12 09:39:12', 120));
2021-03-06 16:18:53,908 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\automatismo ordini bolle.task\backup recalc ordini.sql
2021-03-06 16:18:53,909 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 200 and file_name = 'cache ordini.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 200, 'cache ordini.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-18 14:53:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-18 14:53:41', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-18 14:53:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,913 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\automatismo ordini bolle.task\cache ordini.sql
2021-03-06 16:18:53,918 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 394;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (394, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-18 14:53:41', 120));
2021-03-06 16:18:53,922 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\automatismo ordini bolle.task\cache ordini.sql
2021-03-06 16:18:53,923 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 200 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 200, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-04 15:22:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-04 15:22:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-04 15:22:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,927 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\automatismo ordini bolle.task\i.txt
2021-03-06 16:18:53,934 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 395;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (395, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-04 15:22:23', 120));
2021-03-06 16:18:53,937 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\automatismo ordini bolle.task\i.txt
2021-03-06 16:18:53,937 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 99;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (99, 395, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-04 15:22:23', 120));
2021-03-06 16:18:53,940 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini vendite\automatismo ordini bolle.task\i.txt
2021-03-06 16:18:53,941 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 200 and file_name = 'patch recalc ordini.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 200, 'patch recalc ordini.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-12 12:02:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-12 12:02:53', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-12 12:02:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,945 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\automatismo ordini bolle.task\patch recalc ordini.sql
2021-03-06 16:18:53,950 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 396;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (396, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-12 12:02:53', 120));
2021-03-06 16:18:53,954 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\automatismo ordini bolle.task\patch recalc ordini.sql
2021-03-06 16:18:53,955 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 99) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:53,962 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'cambio tipo ordine - si perdono informazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'cambio tipo ordine - si perdono informazioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,966 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\cambio tipo ordine - si perdono informazioni.task
2021-03-06 16:18:53,971 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 201 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 201, null, left('cambio tipo ordine - si perdono informazioni', 150)
            , 'molina', convert(datetime, '2020-07-06 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-06 00:00:00', 120), dt_upd = NULL
         , title = left('cambio tipo ordine - si perdono informazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-06 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('cambio tipo ordine - si perdono informazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,976 [11] DEBUG dn_lib.tools.log - aggiunto task al database: cambio tipo ordine - si perdono informazioni
2021-03-06 16:18:53,977 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 100) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:53,984 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'check indirizzi GLS non vanno.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'check indirizzi GLS non vanno.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:54', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,988 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\check indirizzi GLS non vanno.task
2021-03-06 16:18:53,990 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 202 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 202, null, left('check indirizzi GLS non vanno', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('check indirizzi GLS non vanno', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:54', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('check indirizzi GLS non vanno', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:53,995 [11] DEBUG dn_lib.tools.log - aggiunto task al database: check indirizzi GLS non vanno
2021-03-06 16:18:53,998 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 202 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 202, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-18 12:23:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-18 12:23:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-18 12:23:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,002 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\check indirizzi GLS non vanno.task\content.sql
2021-03-06 16:18:54,007 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 397;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (397, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-18 12:23:24', 120));
2021-03-06 16:18:54,010 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\check indirizzi GLS non vanno.task\content.sql
2021-03-06 16:18:54,011 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 101) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:54,018 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'codice pag PKS1 come RD02.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'codice pag PKS1 come RD02.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,023 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\codice pag PKS1 come RD02.task
2021-03-06 16:18:54,025 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 203 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 203, null, left('codice pag PKS1 come RD02', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('codice pag PKS1 come RD02', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('codice pag PKS1 come RD02', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,029 [11] DEBUG dn_lib.tools.log - aggiunto task al database: codice pag PKS1 come RD02
2021-03-06 16:18:54,030 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 203 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 203, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 10:36:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 10:36:37', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 10:36:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,035 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\codice pag PKS1 come RD02.task\i.txt
2021-03-06 16:18:54,040 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 398;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (398, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 10:36:37', 120));
2021-03-06 16:18:54,043 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\codice pag PKS1 come RD02.task\i.txt
2021-03-06 16:18:54,044 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 102;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (102, 398, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 10:36:37', 120));
2021-03-06 16:18:54,048 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini vendite\codice pag PKS1 come RD02.task\i.txt
2021-03-06 16:18:54,048 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 203 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 203, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 11:03:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 11:03:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 11:03:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,052 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\codice pag PKS1 come RD02.task\sql.sql
2021-03-06 16:18:54,057 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 399;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (399, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 11:03:01', 120));
2021-03-06 16:18:54,061 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\codice pag PKS1 come RD02.task\sql.sql
2021-03-06 16:18:54,061 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 102) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:54,068 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'controllo migliorato ordine gi evaso.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'controllo migliorato ordine gi evaso.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,073 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\controllo migliorato ordine gi evaso.task
2021-03-06 16:18:54,077 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 204 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 204, null, left('controllo migliorato ordine gi evaso', 150)
            , 'molina', convert(datetime, '2020-10-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-08 00:00:00', 120), dt_upd = NULL
         , title = left('controllo migliorato ordine gi evaso', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('controllo migliorato ordine gi evaso', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,082 [11] DEBUG dn_lib.tools.log - aggiunto task al database: controllo migliorato ordine gi evaso
2021-03-06 16:18:54,083 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 204 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 204, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-08 09:01:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-08 09:01:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-08 09:01:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,087 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\controllo migliorato ordine gi evaso.task\i.txt
2021-03-06 16:18:54,093 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 400;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (400, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-08 09:01:13', 120));
2021-03-06 16:18:54,097 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\controllo migliorato ordine gi evaso.task\i.txt
2021-03-06 16:18:54,098 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 103;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (103, 400, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-08 09:01:13', 120));
2021-03-06 16:18:54,100 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini vendite\controllo migliorato ordine gi evaso.task\i.txt
2021-03-06 16:18:54,101 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 103) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:54,109 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'discordanza pagamento clifor obsoleto.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'discordanza pagamento clifor obsoleto.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,114 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\discordanza pagamento clifor obsoleto.task
2021-03-06 16:18:54,116 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 205 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 205, null, left('discordanza pagamento clifor obsoleto', 150)
            , 'molina', convert(datetime, '2020-07-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-30 00:00:00', 120), dt_upd = NULL
         , title = left('discordanza pagamento clifor obsoleto', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('discordanza pagamento clifor obsoleto', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,121 [11] DEBUG dn_lib.tools.log - aggiunto task al database: discordanza pagamento clifor obsoleto
2021-03-06 16:18:54,124 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 205 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 205, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 15:22:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-30 15:22:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 15:22:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,128 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\discordanza pagamento clifor obsoleto.task\i.txt
2021-03-06 16:18:54,135 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 401;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (401, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 15:22:24', 120));
2021-03-06 16:18:54,137 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\discordanza pagamento clifor obsoleto.task\i.txt
2021-03-06 16:18:54,138 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 104;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (104, 401, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 15:22:24', 120));
2021-03-06 16:18:54,141 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini vendite\discordanza pagamento clifor obsoleto.task\i.txt
2021-03-06 16:18:54,142 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 104) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:54,152 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'gestione carrello sintra lavorazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'gestione carrello sintra lavorazioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,156 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\gestione carrello sintra lavorazioni.task
2021-03-06 16:18:54,161 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 206 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 206, null, left('gestione carrello sintra lavorazioni', 150)
            , 'molina', convert(datetime, '2020-09-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-09 00:00:00', 120), dt_upd = NULL
         , title = left('gestione carrello sintra lavorazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione carrello sintra lavorazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,167 [11] DEBUG dn_lib.tools.log - aggiunto task al database: gestione carrello sintra lavorazioni
2021-03-06 16:18:54,168 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 206 and file_name = 'mageman.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 206, 'mageman.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-10 18:02:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-10 18:02:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-10 18:02:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,172 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\gestione carrello sintra lavorazioni.task\mageman.sql
2021-03-06 16:18:54,177 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 402;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (402, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-10 18:02:04', 120));
2021-03-06 16:18:54,180 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\gestione carrello sintra lavorazioni.task\mageman.sql
2021-03-06 16:18:54,181 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 206 and file_name = 'magento.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 206, 'magento.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-09 17:13:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-09 17:13:53', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-09 17:13:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,185 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\gestione carrello sintra lavorazioni.task\magento.sql
2021-03-06 16:18:54,190 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 403;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (403, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-09 17:13:53', 120));
2021-03-06 16:18:54,192 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\gestione carrello sintra lavorazioni.task\magento.sql
2021-03-06 16:18:54,193 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 105) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:54,200 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'gestione regionale urgente e normale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'gestione regionale urgente e normale.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:53', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,204 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\gestione regionale urgente e normale.task
2021-03-06 16:18:54,210 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 207 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 207, null, left('gestione regionale urgente e normale', 150)
            , 'molina', convert(datetime, '2020-12-03 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:44:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-12-03 00:00:00', 120), dt_upd = NULL
         , title = left('gestione regionale urgente e normale', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:53', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-12-03 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione regionale urgente e normale', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,216 [11] DEBUG dn_lib.tools.log - aggiunto task al database: gestione regionale urgente e normale
2021-03-06 16:18:54,217 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 207 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 207, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-12-03 11:05:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-12-03 11:05:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-12-03 11:05:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,221 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\gestione regionale urgente e normale.task\i.txt
2021-03-06 16:18:54,227 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 404;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (404, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-12-03 11:05:56', 120));
2021-03-06 16:18:54,230 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\gestione regionale urgente e normale.task\i.txt
2021-03-06 16:18:54,231 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 106;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (106, 404, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-12-03 11:05:56', 120));
2021-03-06 16:18:54,233 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini vendite\gestione regionale urgente e normale.task\i.txt
2021-03-06 16:18:54,234 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 106) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:54,241 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'gestione scelte da sito.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'gestione scelte da sito.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,245 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\gestione scelte da sito.task
2021-03-06 16:18:54,251 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 208 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 208, null, left('gestione scelte da sito', 150)
            , 'molina', convert(datetime, '2020-10-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-19 00:00:00', 120), dt_upd = NULL
         , title = left('gestione scelte da sito', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione scelte da sito', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,257 [11] DEBUG dn_lib.tools.log - aggiunto task al database: gestione scelte da sito
2021-03-06 16:18:54,258 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 208 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 208, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-21 12:19:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-21 12:19:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-21 12:19:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,263 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\gestione scelte da sito.task\i.txt
2021-03-06 16:18:54,269 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 405;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (405, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-21 12:19:22', 120));
2021-03-06 16:18:54,272 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\gestione scelte da sito.task\i.txt
2021-03-06 16:18:54,273 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 107;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (107, 405, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-21 12:19:22', 120));
2021-03-06 16:18:54,275 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini vendite\gestione scelte da sito.task\i.txt
2021-03-06 16:18:54,276 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 107) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:54,283 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'gestione spese corrieri.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'gestione spese corrieri.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,288 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\gestione spese corrieri.task
2021-03-06 16:18:54,292 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 209 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 209, null, left('gestione spese corrieri', 150)
            , 'molina', convert(datetime, '2020-10-20 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-20 00:00:00', 120), dt_upd = NULL
         , title = left('gestione spese corrieri', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-20 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione spese corrieri', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,298 [11] DEBUG dn_lib.tools.log - aggiunto task al database: gestione spese corrieri
2021-03-06 16:18:54,299 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 209 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 209, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-20 12:28:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-20 12:28:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-20 12:28:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,303 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\gestione spese corrieri.task\i.txt
2021-03-06 16:18:54,309 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 406;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (406, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-20 12:28:26', 120));
2021-03-06 16:18:54,313 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\gestione spese corrieri.task\i.txt
2021-03-06 16:18:54,314 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 108;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (108, 406, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-20 12:28:26', 120));
2021-03-06 16:18:54,316 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini vendite\gestione spese corrieri.task\i.txt
2021-03-06 16:18:54,317 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 108) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:54,325 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'nuovo indirizzo ordine avviso cap.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'nuovo indirizzo ordine avviso cap.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:54', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,329 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\nuovo indirizzo ordine avviso cap.task
2021-03-06 16:18:54,331 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 210 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 210, null, left('nuovo indirizzo ordine avviso cap', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('nuovo indirizzo ordine avviso cap', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:54', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuovo indirizzo ordine avviso cap', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,336 [11] DEBUG dn_lib.tools.log - aggiunto task al database: nuovo indirizzo ordine avviso cap
2021-03-06 16:18:54,337 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 210 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 210, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-19 12:20:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-19 12:20:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-19 12:20:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,341 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\nuovo indirizzo ordine avviso cap.task\content.sql
2021-03-06 16:18:54,345 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 407;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (407, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-19 12:20:36', 120));
2021-03-06 16:18:54,348 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\nuovo indirizzo ordine avviso cap.task\content.sql
2021-03-06 16:18:54,349 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 109) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:54,356 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'ordine 125381 - bolla senza articolo.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'ordine 125381 - bolla senza articolo.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,361 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\ordine 125381 - bolla senza articolo.task
2021-03-06 16:18:54,366 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 211 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 211, null, left('ordine 125381 - bolla senza articolo', 150)
            , 'molina', convert(datetime, '2020-08-18 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-18 00:00:00', 120), dt_upd = NULL
         , title = left('ordine 125381 - bolla senza articolo', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ordine 125381 - bolla senza articolo', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,371 [11] DEBUG dn_lib.tools.log - aggiunto task al database: ordine 125381 - bolla senza articolo
2021-03-06 16:18:54,374 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 211 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 211, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-18 16:15:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-18 16:15:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 16:15:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,379 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\ordine 125381 - bolla senza articolo.task\i.txt
2021-03-06 16:18:54,385 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 408;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (408, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-18 16:15:52', 120));
2021-03-06 16:18:54,388 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\ordine 125381 - bolla senza articolo.task\i.txt
2021-03-06 16:18:54,389 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 110;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (110, 408, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-18 16:15:52', 120));
2021-03-06 16:18:54,391 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini vendite\ordine 125381 - bolla senza articolo.task\i.txt
2021-03-06 16:18:54,392 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 110) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:54,399 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'ordine senza articoli.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'ordine senza articoli.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:54', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,403 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\ordine senza articoli.task
2021-03-06 16:18:54,405 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 212 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 212, null, left('ordine senza articoli', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ordine senza articoli', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:54', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ordine senza articoli', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,410 [11] DEBUG dn_lib.tools.log - aggiunto task al database: ordine senza articoli
2021-03-06 16:18:54,411 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 212 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 212, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-25 12:22:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-25 12:22:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-25 12:22:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,416 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\ordine senza articoli.task\content.sql
2021-03-06 16:18:54,421 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 409;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (409, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-25 12:22:51', 120));
2021-03-06 16:18:54,423 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\ordine senza articoli.task\content.sql
2021-03-06 16:18:54,424 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 111) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:54,431 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'ordine web scazzato.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'ordine web scazzato.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:54', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,435 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\ordine web scazzato.task
2021-03-06 16:18:54,438 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 213 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 213, null, left('ordine web scazzato', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ordine web scazzato', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:54', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ordine web scazzato', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,443 [11] DEBUG dn_lib.tools.log - aggiunto task al database: ordine web scazzato
2021-03-06 16:18:54,444 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 213 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 213, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-10 09:36:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-10 09:36:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-10 09:36:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,449 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\ordine web scazzato.task\content.sql
2021-03-06 16:18:54,453 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 410;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (410, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-10 09:36:33', 120));
2021-03-06 16:18:54,455 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\ordine web scazzato.task\content.sql
2021-03-06 16:18:54,456 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 112) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:54,463 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'ordini blu devono passare gi in magazzino.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'ordini blu devono passare gi in magazzino.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:54', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,469 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\ordini blu devono passare gi in magazzino.task
2021-03-06 16:18:54,474 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 214 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 214, null, left('ordini blu devono passare gi in magazzino', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'facile', NULL, convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ordini blu devono passare gi in magazzino', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:54', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ordini blu devono passare gi in magazzino', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,479 [11] DEBUG dn_lib.tools.log - aggiunto task al database: ordini blu devono passare gi in magazzino
2021-03-06 16:18:54,480 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 214 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 214, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-25 08:35:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-25 08:35:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-25 08:35:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,485 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\ordini blu devono passare gi in magazzino.task\content.sql
2021-03-06 16:18:54,489 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 411;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (411, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-25 08:35:00', 120));
2021-03-06 16:18:54,492 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\ordini blu devono passare gi in magazzino.task\content.sql
2021-03-06 16:18:54,494 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 113) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:54,502 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'poter assegnare un indirizzo nuovo in italia ad un cliente estero.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'poter assegnare un indirizzo nuovo in italia ad un cliente estero.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,506 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\poter assegnare un indirizzo nuovo in italia ad un cliente estero.task
2021-03-06 16:18:54,511 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 215 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 215, null, left('poter assegnare un indirizzo nuovo in italia ad un cliente estero', 150)
            , 'molina', convert(datetime, '2020-07-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-28 00:00:00', 120), dt_upd = NULL
         , title = left('poter assegnare un indirizzo nuovo in italia ad un cliente estero', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('poter assegnare un indirizzo nuovo in italia ad un cliente estero', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,516 [11] DEBUG dn_lib.tools.log - aggiunto task al database: poter assegnare un indirizzo nuovo in italia ad un cliente estero
2021-03-06 16:18:54,517 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 215 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 215, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-28 15:38:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-28 15:38:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 15:38:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,521 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\poter assegnare un indirizzo nuovo in italia ad un cliente estero.task\sql.sql
2021-03-06 16:18:54,526 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 412;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (412, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-28 15:38:30', 120));
2021-03-06 16:18:54,530 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\poter assegnare un indirizzo nuovo in italia ad un cliente estero.task\sql.sql
2021-03-06 16:18:54,530 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 114) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:54,537 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'ramauto multicollo.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'ramauto multicollo.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:54', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,541 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\ramauto multicollo.task
2021-03-06 16:18:54,544 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 216 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 216, null, left('ramauto multicollo', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ramauto multicollo', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:54', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ramauto multicollo', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,548 [11] DEBUG dn_lib.tools.log - aggiunto task al database: ramauto multicollo
2021-03-06 16:18:54,550 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 216 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 216, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-12 11:36:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-12 11:36:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-12 11:36:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,555 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\ramauto multicollo.task\content.sql
2021-03-06 16:18:54,559 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 413;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (413, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-12 11:36:17', 120));
2021-03-06 16:18:54,563 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\ramauto multicollo.task\content.sql
2021-03-06 16:18:54,563 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 115) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:54,572 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'registra garanzia.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'registra garanzia.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,576 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\registra garanzia.task
2021-03-06 16:18:54,581 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 217 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 217, null, left('registra garanzia', 150)
            , 'molina', convert(datetime, '2020-10-22 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-22 00:00:00', 120), dt_upd = NULL
         , title = left('registra garanzia', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-22 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('registra garanzia', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,587 [11] DEBUG dn_lib.tools.log - aggiunto task al database: registra garanzia
2021-03-06 16:18:54,588 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 116) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:54,595 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'reso no rip gestione viola e multicollo.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'reso no rip gestione viola e multicollo.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,599 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\reso no rip gestione viola e multicollo.task
2021-03-06 16:18:54,604 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 218 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 218, null, left('reso no rip gestione viola e multicollo', 150)
            , 'molina', convert(datetime, '2020-06-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-30 00:00:00', 120), dt_upd = NULL
         , title = left('reso no rip gestione viola e multicollo', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('reso no rip gestione viola e multicollo', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,609 [11] DEBUG dn_lib.tools.log - aggiunto task al database: reso no rip gestione viola e multicollo
2021-03-06 16:18:54,611 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 218 and file_name = 'DP_RECALC_ORDINI.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 218, 'DP_RECALC_ORDINI.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-30 17:01:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-30 17:01:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-30 17:01:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,615 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\reso no rip gestione viola e multicollo.task\DP_RECALC_ORDINI.sql
2021-03-06 16:18:54,623 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 414;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (414, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-30 17:01:16', 120));
2021-03-06 16:18:54,626 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\reso no rip gestione viola e multicollo.task\DP_RECALC_ORDINI.sql
2021-03-06 16:18:54,627 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 218 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 218, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-01 15:51:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-01 15:51:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-01 15:51:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,632 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\reso no rip gestione viola e multicollo.task\sql.sql
2021-03-06 16:18:54,637 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 415;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (415, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-01 15:51:22', 120));
2021-03-06 16:18:54,639 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\reso no rip gestione viola e multicollo.task\sql.sql
2021-03-06 16:18:54,640 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 117) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:54,647 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'revisione ordini .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'revisione ordini .task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,651 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\revisione ordini .task
2021-03-06 16:18:54,657 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 219 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 219, null, left('revisione ordini ', 150)
            , 'molina', convert(datetime, '2020-10-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-21 00:00:00', 120), dt_upd = NULL
         , title = left('revisione ordini ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione ordini ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,662 [11] DEBUG dn_lib.tools.log - aggiunto task al database: revisione ordini 
2021-03-06 16:18:54,663 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 219 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 219, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-21 16:46:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-21 16:46:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-21 16:46:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,668 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\revisione ordini .task\i.txt
2021-03-06 16:18:54,674 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 416;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (416, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-21 16:46:20', 120));
2021-03-06 16:18:54,677 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\revisione ordini .task\i.txt
2021-03-06 16:18:54,678 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 118;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (118, 416, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-21 16:46:20', 120));
2021-03-06 16:18:54,682 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini vendite\revisione ordini .task\i.txt
2021-03-06 16:18:54,682 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 118) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:54,688 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'ritocco al reso no rip senza spese.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'ritocco al reso no rip senza spese.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,694 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\ritocco al reso no rip senza spese.task
2021-03-06 16:18:54,698 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 220 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 220, null, left('ritocco al reso no rip senza spese', 150)
            , 'molina', convert(datetime, '2020-07-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-09 00:00:00', 120), dt_upd = NULL
         , title = left('ritocco al reso no rip senza spese', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ritocco al reso no rip senza spese', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,703 [11] DEBUG dn_lib.tools.log - aggiunto task al database: ritocco al reso no rip senza spese
2021-03-06 16:18:54,705 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 119) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:54,712 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'rivisitazione tags mattino,pomeriggio.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'rivisitazione tags mattino,pomeriggio.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:53', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,717 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\rivisitazione tags mattino,pomeriggio.task
2021-03-06 16:18:54,722 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 221 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 221, null, left('rivisitazione tags mattino,pomeriggio', 150)
            , 'molina', convert(datetime, '2021-01-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezza', convert(datetime, '2021-03-02 22:44:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-25 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione tags mattino,pomeriggio', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:53', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione tags mattino,pomeriggio', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,728 [11] DEBUG dn_lib.tools.log - aggiunto task al database: rivisitazione tags mattino,pomeriggio
2021-03-06 16:18:54,729 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 221 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 221, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-25 17:45:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-25 17:45:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-25 17:45:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,733 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\rivisitazione tags mattino,pomeriggio.task\i.txt
2021-03-06 16:18:54,739 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 417;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (417, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-25 17:45:24', 120));
2021-03-06 16:18:54,742 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\rivisitazione tags mattino,pomeriggio.task\i.txt
2021-03-06 16:18:54,743 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 120;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (120, 417, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-25 17:45:24', 120));
2021-03-06 16:18:54,746 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini vendite\rivisitazione tags mattino,pomeriggio.task\i.txt
2021-03-06 16:18:54,746 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 221 and file_name = 'mp eticchette.JPEG';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 221, 'mp eticchette.JPEG', '.jpeg', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-25 17:45:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-25 17:45:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-25 17:45:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,751 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\rivisitazione tags mattino,pomeriggio.task\mp eticchette.JPEG
2021-03-06 16:18:54,752 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 120) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:54,759 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'scelta tipo spedizione dal sito.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'scelta tipo spedizione dal sito.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,763 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\scelta tipo spedizione dal sito.task
2021-03-06 16:18:54,768 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 222 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 222, null, left('scelta tipo spedizione dal sito', 150)
            , 'molina', convert(datetime, '2020-09-24 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'giornata', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-24 00:00:00', 120), dt_upd = NULL
         , title = left('scelta tipo spedizione dal sito', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('scelta tipo spedizione dal sito', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,776 [11] DEBUG dn_lib.tools.log - aggiunto task al database: scelta tipo spedizione dal sito
2021-03-06 16:18:54,776 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 222 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 222, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-11 11:06:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-11 11:06:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-11 11:06:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,780 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\scelta tipo spedizione dal sito.task\i.txt
2021-03-06 16:18:54,786 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 419;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (419, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-11 11:06:02', 120));
2021-03-06 16:18:54,789 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\scelta tipo spedizione dal sito.task\i.txt
2021-03-06 16:18:54,790 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 121;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (121, 419, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-11 11:06:02', 120));
2021-03-06 16:18:54,794 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini vendite\scelta tipo spedizione dal sito.task\i.txt
2021-03-06 16:18:54,795 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 222 and file_name = 'task.revisione promo ordini.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 222, 'task.revisione promo ordini.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-25 11:17:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-25 11:17:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-25 11:17:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,799 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\scelta tipo spedizione dal sito.task\task.revisione promo ordini.sql
2021-03-06 16:18:54,803 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 420;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (420, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-25 11:17:27', 120));
2021-03-06 16:18:54,806 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\scelta tipo spedizione dal sito.task\task.revisione promo ordini.sql
2021-03-06 16:18:54,808 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 121) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:54,815 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'soluzione chiusura corrieri.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'soluzione chiusura corrieri.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,819 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\soluzione chiusura corrieri.task
2021-03-06 16:18:54,824 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 223 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 223, null, left('soluzione chiusura corrieri', 150)
            , 'molina', convert(datetime, '2020-11-03 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-03 00:00:00', 120), dt_upd = NULL
         , title = left('soluzione chiusura corrieri', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-03 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('soluzione chiusura corrieri', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,833 [11] DEBUG dn_lib.tools.log - aggiunto task al database: soluzione chiusura corrieri
2021-03-06 16:18:54,834 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 223 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 223, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-03 17:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-03 17:39:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-03 17:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,837 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\soluzione chiusura corrieri.task\i.txt
2021-03-06 16:18:54,843 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 421;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (421, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-03 17:39:58', 120));
2021-03-06 16:18:54,846 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\soluzione chiusura corrieri.task\i.txt
2021-03-06 16:18:54,846 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 122;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (122, 421, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-03 17:39:58', 120));
2021-03-06 16:18:54,849 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini vendite\soluzione chiusura corrieri.task\i.txt
2021-03-06 16:18:54,849 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 122) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:54,856 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'spese di spedizione dal sito.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'spese di spedizione dal sito.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,861 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\spese di spedizione dal sito.task
2021-03-06 16:18:54,866 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 224 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 224, null, left('spese di spedizione dal sito', 150)
            , 'molina', convert(datetime, '2020-10-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'ora', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-30 00:00:00', 120), dt_upd = NULL
         , title = left('spese di spedizione dal sito', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('spese di spedizione dal sito', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,871 [11] DEBUG dn_lib.tools.log - aggiunto task al database: spese di spedizione dal sito
2021-03-06 16:18:54,872 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 224 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 224, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-30 16:13:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-30 16:13:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-30 16:13:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,877 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\spese di spedizione dal sito.task\i.txt
2021-03-06 16:18:54,883 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 422;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (422, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-30 16:13:24', 120));
2021-03-06 16:18:54,886 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\spese di spedizione dal sito.task\i.txt
2021-03-06 16:18:54,886 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 123;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (123, 422, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-30 16:13:24', 120));
2021-03-06 16:18:54,889 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini vendite\spese di spedizione dal sito.task\i.txt
2021-03-06 16:18:54,889 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 123) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:54,896 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'stampa bolle senza prezzo dal magazzino.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'stampa bolle senza prezzo dal magazzino.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,901 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\stampa bolle senza prezzo dal magazzino.task
2021-03-06 16:18:54,905 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 225 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 225, null, left('stampa bolle senza prezzo dal magazzino', 150)
            , 'molina', convert(datetime, '2020-06-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezzora', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-30 00:00:00', 120), dt_upd = NULL
         , title = left('stampa bolle senza prezzo dal magazzino', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('stampa bolle senza prezzo dal magazzino', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,911 [11] DEBUG dn_lib.tools.log - aggiunto task al database: stampa bolle senza prezzo dal magazzino
2021-03-06 16:18:54,912 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 124) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:54,919 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'timeout importazione articolo nel gestionale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'timeout importazione articolo nel gestionale.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:51', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,923 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\timeout importazione articolo nel gestionale.task
2021-03-06 16:18:54,929 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 226 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 226, null, left('timeout importazione articolo nel gestionale', 150)
            , 'molina', convert(datetime, '2020-08-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-17 00:00:00', 120), dt_upd = NULL
         , title = left('timeout importazione articolo nel gestionale', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:51', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('timeout importazione articolo nel gestionale', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,934 [11] DEBUG dn_lib.tools.log - aggiunto task al database: timeout importazione articolo nel gestionale
2021-03-06 16:18:54,934 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 226 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 226, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-17 17:11:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-17 17:11:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-17 17:11:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,939 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\timeout importazione articolo nel gestionale.task\i.txt
2021-03-06 16:18:54,945 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 423;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (423, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-17 17:11:06', 120));
2021-03-06 16:18:54,948 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\timeout importazione articolo nel gestionale.task\i.txt
2021-03-06 16:18:54,949 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 125;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (125, 423, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-17 17:11:06', 120));
2021-03-06 16:18:54,951 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini vendite\timeout importazione articolo nel gestionale.task\i.txt
2021-03-06 16:18:54,952 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 125) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:54,959 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 198 
        and folder_name = 'via dalla bolla le cauzioni .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 198, 'via dalla bolla le cauzioni .task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:52', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,964 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\ordini vendite\via dalla bolla le cauzioni .task
2021-03-06 16:18:54,968 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 227 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 227, null, left('via dalla bolla le cauzioni ', 150)
            , 'molina', convert(datetime, '2020-09-02 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezzora', convert(datetime, '2021-03-02 22:44:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-02 00:00:00', 120), dt_upd = NULL
         , title = left('via dalla bolla le cauzioni ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:52', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('via dalla bolla le cauzioni ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,974 [11] DEBUG dn_lib.tools.log - aggiunto task al database: via dalla bolla le cauzioni 
2021-03-06 16:18:54,975 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 227 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 227, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-02 09:53:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-02 09:53:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-02 09:53:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:54,979 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\ordini vendite\via dalla bolla le cauzioni .task\i.txt
2021-03-06 16:18:54,986 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 424;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (424, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-02 09:53:13', 120));
2021-03-06 16:18:54,989 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\ordini vendite\via dalla bolla le cauzioni .task\i.txt
2021-03-06 16:18:54,990 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 126;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (126, 424, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-02 09:53:13', 120));
2021-03-06 16:18:54,994 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\ordini vendite\via dalla bolla le cauzioni .task\i.txt
2021-03-06 16:18:54,995 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 126) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:55,002 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'preventivi';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'preventivi', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,006 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\preventivi
2021-03-06 16:18:55,007 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 228 
        and folder_name = 'Invia preventivo (ricerca targa) Lingue.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 228, 'Invia preventivo (ricerca targa) Lingue.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,011 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\preventivi\Invia preventivo (ricerca targa) Lingue.task
2021-03-06 16:18:55,013 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 229 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 229, null, left('Invia preventivo (ricerca targa) Lingue', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('Invia preventivo (ricerca targa) Lingue', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('Invia preventivo (ricerca targa) Lingue', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,018 [11] DEBUG dn_lib.tools.log - aggiunto task al database: Invia preventivo (ricerca targa) Lingue
2021-03-06 16:18:55,019 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 229 and file_name = 'Cartel2.xlsx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 229, 'Cartel2.xlsx', '.xlsx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-02 14:37:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-02 14:37:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 14:37:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,023 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\preventivi\Invia preventivo (ricerca targa) Lingue.task\Cartel2.xlsx
2021-03-06 16:18:55,024 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 229 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 229, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-17 08:26:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-17 08:26:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-17 08:26:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,028 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\preventivi\Invia preventivo (ricerca targa) Lingue.task\i.txt
2021-03-06 16:18:55,034 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 426;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (426, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-17 08:26:19', 120));
2021-03-06 16:18:55,036 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\preventivi\Invia preventivo (ricerca targa) Lingue.task\i.txt
2021-03-06 16:18:55,037 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 127;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (127, 426, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-17 08:26:19', 120));
2021-03-06 16:18:55,039 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\preventivi\Invia preventivo (ricerca targa) Lingue.task\i.txt
2021-03-06 16:18:55,040 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 229 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 229, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-03 17:19:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-03 17:19:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-03 17:19:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,045 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\preventivi\Invia preventivo (ricerca targa) Lingue.task\sql.sql
2021-03-06 16:18:55,050 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 427;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (427, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-03 17:19:22', 120));
2021-03-06 16:18:55,053 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\preventivi\Invia preventivo (ricerca targa) Lingue.task\sql.sql
2021-03-06 16:18:55,054 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 127) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:55,062 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'prodotti';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'prodotti', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:56', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,066 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\prodotti
2021-03-06 16:18:55,067 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'descrizione breve con tags.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'descrizione breve con tags.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:55', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,071 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\prodotti\descrizione breve con tags.task
2021-03-06 16:18:55,076 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 231 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 231, null, left('descrizione breve con tags', 150)
            , 'molina', convert(datetime, '2020-12-11 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-12-11 00:00:00', 120), dt_upd = NULL
         , title = left('descrizione breve con tags', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:55', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-12-11 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('descrizione breve con tags', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,082 [11] DEBUG dn_lib.tools.log - aggiunto task al database: descrizione breve con tags
2021-03-06 16:18:55,083 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 231 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 231, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-12-11 11:13:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-12-11 11:13:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-12-11 11:13:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,087 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\descrizione breve con tags.task\i.txt
2021-03-06 16:18:55,093 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 428;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (428, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-12-11 11:13:59', 120));
2021-03-06 16:18:55,096 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\descrizione breve con tags.task\i.txt
2021-03-06 16:18:55,096 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 128;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (128, 428, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-12-11 11:13:59', 120));
2021-03-06 16:18:55,100 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\prodotti\descrizione breve con tags.task\i.txt
2021-03-06 16:18:55,101 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 128) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:55,109 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'GACC611DPSN non  nei listini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'GACC611DPSN non  nei listini.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:56', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,112 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\prodotti\GACC611DPSN non  nei listini.task
2021-03-06 16:18:55,114 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 232 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 232, null, left('GACC611DPSN non  nei listini', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('GACC611DPSN non  nei listini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:56', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('GACC611DPSN non  nei listini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,120 [11] DEBUG dn_lib.tools.log - aggiunto task al database: GACC611DPSN non  nei listini
2021-03-06 16:18:55,121 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 232 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 232, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-02 12:06:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-02 12:06:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 12:06:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,125 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\GACC611DPSN non  nei listini.task\content.sql
2021-03-06 16:18:55,131 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 429;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (429, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-02 12:06:40', 120));
2021-03-06 16:18:55,135 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\GACC611DPSN non  nei listini.task\content.sql
2021-03-06 16:18:55,136 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 129) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:55,143 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'gestione campo content - description per gli ARC.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'gestione campo content - description per gli ARC.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,147 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\prodotti\gestione campo content - description per gli ARC.task
2021-03-06 16:18:55,152 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 233 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 233, null, left('gestione campo content - description per gli ARC', 150)
            , 'molina', convert(datetime, '2020-07-10 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-10 00:00:00', 120), dt_upd = NULL
         , title = left('gestione campo content - description per gli ARC', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-10 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione campo content - description per gli ARC', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,157 [11] DEBUG dn_lib.tools.log - aggiunto task al database: gestione campo content - description per gli ARC
2021-03-06 16:18:55,159 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 233 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 233, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-28 14:34:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-28 14:34:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 14:34:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,164 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\gestione campo content - description per gli ARC.task\i.txt
2021-03-06 16:18:55,170 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 430;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (430, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-28 14:34:39', 120));
2021-03-06 16:18:55,172 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\gestione campo content - description per gli ARC.task\i.txt
2021-03-06 16:18:55,173 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 130;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (130, 430, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-28 14:34:39', 120));
2021-03-06 16:18:55,177 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\prodotti\gestione campo content - description per gli ARC.task\i.txt
2021-03-06 16:18:55,177 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 233 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 233, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-28 14:28:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-28 14:28:57', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 14:28:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,182 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\gestione campo content - description per gli ARC.task\sql.sql
2021-03-06 16:18:55,187 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 431;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (431, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-28 14:28:57', 120));
2021-03-06 16:18:55,190 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\gestione campo content - description per gli ARC.task\sql.sql
2021-03-06 16:18:55,191 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 130) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:55,197 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'gestione note sui prodotti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'gestione note sui prodotti.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:55', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,202 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\prodotti\gestione note sui prodotti.task
2021-03-06 16:18:55,207 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 234 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 234, null, left('gestione note sui prodotti', 150)
            , 'molina', convert(datetime, '2020-10-12 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-12 00:00:00', 120), dt_upd = NULL
         , title = left('gestione note sui prodotti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:55', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-12 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione note sui prodotti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,212 [11] DEBUG dn_lib.tools.log - aggiunto task al database: gestione note sui prodotti
2021-03-06 16:18:55,213 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 234 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 234, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-14 16:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-14 16:44:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-14 16:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,217 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\gestione note sui prodotti.task\i.txt
2021-03-06 16:18:55,224 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 432;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (432, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-14 16:44:40', 120));
2021-03-06 16:18:55,227 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\gestione note sui prodotti.task\i.txt
2021-03-06 16:18:55,227 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 131;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (131, 432, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-14 16:44:40', 120));
2021-03-06 16:18:55,230 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\prodotti\gestione note sui prodotti.task\i.txt
2021-03-06 16:18:55,230 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 131) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:55,238 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'griglia codici DIP.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'griglia codici DIP.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:55', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,243 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\prodotti\griglia codici DIP.task
2021-03-06 16:18:55,248 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 235 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 235, null, left('griglia codici DIP', 150)
            , 'molina', convert(datetime, '2020-08-24 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-24 00:00:00', 120), dt_upd = NULL
         , title = left('griglia codici DIP', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:55', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('griglia codici DIP', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,253 [11] DEBUG dn_lib.tools.log - aggiunto task al database: griglia codici DIP
2021-03-06 16:18:55,254 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 235 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 235, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-24 18:13:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-24 18:13:57', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-24 18:13:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,259 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\griglia codici DIP.task\i.txt
2021-03-06 16:18:55,265 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 433;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (433, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-24 18:13:57', 120));
2021-03-06 16:18:55,268 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\griglia codici DIP.task\i.txt
2021-03-06 16:18:55,268 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 132;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (132, 433, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-24 18:13:57', 120));
2021-03-06 16:18:55,271 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\prodotti\griglia codici DIP.task\i.txt
2021-03-06 16:18:55,271 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 235 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 235, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-24 18:14:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-24 18:14:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-24 18:14:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,275 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\griglia codici DIP.task\sql.sql
2021-03-06 16:18:55,282 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 434;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (434, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-24 18:14:02', 120));
2021-03-06 16:18:55,284 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\griglia codici DIP.task\sql.sql
2021-03-06 16:18:55,286 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 132) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:55,293 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'listini';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'listini', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-03 14:38:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-03 14:38:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-03 14:38:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,298 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\prodotti\listini
2021-03-06 16:18:55,299 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 236 
        and folder_name = 'aggiornata la lista delle categorie.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 236, 'aggiornata la lista delle categorie.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:56', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,305 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\prodotti\listini\aggiornata la lista delle categorie.task
2021-03-06 16:18:55,310 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 237 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 237, null, left('aggiornata la lista delle categorie', 150)
            , 'molina', convert(datetime, '2020-08-11 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-11 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornata la lista delle categorie', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:56', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-11 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornata la lista delle categorie', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,315 [11] DEBUG dn_lib.tools.log - aggiunto task al database: aggiornata la lista delle categorie
2021-03-06 16:18:55,316 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 133) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:55,323 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 236 
        and folder_name = 'aggiunta filtro nuovo - rev per i listini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 236, 'aggiunta filtro nuovo - rev per i listini.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:56', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,327 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\prodotti\listini\aggiunta filtro nuovo - rev per i listini.task
2021-03-06 16:18:55,332 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 238 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 238, null, left('aggiunta filtro nuovo - rev per i listini', 150)
            , 'molina', convert(datetime, '2020-08-11 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', NULL, convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-11 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta filtro nuovo - rev per i listini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:56', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-11 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta filtro nuovo - rev per i listini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,339 [11] DEBUG dn_lib.tools.log - aggiunto task al database: aggiunta filtro nuovo - rev per i listini
2021-03-06 16:18:55,340 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 134) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:55,347 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 236 
        and folder_name = 'gestione ricambista b per i prezzi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 236, 'gestione ricambista b per i prezzi.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:56', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,351 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\prodotti\listini\gestione ricambista b per i prezzi.task
2021-03-06 16:18:55,356 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 239 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 239, null, left('gestione ricambista b per i prezzi', 150)
            , 'molina', convert(datetime, '2020-10-14 00:00:00', 120), NULL, 1
            , 'fatto', 'altissima', 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-14 00:00:00', 120), dt_upd = NULL
         , title = left('gestione ricambista b per i prezzi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'altissima'
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:56', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione ricambista b per i prezzi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('altissima', '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,362 [11] DEBUG dn_lib.tools.log - aggiunto task al database: gestione ricambista b per i prezzi
2021-03-06 16:18:55,362 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 239 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 239, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-14 11:24:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-14 11:24:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-14 11:24:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,367 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\listini\gestione ricambista b per i prezzi.task\i.txt
2021-03-06 16:18:55,373 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 435;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (435, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-14 11:24:39', 120));
2021-03-06 16:18:55,376 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\listini\gestione ricambista b per i prezzi.task\i.txt
2021-03-06 16:18:55,377 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 135;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (135, 435, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-14 11:24:39', 120));
2021-03-06 16:18:55,379 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\prodotti\listini\gestione ricambista b per i prezzi.task\i.txt
2021-03-06 16:18:55,380 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 135) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:55,387 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 236 
        and folder_name = 'listini multipli sistemati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 236, 'listini multipli sistemati.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:56', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,393 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\prodotti\listini\listini multipli sistemati.task
2021-03-06 16:18:55,397 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 240 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 240, null, left('listini multipli sistemati', 150)
            , 'molina', convert(datetime, '2020-10-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-30 00:00:00', 120), dt_upd = NULL
         , title = left('listini multipli sistemati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:56', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('listini multipli sistemati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,402 [11] DEBUG dn_lib.tools.log - aggiunto task al database: listini multipli sistemati
2021-03-06 16:18:55,404 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 240 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 240, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-30 11:37:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-30 11:37:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-30 11:37:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,407 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\listini\listini multipli sistemati.task\i.txt
2021-03-06 16:18:55,414 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 436;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (436, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-30 11:37:38', 120));
2021-03-06 16:18:55,417 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\listini\listini multipli sistemati.task\i.txt
2021-03-06 16:18:55,418 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 136;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (136, 436, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-30 11:37:38', 120));
2021-03-06 16:18:55,420 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\prodotti\listini\listini multipli sistemati.task\i.txt
2021-03-06 16:18:55,421 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 136) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:55,428 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 236 
        and folder_name = 'nuovo Listino RICAMBISTA B.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 236, 'nuovo Listino RICAMBISTA B.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-03 14:39:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-03 14:39:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-03 14:39:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,433 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\prodotti\listini\nuovo Listino RICAMBISTA B.task
2021-03-06 16:18:55,437 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 241 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 241, null, left('nuovo Listino RICAMBISTA B', 150)
            , 'molina', convert(datetime, '2020-08-21 00:00:00', 120), NULL, 1
            , 'fatto', 'alta', 'modifica', NULL, convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-21 00:00:00', 120), dt_upd = NULL
         , title = left('nuovo Listino RICAMBISTA B', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'modifica', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:56', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuovo Listino RICAMBISTA B', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,444 [11] DEBUG dn_lib.tools.log - aggiunto task al database: nuovo Listino RICAMBISTA B
2021-03-06 16:18:55,445 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 241 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 241, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-03 14:39:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-03 14:39:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-03 14:39:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,449 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\listini\nuovo Listino RICAMBISTA B.task\i.txt
2021-03-06 16:18:55,455 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 437;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (437, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-03 14:39:04', 120));
2021-03-06 16:18:55,458 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\listini\nuovo Listino RICAMBISTA B.task\i.txt
2021-03-06 16:18:55,459 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 137;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (137, 437, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-03 14:39:04', 120));
2021-03-06 16:18:55,461 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\prodotti\listini\nuovo Listino RICAMBISTA B.task\i.txt
2021-03-06 16:18:55,462 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 241 and file_name = 'task.listino ricb.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 241, 'task.listino ricb.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-06 10:04:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-06 10:04:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-06 10:04:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,467 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\listini\nuovo Listino RICAMBISTA B.task\task.listino ricb.sql
2021-03-06 16:18:55,471 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 438;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (438, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-06 10:04:39', 120));
2021-03-06 16:18:55,474 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\listini\nuovo Listino RICAMBISTA B.task\task.listino ricb.sql
2021-03-06 16:18:55,475 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 137) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:55,482 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'marchio dpsn ai prodotti R.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'marchio dpsn ai prodotti R.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,487 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\prodotti\marchio dpsn ai prodotti R.task
2021-03-06 16:18:55,492 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 242 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 242, null, left('marchio dpsn ai prodotti R', 150)
            , 'molina', convert(datetime, '2020-07-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-09 00:00:00', 120), dt_upd = NULL
         , title = left('marchio dpsn ai prodotti R', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('marchio dpsn ai prodotti R', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,498 [11] DEBUG dn_lib.tools.log - aggiunto task al database: marchio dpsn ai prodotti R
2021-03-06 16:18:55,500 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 242 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 242, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-10 10:11:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-10 10:11:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-10 10:11:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,504 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\marchio dpsn ai prodotti R.task\sql.sql
2021-03-06 16:18:55,508 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 439;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (439, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-10 10:11:13', 120));
2021-03-06 16:18:55,512 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\marchio dpsn ai prodotti R.task\sql.sql
2021-03-06 16:18:55,512 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 138) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:55,519 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'nuove categorie.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'nuove categorie.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:54', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,523 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\prodotti\nuove categorie.task
2021-03-06 16:18:55,528 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 243 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 243, null, left('nuove categorie', 150)
            , 'molina', convert(datetime, '2020-08-13 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-13 00:00:00', 120), dt_upd = NULL
         , title = left('nuove categorie', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:54', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-13 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuove categorie', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,534 [11] DEBUG dn_lib.tools.log - aggiunto task al database: nuove categorie
2021-03-06 16:18:55,535 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 243 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 243, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-13 10:01:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-13 10:01:41', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-13 10:01:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,539 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\nuove categorie.task\i.txt
2021-03-06 16:18:55,545 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 440;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (440, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-13 10:01:41', 120));
2021-03-06 16:18:55,548 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\nuove categorie.task\i.txt
2021-03-06 16:18:55,549 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 139;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (139, 440, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-13 10:01:41', 120));
2021-03-06 16:18:55,552 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\prodotti\nuove categorie.task\i.txt
2021-03-06 16:18:55,553 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 139) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:55,561 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'revisione categorie.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'revisione categorie.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:55', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,566 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\prodotti\revisione categorie.task
2021-03-06 16:18:55,571 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 244 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 244, null, left('revisione categorie', 150)
            , 'molina', convert(datetime, '2021-01-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-21 00:00:00', 120), dt_upd = NULL
         , title = left('revisione categorie', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:55', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione categorie', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,576 [11] DEBUG dn_lib.tools.log - aggiunto task al database: revisione categorie
2021-03-06 16:18:55,577 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 244 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 244, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-21 17:30:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-21 17:30:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-21 17:30:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,582 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\revisione categorie.task\i.txt
2021-03-06 16:18:55,587 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 441;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (441, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-21 17:30:27', 120));
2021-03-06 16:18:55,591 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\revisione categorie.task\i.txt
2021-03-06 16:18:55,591 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 140;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (140, 441, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-21 17:30:27', 120));
2021-03-06 16:18:55,593 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\prodotti\revisione categorie.task\i.txt
2021-03-06 16:18:55,594 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 244 and file_name = 'Lista Categoria Iniettori.xlsx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 244, 'Lista Categoria Iniettori.xlsx', '.xlsx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-21 08:59:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-21 08:59:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-21 08:59:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,599 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\revisione categorie.task\Lista Categoria Iniettori.xlsx
2021-03-06 16:18:55,600 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 244 and file_name = 'rev-categorie-www.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 244, 'rev-categorie-www.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-21 14:45:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-21 14:45:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-21 14:45:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,606 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\revisione categorie.task\rev-categorie-www.sql
2021-03-06 16:18:55,610 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 443;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (443, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-21 14:45:47', 120));
2021-03-06 16:18:55,614 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\revisione categorie.task\rev-categorie-www.sql
2021-03-06 16:18:55,614 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 244 and file_name = 'rev-categorie.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 244, 'rev-categorie.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-21 14:45:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-21 14:45:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-21 14:45:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,619 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\revisione categorie.task\rev-categorie.sql
2021-03-06 16:18:55,624 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 444;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (444, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-21 14:45:47', 120));
2021-03-06 16:18:55,627 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\revisione categorie.task\rev-categorie.sql
2021-03-06 16:18:55,628 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 140) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:55,634 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'sistemata la paginetta prodotti per le carcasse.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'sistemata la paginetta prodotti per le carcasse.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:55', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,639 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\prodotti\sistemata la paginetta prodotti per le carcasse.task
2021-03-06 16:18:55,644 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 245 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 245, null, left('sistemata la paginetta prodotti per le carcasse', 150)
            , 'molina', convert(datetime, '2020-09-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-29 00:00:00', 120), dt_upd = NULL
         , title = left('sistemata la paginetta prodotti per le carcasse', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:55', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('sistemata la paginetta prodotti per le carcasse', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,650 [11] DEBUG dn_lib.tools.log - aggiunto task al database: sistemata la paginetta prodotti per le carcasse
2021-03-06 16:18:55,651 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 141) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:55,658 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'sistemata la vista VW_CAUZIONI.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'sistemata la vista VW_CAUZIONI.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:55', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,662 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\prodotti\sistemata la vista VW_CAUZIONI.task
2021-03-06 16:18:55,667 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 246 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 246, null, left('sistemata la vista VW_CAUZIONI', 150)
            , 'molina', convert(datetime, '2020-08-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezzora', convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-25 00:00:00', 120), dt_upd = NULL
         , title = left('sistemata la vista VW_CAUZIONI', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:55', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('sistemata la vista VW_CAUZIONI', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,673 [11] DEBUG dn_lib.tools.log - aggiunto task al database: sistemata la vista VW_CAUZIONI
2021-03-06 16:18:55,674 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 246 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 246, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-25 09:32:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-25 09:32:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-25 09:32:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,678 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\sistemata la vista VW_CAUZIONI.task\i.txt
2021-03-06 16:18:55,684 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 445;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (445, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-25 09:32:06', 120));
2021-03-06 16:18:55,687 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\sistemata la vista VW_CAUZIONI.task\i.txt
2021-03-06 16:18:55,688 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 142;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (142, 445, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-25 09:32:06', 120));
2021-03-06 16:18:55,690 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\prodotti\sistemata la vista VW_CAUZIONI.task\i.txt
2021-03-06 16:18:55,691 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 246 and file_name = 'scheda crm con 2 codici.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 246, 'scheda crm con 2 codici.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-11 10:11:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-11 10:11:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-11 10:11:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,696 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\sistemata la vista VW_CAUZIONI.task\scheda crm con 2 codici.png
2021-03-06 16:18:55,697 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 246 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 246, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-25 09:32:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-25 09:32:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-25 09:32:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,701 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\sistemata la vista VW_CAUZIONI.task\sql.sql
2021-03-06 16:18:55,706 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 447;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (447, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-25 09:32:25', 120));
2021-03-06 16:18:55,709 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\sistemata la vista VW_CAUZIONI.task\sql.sql
2021-03-06 16:18:55,710 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 246 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 246, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-27 12:27:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-27 12:27:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-27 12:27:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,715 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\sistemata la vista VW_CAUZIONI.task\Thumbs.db
2021-03-06 16:18:55,716 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 142) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:55,723 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'spariscono le domande dei prodotti sul sito.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'spariscono le domande dei prodotti sul sito.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:56', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,727 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\prodotti\spariscono le domande dei prodotti sul sito.task
2021-03-06 16:18:55,732 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 247 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 247, null, left('spariscono le domande dei prodotti sul sito', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('spariscono le domande dei prodotti sul sito', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:56', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('spariscono le domande dei prodotti sul sito', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,738 [11] DEBUG dn_lib.tools.log - aggiunto task al database: spariscono le domande dei prodotti sul sito
2021-03-06 16:18:55,739 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 247 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 247, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-06 10:34:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-06 10:34:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-06 10:34:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,744 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\spariscono le domande dei prodotti sul sito.task\content.sql
2021-03-06 16:18:55,748 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 449;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (449, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-06 10:34:55', 120));
2021-03-06 16:18:55,753 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\spariscono le domande dei prodotti sul sito.task\content.sql
2021-03-06 16:18:55,753 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 143) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:55,760 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'uniformare le categorie.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'uniformare le categorie.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,765 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\prodotti\uniformare le categorie.task
2021-03-06 16:18:55,769 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 248 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 248, null, left('uniformare le categorie', 150)
            , 'molina', convert(datetime, '2020-08-12 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', 'giornata', convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-12 00:00:00', 120), dt_upd = NULL
         , title = left('uniformare le categorie', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-12 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('uniformare le categorie', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,775 [11] DEBUG dn_lib.tools.log - aggiunto task al database: uniformare le categorie
2021-03-06 16:18:55,776 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 248 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 248, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-14 10:16:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-14 10:16:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-14 10:16:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,780 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\uniformare le categorie.task\i.txt
2021-03-06 16:18:55,786 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 450;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (450, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-14 10:16:35', 120));
2021-03-06 16:18:55,789 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\uniformare le categorie.task\i.txt
2021-03-06 16:18:55,790 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 144;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (144, 450, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-14 10:16:35', 120));
2021-03-06 16:18:55,793 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\prodotti\uniformare le categorie.task\i.txt
2021-03-06 16:18:55,793 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 248 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 248, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-14 10:13:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-14 10:13:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-14 10:13:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,797 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\uniformare le categorie.task\sql.sql
2021-03-06 16:18:55,802 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 451;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (451, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-14 10:13:19', 120));
2021-03-06 16:18:55,806 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\uniformare le categorie.task\sql.sql
2021-03-06 16:18:55,807 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 144) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:55,814 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 230 
        and folder_name = 'vendite nella pagina prodotti web.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 230, 'vendite nella pagina prodotti web.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:55', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,819 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\prodotti\vendite nella pagina prodotti web.task
2021-03-06 16:18:55,823 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 249 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 249, null, left('vendite nella pagina prodotti web', 150)
            , 'molina', convert(datetime, '2020-10-07 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'facile', 'due_ore', convert(datetime, '2021-03-02 22:44:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-07 00:00:00', 120), dt_upd = NULL
         , title = left('vendite nella pagina prodotti web', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:55', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-07 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('vendite nella pagina prodotti web', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,828 [11] DEBUG dn_lib.tools.log - aggiunto task al database: vendite nella pagina prodotti web
2021-03-06 16:18:55,830 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 249 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 249, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-07 16:41:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-07 16:41:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-07 16:41:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,835 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\prodotti\vendite nella pagina prodotti web.task\i.txt
2021-03-06 16:18:55,840 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 452;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (452, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-07 16:41:17', 120));
2021-03-06 16:18:55,843 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\prodotti\vendite nella pagina prodotti web.task\i.txt
2021-03-06 16:18:55,844 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 145;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (145, 452, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-07 16:41:17', 120));
2021-03-06 16:18:55,847 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\prodotti\vendite nella pagina prodotti web.task\i.txt
2021-03-06 16:18:55,847 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 145) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:55,855 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'revisioni';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'revisioni', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,859 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\revisioni
2021-03-06 16:18:55,860 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 250 
        and folder_name = 'lavorazioni interne.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 250, 'lavorazioni interne.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,866 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task
2021-03-06 16:18:55,872 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 251 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 251, null, left('lavorazioni interne', 150)
            , 'molina', convert(datetime, '2020-11-05 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_giorni', convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-05 00:00:00', 120), dt_upd = NULL
         , title = left('lavorazioni interne', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-05 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('lavorazioni interne', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,877 [11] DEBUG dn_lib.tools.log - aggiunto task al database: lavorazioni interne
2021-03-06 16:18:55,879 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 251 
        and folder_name = 'patch';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 251, 'patch', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:23', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,883 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch
2021-03-06 16:18:55,884 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'FNCS - DETT_ORDINE.prev.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'FNCS - DETT_ORDINE.prev.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 09:06:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 09:06:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 09:06:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,889 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\FNCS - DETT_ORDINE.prev.sql
2021-03-06 16:18:55,895 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 453;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (453, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 09:06:49', 120));
2021-03-06 16:18:55,898 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\FNCS - DETT_ORDINE.prev.sql
2021-03-06 16:18:55,900 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'FNCS - DETT_ORDINE.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'FNCS - DETT_ORDINE.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 10:59:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 10:59:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 10:59:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,904 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\FNCS - DETT_ORDINE.sql
2021-03-06 16:18:55,912 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 454;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (454, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 10:59:04', 120));
2021-03-06 16:18:55,914 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\FNCS - DETT_ORDINE.sql
2021-03-06 16:18:55,915 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'PATCH.prev.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'PATCH.prev.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 12:16:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 12:16:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 12:16:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,919 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\PATCH.prev.sql
2021-03-06 16:18:55,924 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 455;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (455, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 12:16:39', 120));
2021-03-06 16:18:55,927 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\PATCH.prev.sql
2021-03-06 16:18:55,928 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'PATCH.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'PATCH.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 12:16:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 12:16:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 12:16:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,932 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\PATCH.sql
2021-03-06 16:18:55,936 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 456;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (456, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 12:16:28', 120));
2021-03-06 16:18:55,940 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\PATCH.sql
2021-03-06 16:18:55,940 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'REFRESH_CODA_ORDINI.prev.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'REFRESH_CODA_ORDINI.prev.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-09 17:43:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-09 17:43:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-09 17:43:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,945 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\REFRESH_CODA_ORDINI.prev.sql
2021-03-06 16:18:55,952 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 457;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (457, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-09 17:43:09', 120));
2021-03-06 16:18:55,955 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\REFRESH_CODA_ORDINI.prev.sql
2021-03-06 16:18:55,956 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'REFRESH_CODA_ORDINI.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'REFRESH_CODA_ORDINI.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 12:01:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 12:01:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 12:01:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,961 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\REFRESH_CODA_ORDINI.sql
2021-03-06 16:18:55,967 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 458;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (458, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 12:01:56', 120));
2021-03-06 16:18:55,970 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\REFRESH_CODA_ORDINI.sql
2021-03-06 16:18:55,971 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'REFRESH_PRODOTTI.prev.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'REFRESH_PRODOTTI.prev.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 12:14:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 12:14:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 12:14:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,975 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\REFRESH_PRODOTTI.prev.sql
2021-03-06 16:18:55,981 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 459;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (459, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 12:14:27', 120));
2021-03-06 16:18:55,985 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\REFRESH_PRODOTTI.prev.sql
2021-03-06 16:18:55,986 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'REFRESH_PRODOTTI.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'REFRESH_PRODOTTI.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 10:50:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 10:50:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 10:50:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:55,990 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\REFRESH_PRODOTTI.sql
2021-03-06 16:18:55,997 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 460;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (460, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 10:50:30', 120));
2021-03-06 16:18:56,000 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\REFRESH_PRODOTTI.sql
2021-03-06 16:18:56,001 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'task.lav interne.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'task.lav interne.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-09 12:04:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-09 12:04:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-09 12:04:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,005 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\task.lav interne.sql
2021-03-06 16:18:56,012 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 461;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (461, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-09 12:04:43', 120));
2021-03-06 16:18:56,016 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\task.lav interne.sql
2021-03-06 16:18:56,017 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'UDCS_ORDERS_IN_CODA.prev.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'UDCS_ORDERS_IN_CODA.prev.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-09 17:42:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-09 17:42:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-09 17:42:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,022 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\UDCS_ORDERS_IN_CODA.prev.sql
2021-03-06 16:18:56,028 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 462;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (462, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-09 17:42:49', 120));
2021-03-06 16:18:56,031 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\UDCS_ORDERS_IN_CODA.prev.sql
2021-03-06 16:18:56,032 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'UDCS_ORDERS_IN_CODA.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'UDCS_ORDERS_IN_CODA.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 10:57:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 10:57:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 10:57:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,036 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\UDCS_ORDERS_IN_CODA.sql
2021-03-06 16:18:56,043 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 463;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (463, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 10:57:29', 120));
2021-03-06 16:18:56,047 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\UDCS_ORDERS_IN_CODA.sql
2021-03-06 16:18:56,049 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'VW_PRODOTTI_ORDERS.prev.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'VW_PRODOTTI_ORDERS.prev.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 09:49:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 09:49:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 09:49:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,053 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\VW_PRODOTTI_ORDERS.prev.sql
2021-03-06 16:18:56,058 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 464;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (464, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 09:49:22', 120));
2021-03-06 16:18:56,061 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\VW_PRODOTTI_ORDERS.prev.sql
2021-03-06 16:18:56,062 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 252 and file_name = 'VW_PRODOTTI_ORDERS.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 252, 'VW_PRODOTTI_ORDERS.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 10:53:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 10:53:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 10:53:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,068 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\VW_PRODOTTI_ORDERS.sql
2021-03-06 16:18:56,073 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 465;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (465, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 10:53:56', 120));
2021-03-06 16:18:56,076 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\patch\VW_PRODOTTI_ORDERS.sql
2021-03-06 16:18:56,076 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 146) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:56,085 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 251 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 251, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 17:14:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-10 17:14:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-10 17:14:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,090 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\i.txt
2021-03-06 16:18:56,096 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 466;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (466, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 17:14:31', 120));
2021-03-06 16:18:56,099 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\i.txt
2021-03-06 16:18:56,100 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 146;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (146, 466, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-10 17:14:31', 120));
2021-03-06 16:18:56,102 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\revisioni\lavorazioni interne.task\i.txt
2021-03-06 16:18:56,103 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 146) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:56,105 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 250 
        and folder_name = 'specificare la quantit.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 250, 'specificare la quantit.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,109 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\revisioni\specificare la quantit.task
2021-03-06 16:18:56,115 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 253 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 253, null, left('specificare la quantit', 150)
            , 'molina', convert(datetime, '2021-01-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, 'due_ore', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-14 00:00:00', 120), dt_upd = NULL
         , title = left('specificare la quantit', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('specificare la quantit', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,120 [11] DEBUG dn_lib.tools.log - aggiunto task al database: specificare la quantit
2021-03-06 16:18:56,121 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 253 and file_name = 'campo rev.jpg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 253, 'campo rev.jpg', '.jpg', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-14 17:26:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-14 17:26:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-14 17:26:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,125 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\specificare la quantit.task\campo rev.jpg
2021-03-06 16:18:56,126 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 253 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 253, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-14 17:25:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-14 17:25:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-14 17:25:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,131 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\revisioni\specificare la quantit.task\i.txt
2021-03-06 16:18:56,137 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 468;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (468, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-14 17:25:51', 120));
2021-03-06 16:18:56,140 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\revisioni\specificare la quantit.task\i.txt
2021-03-06 16:18:56,140 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 147;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (147, 468, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-14 17:25:51', 120));
2021-03-06 16:18:56,143 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\revisioni\specificare la quantit.task\i.txt
2021-03-06 16:18:56,144 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 147) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:56,151 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'scheda tecdoc';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'scheda tecdoc', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:57', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,155 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc
2021-03-06 16:18:56,157 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'aggiunta compatibilit a volte non va.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'aggiunta compatibilit a volte non va.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,162 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\aggiunta compatibilit a volte non va.task
2021-03-06 16:18:56,168 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 255 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 255, null, left('aggiunta compatibilit a volte non va', 150)
            , 'molina', convert(datetime, '2020-08-18 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-18 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta compatibilit a volte non va', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta compatibilit a volte non va', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,174 [11] DEBUG dn_lib.tools.log - aggiunto task al database: aggiunta compatibilit a volte non va
2021-03-06 16:18:56,175 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 255 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 255, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-18 16:02:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-18 16:02:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 16:02:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,179 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\aggiunta compatibilit a volte non va.task\i.txt
2021-03-06 16:18:56,186 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 469;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (469, '.txt', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-18 16:02:07', 120));
2021-03-06 16:18:56,192 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\aggiunta compatibilit a volte non va.task\i.txt
2021-03-06 16:18:56,193 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 148;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (148, 469, @content
          , convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-18 16:02:07', 120));
2021-03-06 16:18:56,195 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\scheda tecdoc\aggiunta compatibilit a volte non va.task\i.txt
2021-03-06 16:18:56,196 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 255 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 255, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-18 15:33:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-18 15:33:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 15:33:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,200 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\aggiunta compatibilit a volte non va.task\sql.sql
2021-03-06 16:18:56,207 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 470;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (470, '.sql', @content, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-18 15:33:07', 120));
2021-03-06 16:18:56,209 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\aggiunta compatibilit a volte non va.task\sql.sql
2021-03-06 16:18:56,210 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 148) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:56,218 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'catalogo';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'catalogo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:57', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,222 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\catalogo
2021-03-06 16:18:56,223 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 256 
        and folder_name = 'revisione alla versione 2019.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 256, 'revisione alla versione 2019.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:57', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,228 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\catalogo\revisione alla versione 2019.task
2021-03-06 16:18:56,233 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 257 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 257, null, left('revisione alla versione 2019', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, 'due_ore', convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('revisione alla versione 2019', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:57', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione alla versione 2019', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,240 [11] DEBUG dn_lib.tools.log - aggiunto task al database: revisione alla versione 2019
2021-03-06 16:18:56,241 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 257 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 257, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-29 16:19:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-29 16:19:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 16:19:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,246 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\catalogo\revisione alla versione 2019.task\sql.sql
2021-03-06 16:18:56,248 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 149) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:56,256 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'ci sono dei codici nel tec-doc disabilitati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'ci sono dei codici nel tec-doc disabilitati.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,261 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\ci sono dei codici nel tec-doc disabilitati.task
2021-03-06 16:18:56,267 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 258 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 258, null, left('ci sono dei codici nel tec-doc disabilitati', 150)
            , 'molina', convert(datetime, '2020-07-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-09 00:00:00', 120), dt_upd = NULL
         , title = left('ci sono dei codici nel tec-doc disabilitati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ci sono dei codici nel tec-doc disabilitati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,274 [11] DEBUG dn_lib.tools.log - aggiunto task al database: ci sono dei codici nel tec-doc disabilitati
2021-03-06 16:18:56,275 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 258 and file_name = '1.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 258, '1.png', '.png', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-09 11:18:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-07-09 11:18:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-09 11:18:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,281 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\ci sono dei codici nel tec-doc disabilitati.task\1.png
2021-03-06 16:18:56,282 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 258 and file_name = '2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 258, '2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-09 11:18:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-07-09 11:18:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-09 11:18:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,286 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\ci sono dei codici nel tec-doc disabilitati.task\2.png
2021-03-06 16:18:56,287 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 258 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 258, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-09 11:59:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-07-09 11:59:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-09 11:59:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,292 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\ci sono dei codici nel tec-doc disabilitati.task\sql.sql
2021-03-06 16:18:56,297 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 474;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (474, '.sql', @content, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-09 11:59:42', 120));
2021-03-06 16:18:56,301 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\ci sono dei codici nel tec-doc disabilitati.task\sql.sql
2021-03-06 16:18:56,302 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 150) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:56,310 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'database tecdoc';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'database tecdoc', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:44:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,315 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\database tecdoc
2021-03-06 16:18:56,316 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 259 
        and folder_name = 'caricamento database td2019q4 sulla 91.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 259, 'caricamento database td2019q4 sulla 91.task', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:44:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,320 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\database tecdoc\caricamento database td2019q4 sulla 91.task
2021-03-06 16:18:56,323 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 260 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 260, null, left('caricamento database td2019q4 sulla 91', 150)
            , 'molina', convert(datetime, '2020-06-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-15 00:00:00', 120), dt_upd = NULL
         , title = left('caricamento database td2019q4 sulla 91', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('caricamento database td2019q4 sulla 91', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,329 [11] DEBUG dn_lib.tools.log - aggiunto task al database: caricamento database td2019q4 sulla 91
2021-03-06 16:18:56,330 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 260 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 260, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-15 11:34:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-06-15 11:34:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-15 11:34:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,334 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\database tecdoc\caricamento database td2019q4 sulla 91.task\sql.sql
2021-03-06 16:18:56,341 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 475;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (475, '.sql', @content, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-15 11:34:58', 120));
2021-03-06 16:18:56,344 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\database tecdoc\caricamento database td2019q4 sulla 91.task\sql.sql
2021-03-06 16:18:56,345 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 151) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:56,353 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 259 
        and folder_name = 'pulita tecdoc 16.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 259, 'pulita tecdoc 16.task', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:44:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,357 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\database tecdoc\pulita tecdoc 16.task
2021-03-06 16:18:56,359 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 261 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 261, null, left('pulita tecdoc 16', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('pulita tecdoc 16', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('pulita tecdoc 16', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,366 [11] DEBUG dn_lib.tools.log - aggiunto task al database: pulita tecdoc 16
2021-03-06 16:18:56,367 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 261 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 261, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-04 08:26:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-06-04 08:26:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 08:26:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,372 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\database tecdoc\pulita tecdoc 16.task\content.sql
2021-03-06 16:18:56,380 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 476;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (476, '.sql', @content, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-04 08:26:00', 120));
2021-03-06 16:18:56,383 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\database tecdoc\pulita tecdoc 16.task\content.sql
2021-03-06 16:18:56,384 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 152) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:56,392 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'estrazione dati tecdoc';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'estrazione dati tecdoc', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:01', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,396 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc
2021-03-06 16:18:56,398 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 262 
        and folder_name = 'check cross ARC071VLON.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 262, 'check cross ARC071VLON.task', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:01', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,402 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check cross ARC071VLON.task
2021-03-06 16:18:56,407 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 263 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 263, null, left('check cross ARC071VLON', 150)
            , 'molina', convert(datetime, '2020-07-02 00:00:00', 120), NULL, 1
            , 'sospeso', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-02 00:00:00', 120), dt_upd = NULL
         , title = left('check cross ARC071VLON', 150), [user] = 'molina'
         , stato = 'sospeso', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:01', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('check cross ARC071VLON', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('sospeso', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,414 [11] DEBUG dn_lib.tools.log - aggiunto task al database: check cross ARC071VLON
2021-03-06 16:18:56,415 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 263 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 263, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-29 17:47:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-07-29 17:47:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 17:47:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,420 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check cross ARC071VLON.task\i.txt
2021-03-06 16:18:56,426 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 477;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (477, '.txt', @content, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-29 17:47:30', 120));
2021-03-06 16:18:56,430 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check cross ARC071VLON.task\i.txt
2021-03-06 16:18:56,430 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 153;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (153, 477, @content
          , convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-29 17:47:30', 120));
2021-03-06 16:18:56,433 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check cross ARC071VLON.task\i.txt
2021-03-06 16:18:56,434 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 263 and file_name = 'Problema Cross TecDoc.msg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 263, 'Problema Cross TecDoc.msg', '.msg', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-29 17:48:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-07-29 17:48:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 17:48:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,438 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check cross ARC071VLON.task\Problema Cross TecDoc.msg
2021-03-06 16:18:56,439 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 263 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 263, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-03 09:00:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-07-03 09:00:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-03 09:00:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,443 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check cross ARC071VLON.task\sql.sql
2021-03-06 16:18:56,449 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 479;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (479, '.sql', @content, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-03 09:00:56', 120));
2021-03-06 16:18:56,452 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check cross ARC071VLON.task\sql.sql
2021-03-06 16:18:56,453 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 263 and file_name = 'sql_bck.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 263, 'sql_bck.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-03 08:38:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-07-03 08:38:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-03 08:38:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,457 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check cross ARC071VLON.task\sql_bck.sql
2021-03-06 16:18:56,462 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 480;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (480, '.sql', @content, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-07-03 08:38:20', 120));
2021-03-06 16:18:56,465 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check cross ARC071VLON.task\sql_bck.sql
2021-03-06 16:18:56,466 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 153) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:56,473 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 262 
        and folder_name = 'check errori di importazione dati tecdoc.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 262, 'check errori di importazione dati tecdoc.task', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:45:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:00', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,478 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check errori di importazione dati tecdoc.task
2021-03-06 16:18:56,482 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 264 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 264, null, left('check errori di importazione dati tecdoc', 150)
            , 'molina', convert(datetime, '2020-06-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-23 00:00:00', 120), dt_upd = NULL
         , title = left('check errori di importazione dati tecdoc', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:00', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('check errori di importazione dati tecdoc', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,488 [11] DEBUG dn_lib.tools.log - aggiunto task al database: check errori di importazione dati tecdoc
2021-03-06 16:18:56,490 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 264 and file_name = 'Detail_04882_DIPASPORT_20200623_072620.csv';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 264, 'Detail_04882_DIPASPORT_20200623_072620.csv', '.csv', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-23 09:26:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-06-23 09:26:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-23 09:26:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,495 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check errori di importazione dati tecdoc.task\Detail_04882_DIPASPORT_20200623_072620.csv
2021-03-06 16:18:56,496 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 264 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 264, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-24 15:04:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-06-24 15:04:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-24 15:04:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,500 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check errori di importazione dati tecdoc.task\i.txt
2021-03-06 16:18:56,505 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 482;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (482, '.txt', @content, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-24 15:04:04', 120));
2021-03-06 16:18:56,508 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check errori di importazione dati tecdoc.task\i.txt
2021-03-06 16:18:56,508 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 154;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (154, 482, @content
          , convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-24 15:04:04', 120));
2021-03-06 16:18:56,511 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check errori di importazione dati tecdoc.task\i.txt
2021-03-06 16:18:56,512 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 264 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 264, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-24 17:02:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-06-24 17:02:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-24 17:02:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,516 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check errori di importazione dati tecdoc.task\sql.sql
2021-03-06 16:18:56,523 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 483;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (483, '.sql', @content, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-24 17:02:23', 120));
2021-03-06 16:18:56,526 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check errori di importazione dati tecdoc.task\sql.sql
2021-03-06 16:18:56,526 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 264 and file_name = 'td_base.old.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 264, 'td_base.old.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-24 08:58:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-06-24 08:58:11', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-24 08:58:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,531 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\check errori di importazione dati tecdoc.task\td_base.old.xml
2021-03-06 16:18:56,531 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 154) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:56,538 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 262 
        and folder_name = 'controlli sulla definizione delle auto.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 262, 'controlli sulla definizione delle auto.task', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:45:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:00', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,543 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\controlli sulla definizione delle auto.task
2021-03-06 16:18:56,548 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 265 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 265, null, left('controlli sulla definizione delle auto', 150)
            , 'molina', convert(datetime, '2020-06-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:45:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-26 00:00:00', 120), dt_upd = NULL
         , title = left('controlli sulla definizione delle auto', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:00', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('controlli sulla definizione delle auto', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,554 [11] DEBUG dn_lib.tools.log - aggiunto task al database: controlli sulla definizione delle auto
2021-03-06 16:18:56,554 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 265 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 265, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-26 11:52:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-06-26 11:52:15', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 11:52:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,558 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\controlli sulla definizione delle auto.task\i.txt
2021-03-06 16:18:56,563 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 485;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (485, '.txt', @content, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-26 11:52:15', 120));
2021-03-06 16:18:56,566 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\controlli sulla definizione delle auto.task\i.txt
2021-03-06 16:18:56,567 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 155;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (155, 485, @content
          , convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-26 11:52:15', 120));
2021-03-06 16:18:56,571 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\controlli sulla definizione delle auto.task\i.txt
2021-03-06 16:18:56,572 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 155) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:56,580 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 262 
        and folder_name = 'estrazione dati tecdoc flow223dpsn.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 262, 'estrazione dati tecdoc flow223dpsn.task', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:01', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,584 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione dati tecdoc flow223dpsn.task
2021-03-06 16:18:56,586 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 266 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 266, null, left('estrazione dati tecdoc flow223dpsn', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('estrazione dati tecdoc flow223dpsn', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:01', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('estrazione dati tecdoc flow223dpsn', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,591 [11] DEBUG dn_lib.tools.log - aggiunto task al database: estrazione dati tecdoc flow223dpsn
2021-03-06 16:18:56,592 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 266 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 266, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-18 10:39:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-06-18 10:39:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-18 10:39:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,597 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione dati tecdoc flow223dpsn.task\content.sql
2021-03-06 16:18:56,603 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 486;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (486, '.sql', @content, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-06-18 10:39:50', 120));
2021-03-06 16:18:56,605 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione dati tecdoc flow223dpsn.task\content.sql
2021-03-06 16:18:56,606 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 156) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:56,614 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 262 
        and folder_name = 'estrazione tecdoc.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 262, 'estrazione tecdoc.task', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-03-02 22:44:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,618 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task
2021-03-06 16:18:56,623 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 267 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 267, null, left('estrazione tecdoc', 150)
            , 'molina', convert(datetime, '2020-05-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-05-28 00:00:00', 120), dt_upd = NULL
         , title = left('estrazione tecdoc', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-05-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('estrazione tecdoc', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,629 [11] DEBUG dn_lib.tools.log - aggiunto task al database: estrazione tecdoc
2021-03-06 16:18:56,630 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 267 
        and folder_name = 'bulk_dat';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 267, 'bulk_dat', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2021-01-29 15:45:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:33', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,635 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\bulk_dat
2021-03-06 16:18:56,635 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 268 and file_name = '012.dat';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 268, '012.dat', '.dat', 1, convert(datetime, '2021-03-06 16:17:45', 120), convert(datetime, '2020-04-29 09:23:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:45', 120), dt_lwt = convert(datetime, '2020-04-29 09:23:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:45', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-04-29 09:23:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,639 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\bulk_dat\012.dat
2021-03-06 16:18:56,640 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 268 and file_name = '030.dat';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 268, '030.dat', '.dat', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-04-29 09:22:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-04-29 09:22:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-04-29 09:22:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,645 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\bulk_dat\030.dat
2021-03-06 16:18:56,646 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 268 and file_name = 'import_12_30.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 268, 'import_12_30.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-03 11:35:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-03 11:35:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 11:35:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,650 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\bulk_dat\import_12_30.sql
2021-03-06 16:18:56,656 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 489;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (489, '.sql', @content, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-03 11:35:16', 120));
2021-03-06 16:18:56,659 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\bulk_dat\import_12_30.sql
2021-03-06 16:18:56,661 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 268 and file_name = 'td-12-format.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 268, 'td-12-format.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2017-10-23 16:05:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2017-10-23 16:05:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-23 16:05:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,666 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\bulk_dat\td-12-format.xml
2021-03-06 16:18:56,667 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 268 and file_name = 'td-30-format.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 268, 'td-30-format.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2017-10-26 15:37:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2017-10-26 15:37:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-26 15:37:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,671 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\bulk_dat\td-30-format.xml
2021-03-06 16:18:56,672 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:56,680 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 267 
        and folder_name = 'docs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 267, 'docs', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2021-01-29 15:45:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,684 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs
2021-03-06 16:18:56,685 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 269 
        and folder_name = '4882-backup-tentler';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 269, '4882-backup-tentler', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2021-01-29 15:45:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,690 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler
2021-03-06 16:18:56,690 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '001.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '001.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,695 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\001.4882
2021-03-06 16:18:56,696 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '030.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '030.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,700 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\030.4882
2021-03-06 16:18:56,701 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '035.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '035.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,706 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\035.4882
2021-03-06 16:18:56,707 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '040.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '040.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,711 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\040.4882
2021-03-06 16:18:56,712 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '042.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '042.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,717 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\042.4882
2021-03-06 16:18:56,718 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '043.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '043.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,722 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\043.4882
2021-03-06 16:18:56,723 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '200.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '200.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,728 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\200.4882
2021-03-06 16:18:56,728 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '201.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '201.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,733 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\201.4882
2021-03-06 16:18:56,733 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '202.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '202.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,737 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\202.4882
2021-03-06 16:18:56,738 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '203.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '203.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,743 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\203.4882
2021-03-06 16:18:56,744 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '204.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '204.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,748 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\204.4882
2021-03-06 16:18:56,749 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '205.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '205.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,755 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\205.4882
2021-03-06 16:18:56,756 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '206.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '206.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,760 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\206.4882
2021-03-06 16:18:56,761 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '207.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '207.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,766 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\207.4882
2021-03-06 16:18:56,766 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '208.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '208.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,771 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\208.4882
2021-03-06 16:18:56,772 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '209.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '209.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,777 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\209.4882
2021-03-06 16:18:56,778 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '210.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '210.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,783 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\210.4882
2021-03-06 16:18:56,784 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '211.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '211.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,789 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\211.4882
2021-03-06 16:18:56,789 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '212.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '212.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,794 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\212.4882
2021-03-06 16:18:56,794 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '215.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '215.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,799 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\215.4882
2021-03-06 16:18:56,800 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '217.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '217.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,805 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\217.4882
2021-03-06 16:18:56,805 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '222.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '222.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,810 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\222.4882
2021-03-06 16:18:56,811 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '228.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '228.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,815 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\228.4882
2021-03-06 16:18:56,816 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '231.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '231.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,821 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\231.4882
2021-03-06 16:18:56,821 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '232.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '232.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,826 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\232.4882
2021-03-06 16:18:56,828 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '233.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '233.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,832 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\233.4882
2021-03-06 16:18:56,833 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '400.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '400.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,839 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\400.4882
2021-03-06 16:18:56,839 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '401.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '401.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,844 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\401.4882
2021-03-06 16:18:56,844 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '403.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '403.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,849 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\403.4882
2021-03-06 16:18:56,849 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '404.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '404.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,853 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\404.4882
2021-03-06 16:18:56,855 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '410.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '410.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,859 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\410.4882
2021-03-06 16:18:56,860 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 270 and file_name = '432.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 270, '432.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-11 20:26:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-11 20:26:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-11 20:26:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,865 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\4882-backup-tentler\432.4882
2021-03-06 16:18:56,865 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:56,867 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 269 
        and folder_name = 'nostre tabelle';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 269, 'nostre tabelle', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2021-01-29 15:45:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,871 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\nostre tabelle
2021-03-06 16:18:56,871 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '001.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '001.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2017-11-14 14:30:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2017-11-14 14:30:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-14 14:30:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,877 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\nostre tabelle\001.4882
2021-03-06 16:18:56,878 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '040.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '040.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 14:53:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 14:53:11', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 14:53:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,882 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\nostre tabelle\040.4882
2021-03-06 16:18:56,883 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '042.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '042.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 14:53:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 14:53:11', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 14:53:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,888 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\nostre tabelle\042.4882
2021-03-06 16:18:56,888 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '200.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '200.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 12:04:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 12:04:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 12:04:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,893 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\nostre tabelle\200.4882
2021-03-06 16:18:56,893 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '202.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '202.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 12:04:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 12:04:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 12:04:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,898 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\nostre tabelle\202.4882
2021-03-06 16:18:56,900 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '203.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '203.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 12:05:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 12:05:11', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 12:05:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,905 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\nostre tabelle\203.4882
2021-03-06 16:18:56,906 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '210.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '210.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 12:06:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 12:06:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 12:06:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,910 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\nostre tabelle\210.4882
2021-03-06 16:18:56,911 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '211.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '211.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 12:06:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 12:06:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 12:06:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,915 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\nostre tabelle\211.4882
2021-03-06 16:18:56,916 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '231.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '231.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 16:06:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 16:06:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 16:06:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,921 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\nostre tabelle\231.4882
2021-03-06 16:18:56,921 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '232.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '232.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 12:13:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 12:13:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 12:13:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,926 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\nostre tabelle\232.4882
2021-03-06 16:18:56,927 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '400.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '400.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 12:14:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 12:14:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 12:14:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,932 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\nostre tabelle\400.4882
2021-03-06 16:18:56,933 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 271 and file_name = '410.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 271, '410.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-04 12:14:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-04 12:14:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 12:14:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,938 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\nostre tabelle\410.4882
2021-03-06 16:18:56,938 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:56,939 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 269 and file_name = 'I dqm@tecalliance.net - Mandatory and Differentiation-Attributes.msg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 269, 'I dqm@tecalliance.net - Mandatory and Differentiation-Attributes.msg', '.msg', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-03 08:20:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-03 08:20:41', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 08:20:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,944 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\I dqm@tecalliance.net - Mandatory and Differentiation-Attributes.msg
2021-03-06 16:18:56,945 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 269 and file_name = 'TecDoc-Data-Format_Version_2.4_EN.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 269, 'TecDoc-Data-Format_Version_2.4_EN.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-05-29 09:40:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-05-29 09:40:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-29 09:40:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,950 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\docs\TecDoc-Data-Format_Version_2.4_EN.pdf
2021-03-06 16:18:56,951 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:56,952 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 267 
        and folder_name = 'out';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 267, 'out', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2021-01-29 15:45:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,956 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\out
2021-03-06 16:18:56,957 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = '200.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, '200.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-09 11:11:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-09 11:11:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:11:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,961 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\out\200.4882
2021-03-06 16:18:56,962 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = '202.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, '202.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-09 11:11:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-09 11:11:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:11:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,966 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\out\202.4882
2021-03-06 16:18:56,968 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = '203.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, '203.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-09 11:11:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-09 11:11:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:11:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,973 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\out\203.4882
2021-03-06 16:18:56,974 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = '210.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, '210.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-09 11:12:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-09 11:12:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:12:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,979 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\out\210.4882
2021-03-06 16:18:56,980 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = '211.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, '211.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-09 11:11:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-09 11:11:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:11:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,984 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\out\211.4882
2021-03-06 16:18:56,985 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = '232.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, '232.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-09 11:12:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-09 11:12:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:12:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,990 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\out\232.4882
2021-03-06 16:18:56,991 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = '400.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, '400.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-09 11:13:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-09 11:13:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:13:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:56,996 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\out\400.4882
2021-03-06 16:18:56,996 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = '410.4882';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, '410.4882', '.4882', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-09 11:13:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-09 11:13:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:13:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,000 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\out\410.4882
2021-03-06 16:18:57,002 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = 'codici_mancanti.html';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, 'codici_mancanti.html', '.html', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-09 11:13:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-09 11:13:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 11:13:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,006 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\out\codici_mancanti.html
2021-03-06 16:18:57,007 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 272 and file_name = 'log.log';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 272, 'log.log', '.log', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-10 10:40:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-10 10:40:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-10 10:40:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,012 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\out\log.log
2021-03-06 16:18:57,012 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:57,014 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 267 
        and folder_name = '_bck';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 267, '_bck', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-29 15:45:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,017 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck
2021-03-06 16:18:57,019 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 273 
        and folder_name = 'app_code';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 273, 'app_code', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-29 15:45:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,023 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\app_code
2021-03-06 16:18:57,024 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 274 and file_name = 'dt_criteria.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 274, 'dt_criteria.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-09-28 17:36:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-09-28 17:36:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-09-28 17:36:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,028 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\app_code\dt_criteria.cs
2021-03-06 16:18:57,035 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 548;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (548, '.cs', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-09-28 17:36:58', 120));
2021-03-06 16:18:57,038 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\app_code\dt_criteria.cs
2021-03-06 16:18:57,039 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 274 and file_name = 'dt_export.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 274, 'dt_export.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-07-05 15:33:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2018-07-05 15:33:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-07-05 15:33:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,043 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\app_code\dt_export.cs
2021-03-06 16:18:57,053 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 549;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (549, '.cs', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-07-05 15:33:22', 120));
2021-03-06 16:18:57,056 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\app_code\dt_export.cs
2021-03-06 16:18:57,056 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:57,057 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 273 
        and folder_name = 'pages_js';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 273, 'pages_js', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-29 15:45:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,061 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\pages_js
2021-03-06 16:18:57,063 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 275 and file_name = 'dt_criteria.css';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 275, 'dt_criteria.css', '.css', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-09-29 17:52:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-09-29 17:52:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-09-29 17:52:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,068 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\pages_js\dt_criteria.css
2021-03-06 16:18:57,068 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 275 and file_name = 'dt_criteria.js';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 275, 'dt_criteria.js', '.js', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-02 14:05:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-02 14:05:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-02 14:05:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,073 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\pages_js\dt_criteria.js
2021-03-06 16:18:57,073 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 275 and file_name = 'dt_export.js';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 275, 'dt_export.js', '.js', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-07-05 14:47:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2018-07-05 14:47:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-07-05 14:47:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,078 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\pages_js\dt_export.js
2021-03-06 16:18:57,078 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 275 and file_name = 'dt_import.js';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 275, 'dt_import.js', '.js', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-23 10:34:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-23 10:34:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-23 10:34:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,083 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\pages_js\dt_import.js
2021-03-06 16:18:57,084 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:57,086 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 273 
        and folder_name = 'pages_xml';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 273, 'pages_xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-29 15:45:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,090 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\pages_xml
2021-03-06 16:18:57,091 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 276 and file_name = 'pageDTCountries.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 276, 'pageDTCountries.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-20 16:23:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-20 16:23:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-20 16:23:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,096 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\pages_xml\pageDTCountries.xml
2021-03-06 16:18:57,097 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 276 and file_name = 'pageDTCountry.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 276, 'pageDTCountry.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-09-25 16:37:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-09-25 16:37:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-09-25 16:37:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,101 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\pages_xml\pageDTCountry.xml
2021-03-06 16:18:57,102 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 276 and file_name = 'pageDTCriteria.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 276, 'pageDTCriteria.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-02 08:49:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-02 08:49:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-02 08:49:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,107 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\pages_xml\pageDTCriteria.xml
2021-03-06 16:18:57,109 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 276 and file_name = 'pageDTExport.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 276, 'pageDTExport.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-07-05 14:23:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2018-07-05 14:23:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-07-05 14:23:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,113 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\pages_xml\pageDTExport.xml
2021-03-06 16:18:57,114 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 276 and file_name = 'pageDTImport.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 276, 'pageDTImport.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-06 17:17:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-06 17:17:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-06 17:17:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,118 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\pages_xml\pageDTImport.xml
2021-03-06 16:18:57,118 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:57,120 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 273 
        and folder_name = 'procs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 273, 'procs', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-29 15:45:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,124 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs
2021-03-06 16:18:57,125 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 277 
        and folder_name = 'td';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 277, 'td', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-29 15:45:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,130 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td
2021-03-06 16:18:57,131 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'copy-an.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'copy-an.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-01-24 15:36:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2018-01-24 15:36:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-01-24 15:36:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,135 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\copy-an.xml
2021-03-06 16:18:57,137 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_10.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_10.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-23 14:06:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-23 14:06:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-23 14:06:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,141 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_10.xml
2021-03-06 16:18:57,142 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_100.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_100.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-23 11:57:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-23 11:57:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-23 11:57:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,147 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_100.xml
2021-03-06 16:18:57,147 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_110.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_110.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-06 16:00:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-06 16:00:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-06 16:00:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,152 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_110.xml
2021-03-06 16:18:57,153 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_12.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_12.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-23 11:56:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-23 11:56:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-23 11:56:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,159 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_12.xml
2021-03-06 16:18:57,160 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_120.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_120.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-06 14:31:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-06 14:31:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-06 14:31:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,164 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_120.xml
2021-03-06 16:18:57,165 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_125.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_125.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-06 16:58:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-06 16:58:15', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-06 16:58:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,169 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_125.xml
2021-03-06 16:18:57,170 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_14.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_14.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-02 10:30:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-02 10:30:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-02 10:30:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,174 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_14.xml
2021-03-06 16:18:57,175 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_20.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_20.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-23 16:20:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-23 16:20:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-23 16:20:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,180 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_20.xml
2021-03-06 16:18:57,181 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_200.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_200.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-17 08:49:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-17 08:49:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-17 08:49:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,185 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_200.xml
2021-03-06 16:18:57,187 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_202.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_202.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-17 08:49:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-17 08:49:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-17 08:49:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,191 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_202.xml
2021-03-06 16:18:57,191 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_203.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_203.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-17 08:49:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-17 08:49:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-17 08:49:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,196 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_203.xml
2021-03-06 16:18:57,196 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_207.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_207.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-27 09:54:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-27 09:54:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-27 09:54:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,201 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_207.xml
2021-03-06 16:18:57,201 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_210.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_210.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-02-07 15:07:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2018-02-07 15:07:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-02-07 15:07:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,205 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_210.xml
2021-03-06 16:18:57,206 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_211.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_211.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-02-07 14:39:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2018-02-07 14:39:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-02-07 14:39:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,210 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_211.xml
2021-03-06 16:18:57,212 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_231.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_231.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-21 17:50:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-21 17:50:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-21 17:50:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,217 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_231.xml
2021-03-06 16:18:57,218 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_232.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_232.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-11-24 09:38:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-11-24 09:38:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-11-24 09:38:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,222 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_232.xml
2021-03-06 16:18:57,223 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_320.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_320.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-31 14:00:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-31 14:00:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-31 14:00:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,227 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_320.xml
2021-03-06 16:18:57,228 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_323.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_323.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-31 12:25:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-31 12:25:57', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-31 12:25:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,232 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_323.xml
2021-03-06 16:18:57,233 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_324.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_324.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-31 12:25:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-31 12:25:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-31 12:25:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,237 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_324.xml
2021-03-06 16:18:57,238 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_325.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_325.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-31 12:25:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-31 12:25:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-31 12:25:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,243 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_325.xml
2021-03-06 16:18:57,244 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_400.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_400.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-03-06 09:28:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2018-03-06 09:28:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-03-06 09:28:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,248 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_400.xml
2021-03-06 16:18:57,248 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_410.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_410.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2018-03-05 12:36:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2018-03-05 12:36:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-03-05 12:36:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,253 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_410.xml
2021-03-06 16:18:57,254 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_50.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_50.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-27 10:37:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-27 10:37:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-27 10:37:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,259 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_50.xml
2021-03-06 16:18:57,260 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_51.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_51.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-27 11:59:44', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-27 11:59:44', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-27 11:59:44', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,264 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_51.xml
2021-03-06 16:18:57,265 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_52.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_52.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2017-10-27 12:02:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2017-10-27 12:02:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-27 12:02:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,269 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_52.xml
2021-03-06 16:18:57,270 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 278 and file_name = 'td_base.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 278, 'td_base.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2019-09-03 10:00:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2019-09-03 10:00:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-09-03 10:00:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,274 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\procs\td\td_base.xml
2021-03-06 16:18:57,275 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:57,276 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:57,277 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 273 and file_name = 'Log before.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 273, 'Log before.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-05 09:30:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-05 09:30:41', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 09:30:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,282 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\Log before.txt
2021-03-06 16:18:57,313 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 586;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (586, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-05 09:30:41', 120));
2021-03-06 16:18:57,345 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\Log before.txt
2021-03-06 16:18:57,346 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 273 and file_name = 'Log Last.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 273, 'Log Last.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-05 09:30:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-05 09:30:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 09:30:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,350 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\Log Last.txt
2021-03-06 16:18:57,395 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 587;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (587, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-05 09:30:31', 120));
2021-03-06 16:18:57,447 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\Log Last.txt
2021-03-06 16:18:57,448 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 273 and file_name = 'td_base.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 273, 'td_base.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 15:15:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 15:15:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 15:15:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,452 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\td_base.sql
2021-03-06 16:18:57,457 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 588;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (588, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 15:15:52', 120));
2021-03-06 16:18:57,459 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_bck\td_base.sql
2021-03-06 16:18:57,460 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:57,461 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 267 and file_name = 'mca.bat';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 267, 'mca.bat', '.bat', 1, convert(datetime, '2021-03-06 16:17:46', 120), convert(datetime, '2020-06-10 10:39:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:46', 120), dt_lwt = convert(datetime, '2020-06-10 10:39:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:46', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-10 10:39:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,465 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\mca.bat
2021-03-06 16:18:57,466 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 267 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 267, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-29 17:40:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-29 17:40:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-29 17:40:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,469 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\sql.sql
2021-03-06 16:18:57,474 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 590;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (590, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-29 17:40:56', 120));
2021-03-06 16:18:57,477 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\sql.sql
2021-03-06 16:18:57,478 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 267 and file_name = '_log.lnk';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 267, '_log.lnk', '.lnk', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 09:42:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 09:42:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 09:42:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,483 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\estrazione tecdoc.task\_log.lnk
2021-03-06 16:18:57,483 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 157) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:57,485 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 262 
        and folder_name = 'revisione errori.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 262, 'revisione errori.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:01', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,489 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\revisione errori.task
2021-03-06 16:18:57,494 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 279 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 279, null, left('revisione errori', 150)
            , 'molina', convert(datetime, '2020-11-13 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_giorni', convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-13 00:00:00', 120), dt_upd = NULL
         , title = left('revisione errori', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:01', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-13 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione errori', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,501 [11] DEBUG dn_lib.tools.log - aggiunto task al database: revisione errori
2021-03-06 16:18:57,501 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 279 and file_name = 'td_report.rar';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 279, 'td_report.rar', '.rar', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-13 14:40:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-11-13 14:40:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-13 14:40:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,506 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\revisione errori.task\td_report.rar
2021-03-06 16:18:57,506 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 158) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:57,513 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 262 
        and folder_name = 'xx_td_prods_check.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 262, 'xx_td_prods_check.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:01', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,517 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\xx_td_prods_check.task
2021-03-06 16:18:57,520 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 280 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 280, null, left('xx_td_prods_check', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('xx_td_prods_check', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:01', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('xx_td_prods_check', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,525 [11] DEBUG dn_lib.tools.log - aggiunto task al database: xx_td_prods_check
2021-03-06 16:18:57,526 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 280 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 280, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-04 14:33:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-04 14:33:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 14:33:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,530 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\xx_td_prods_check.task\content.sql
2021-03-06 16:18:57,534 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 593;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (593, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-04 14:33:49', 120));
2021-03-06 16:18:57,537 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\estrazione dati tecdoc\xx_td_prods_check.task\content.sql
2021-03-06 16:18:57,538 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 159) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:57,547 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'funzionalit';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'funzionalit', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,551 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit
2021-03-06 16:18:57,552 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'codici senza scheda web.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'codici senza scheda web.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,556 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\codici senza scheda web.task
2021-03-06 16:18:57,559 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 282 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 282, null, left('codici senza scheda web', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('codici senza scheda web', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('codici senza scheda web', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,564 [11] DEBUG dn_lib.tools.log - aggiunto task al database: codici senza scheda web
2021-03-06 16:18:57,565 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 282 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 282, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-11 17:40:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-11 17:40:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-11 17:40:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,569 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\codici senza scheda web.task\content.sql
2021-03-06 16:18:57,573 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 594;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (594, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-11 17:40:54', 120));
2021-03-06 16:18:57,576 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\codici senza scheda web.task\content.sql
2021-03-06 16:18:57,578 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 160) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:57,585 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'controllo rinomina codice DIP.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'controllo rinomina codice DIP.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,589 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\controllo rinomina codice DIP.task
2021-03-06 16:18:57,594 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 283 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 283, null, left('controllo rinomina codice DIP', 150)
            , 'molina', convert(datetime, '2020-06-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-29 00:00:00', 120), dt_upd = NULL
         , title = left('controllo rinomina codice DIP', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('controllo rinomina codice DIP', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,600 [11] DEBUG dn_lib.tools.log - aggiunto task al database: controllo rinomina codice DIP
2021-03-06 16:18:57,601 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 161) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:57,610 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'criteri prodotti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'criteri prodotti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,613 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\criteri prodotti.task
2021-03-06 16:18:57,615 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 284 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 284, null, left('criteri prodotti', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('criteri prodotti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('criteri prodotti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,620 [11] DEBUG dn_lib.tools.log - aggiunto task al database: criteri prodotti
2021-03-06 16:18:57,621 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 284 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 284, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-05 10:14:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-05 10:14:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 10:14:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,625 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\criteri prodotti.task\content.sql
2021-03-06 16:18:57,630 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 595;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (595, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-05 10:14:48', 120));
2021-03-06 16:18:57,633 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\criteri prodotti.task\content.sql
2021-03-06 16:18:57,634 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 162) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:57,642 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'elimina codice dipa.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'elimina codice dipa.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,647 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\elimina codice dipa.task
2021-03-06 16:18:57,648 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 285 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 285, null, left('elimina codice dipa', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('elimina codice dipa', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('elimina codice dipa', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,654 [11] DEBUG dn_lib.tools.log - aggiunto task al database: elimina codice dipa
2021-03-06 16:18:57,656 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 285 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 285, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-25 18:28:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-25 18:28:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-25 18:28:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,660 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\elimina codice dipa.task\content.sql
2021-03-06 16:18:57,664 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 596;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (596, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-25 18:28:14', 120));
2021-03-06 16:18:57,667 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\elimina codice dipa.task\content.sql
2021-03-06 16:18:57,668 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 163) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:57,676 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'gestione categorie prodotti dal crm.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'gestione categorie prodotti dal crm.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,680 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\gestione categorie prodotti dal crm.task
2021-03-06 16:18:57,685 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 286 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 286, null, left('gestione categorie prodotti dal crm', 150)
            , 'molina', convert(datetime, '2020-06-29 00:00:00', 120), NULL, 1
            , 'da_fare', 'alta', 'aggiunta', 'due_giorni', convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-29 00:00:00', 120), dt_upd = NULL
         , title = left('gestione categorie prodotti dal crm', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = 'alta'
         , tipo = 'aggiunta', stima = 'due_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione categorie prodotti dal crm', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,691 [11] DEBUG dn_lib.tools.log - aggiunto task al database: gestione categorie prodotti dal crm
2021-03-06 16:18:57,691 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 164) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:57,699 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'gestione cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'gestione cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,704 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\gestione cauzioni.task
2021-03-06 16:18:57,712 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 287 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 287, null, left('gestione cauzioni', 150)
            , 'molina', convert(datetime, '2020-06-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_giorni', convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-17 00:00:00', 120), dt_upd = NULL
         , title = left('gestione cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,719 [11] DEBUG dn_lib.tools.log - aggiunto task al database: gestione cauzioni
2021-03-06 16:18:57,720 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 287 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 287, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-22 17:36:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-22 17:36:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-22 17:36:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,725 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\gestione cauzioni.task\content.sql
2021-03-06 16:18:57,732 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 597;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (597, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-22 17:36:29', 120));
2021-03-06 16:18:57,735 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\gestione cauzioni.task\content.sql
2021-03-06 16:18:57,736 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 165) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:57,743 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'gestione compatibili.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'gestione compatibili.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,748 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\gestione compatibili.task
2021-03-06 16:18:57,752 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 288 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 288, null, left('gestione compatibili', 150)
            , 'molina', convert(datetime, '2020-06-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-17 00:00:00', 120), dt_upd = NULL
         , title = left('gestione compatibili', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione compatibili', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,760 [11] DEBUG dn_lib.tools.log - aggiunto task al database: gestione compatibili
2021-03-06 16:18:57,760 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 288 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 288, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 14:06:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-17 14:06:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-17 14:06:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,765 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\gestione compatibili.task\content.sql
2021-03-06 16:18:57,770 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 598;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (598, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 14:06:18', 120));
2021-03-06 16:18:57,772 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\gestione compatibili.task\content.sql
2021-03-06 16:18:57,773 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 166) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:57,780 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'rinomina dip sulle lavorazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'rinomina dip sulle lavorazioni.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,784 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\rinomina dip sulle lavorazioni.task
2021-03-06 16:18:57,789 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 289 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 289, null, left('rinomina dip sulle lavorazioni', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('rinomina dip sulle lavorazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rinomina dip sulle lavorazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,796 [11] DEBUG dn_lib.tools.log - aggiunto task al database: rinomina dip sulle lavorazioni
2021-03-06 16:18:57,796 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 289 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 289, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-02 11:11:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-02 11:11:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 11:11:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,801 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\rinomina dip sulle lavorazioni.task\content.sql
2021-03-06 16:18:57,808 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 599;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (599, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-02 11:11:45', 120));
2021-03-06 16:18:57,811 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\rinomina dip sulle lavorazioni.task\content.sql
2021-03-06 16:18:57,812 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 167) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:57,819 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'rinomina dip.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'rinomina dip.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,823 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\rinomina dip.task
2021-03-06 16:18:57,825 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 290 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 290, null, left('rinomina dip', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('rinomina dip', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rinomina dip', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,830 [11] DEBUG dn_lib.tools.log - aggiunto task al database: rinomina dip
2021-03-06 16:18:57,832 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 290 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 290, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-09 16:14:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-09 16:14:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-09 16:14:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,836 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\rinomina dip.task\content.sql
2021-03-06 16:18:57,841 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 600;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (600, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-09 16:14:29', 120));
2021-03-06 16:18:57,844 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\rinomina dip.task\content.sql
2021-03-06 16:18:57,845 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 168) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:57,853 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'scheda marca.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'scheda marca.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:01', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,858 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\scheda marca.task
2021-03-06 16:18:57,863 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 291 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 291, null, left('scheda marca', 150)
            , 'molina', convert(datetime, '2020-05-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-05-26 00:00:00', 120), dt_upd = NULL
         , title = left('scheda marca', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:01', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-05-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('scheda marca', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,869 [11] DEBUG dn_lib.tools.log - aggiunto task al database: scheda marca
2021-03-06 16:18:57,870 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 291 and file_name = 'scheda - marca.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 291, 'scheda - marca.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-28 15:00:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-28 15:00:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-28 15:00:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,875 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\scheda marca.task\scheda - marca.sql
2021-03-06 16:18:57,879 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 601;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (601, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-28 15:00:23', 120));
2021-03-06 16:18:57,882 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\scheda marca.task\scheda - marca.sql
2021-03-06 16:18:57,883 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 291 and file_name = 'Sufx.xls';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 291, 'Sufx.xls', '.xls', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-26 11:31:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-26 11:31:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-26 11:31:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,887 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\scheda marca.task\Sufx.xls
2021-03-06 16:18:57,889 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 169) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:57,898 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'schede - elimina.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'schede - elimina.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:01', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,902 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\schede - elimina.task
2021-03-06 16:18:57,907 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 292 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 292, null, left('schede - elimina', 150)
            , 'molina', convert(datetime, '2020-05-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-05-08 00:00:00', 120), dt_upd = NULL
         , title = left('schede - elimina', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:01', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-05-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('schede - elimina', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,913 [11] DEBUG dn_lib.tools.log - aggiunto task al database: schede - elimina
2021-03-06 16:18:57,914 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 292 and file_name = 'da cancellare - 2.xls';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 292, 'da cancellare - 2.xls', '.xls', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-08 15:15:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-08 15:15:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-08 15:15:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,918 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\schede - elimina.task\da cancellare - 2.xls
2021-03-06 16:18:57,919 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 292 and file_name = 'da cancellare.xlsx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 292, 'da cancellare.xlsx', '.xlsx', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-08 14:26:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-08 14:26:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-08 14:26:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,923 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\schede - elimina.task\da cancellare.xlsx
2021-03-06 16:18:57,924 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 292 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 292, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-12 16:00:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-12 16:00:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-12 16:00:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,929 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\schede - elimina.task\sql.sql
2021-03-06 16:18:57,933 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 605;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (605, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-12 16:00:46', 120));
2021-03-06 16:18:57,936 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\schede - elimina.task\sql.sql
2021-03-06 16:18:57,937 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 170) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:57,945 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'sistemata alla gestione accoppiamenti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'sistemata alla gestione accoppiamenti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:01', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,949 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\sistemata alla gestione accoppiamenti.task
2021-03-06 16:18:57,953 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 293 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 293, null, left('sistemata alla gestione accoppiamenti', 150)
            , 'molina', convert(datetime, '2020-06-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:45:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-25 00:00:00', 120), dt_upd = NULL
         , title = left('sistemata alla gestione accoppiamenti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:01', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('sistemata alla gestione accoppiamenti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,958 [11] DEBUG dn_lib.tools.log - aggiunto task al database: sistemata alla gestione accoppiamenti
2021-03-06 16:18:57,960 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 293 and file_name = 'bck.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 293, 'bck.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 14:12:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-29 14:12:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 14:12:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,965 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\sistemata alla gestione accoppiamenti.task\bck.txt
2021-03-06 16:18:57,970 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 606;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (606, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 14:12:51', 120));
2021-03-06 16:18:57,972 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\sistemata alla gestione accoppiamenti.task\bck.txt
2021-03-06 16:18:57,974 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 293 and file_name = 'estrazione types.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 293, 'estrazione types.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 09:10:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 09:10:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 09:10:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,978 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\sistemata alla gestione accoppiamenti.task\estrazione types.sql
2021-03-06 16:18:57,985 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 607;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (607, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 09:10:03', 120));
2021-03-06 16:18:57,988 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\sistemata alla gestione accoppiamenti.task\estrazione types.sql
2021-03-06 16:18:57,989 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 293 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 293, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 10:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-29 10:45:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 10:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:57,993 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\sistemata alla gestione accoppiamenti.task\sql.sql
2021-03-06 16:18:57,994 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 171) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:58,001 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'tolto il controllo sugli ordini per il duplica schede.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'tolto il controllo sugli ordini per il duplica schede.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,005 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\tolto il controllo sugli ordini per il duplica schede.task
2021-03-06 16:18:58,007 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 294 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 294, null, left('tolto il controllo sugli ordini per il duplica schede', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('tolto il controllo sugli ordini per il duplica schede', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('tolto il controllo sugli ordini per il duplica schede', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,014 [11] DEBUG dn_lib.tools.log - aggiunto task al database: tolto il controllo sugli ordini per il duplica schede
2021-03-06 16:18:58,016 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 294 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 294, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-15 15:40:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-15 15:40:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-15 15:40:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,020 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\tolto il controllo sugli ordini per il duplica schede.task\content.sql
2021-03-06 16:18:58,024 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 609;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (609, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-15 15:40:45', 120));
2021-03-06 16:18:58,027 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\tolto il controllo sugli ordini per il duplica schede.task\content.sql
2021-03-06 16:18:58,028 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 172) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:58,035 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 281 
        and folder_name = 'upload marche.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 281, 'upload marche.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:02', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,039 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\upload marche.task
2021-03-06 16:18:58,041 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 295 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 295, null, left('upload marche', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('upload marche', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:02', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('upload marche', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,046 [11] DEBUG dn_lib.tools.log - aggiunto task al database: upload marche
2021-03-06 16:18:58,049 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 295 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 295, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-29 08:47:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-29 08:47:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-29 08:47:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,053 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\upload marche.task\content.sql
2021-03-06 16:18:58,059 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 610;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (610, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-29 08:47:26', 120));
2021-03-06 16:18:58,061 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\funzionalit\upload marche.task\content.sql
2021-03-06 16:18:58,062 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 173) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:58,070 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'gestione campi seo.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'gestione campi seo.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:57', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,074 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\gestione campi seo.task
2021-03-06 16:18:58,079 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 296 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 296, null, left('gestione campi seo', 150)
            , 'molina', convert(datetime, '2020-10-06 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-06 00:00:00', 120), dt_upd = NULL
         , title = left('gestione campi seo', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:57', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-06 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione campi seo', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,084 [11] DEBUG dn_lib.tools.log - aggiunto task al database: gestione campi seo
2021-03-06 16:18:58,085 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 296 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 296, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-07 11:59:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-07 11:59:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-07 11:59:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,089 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\gestione campi seo.task\i.txt
2021-03-06 16:18:58,096 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 611;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (611, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-07 11:59:07', 120));
2021-03-06 16:18:58,099 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\gestione campi seo.task\i.txt
2021-03-06 16:18:58,100 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 174;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (174, 611, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-07 11:59:07', 120));
2021-03-06 16:18:58,103 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\scheda tecdoc\gestione campi seo.task\i.txt
2021-03-06 16:18:58,103 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 296 and file_name = 'task.aggiornamento pname.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 296, 'task.aggiornamento pname.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-07 10:25:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-07 10:25:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-07 10:25:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,108 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\gestione campi seo.task\task.aggiornamento pname.sql
2021-03-06 16:18:58,112 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 612;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (612, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-07 10:25:54', 120));
2021-03-06 16:18:58,115 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\gestione campi seo.task\task.aggiornamento pname.sql
2021-03-06 16:18:58,117 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 296 and file_name = 'task.campi nuovi scheda crm.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 296, 'task.campi nuovi scheda crm.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-07 08:38:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-07 08:38:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-07 08:38:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,121 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\gestione campi seo.task\task.campi nuovi scheda crm.sql
2021-03-06 16:18:58,126 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 613;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (613, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-07 08:38:46', 120));
2021-03-06 16:18:58,129 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\gestione campi seo.task\task.campi nuovi scheda crm.sql
2021-03-06 16:18:58,130 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 174) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:58,139 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'gestione cross';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'gestione cross', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,144 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\gestione cross
2021-03-06 16:18:58,145 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 297 
        and folder_name = 'deselezionato mi aspetto di vederlo in verde.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 297, 'deselezionato mi aspetto di vederlo in verde.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,149 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\gestione cross\deselezionato mi aspetto di vederlo in verde.task
2021-03-06 16:18:58,153 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 298 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 298, null, left('deselezionato mi aspetto di vederlo in verde', 150)
            , 'molina', convert(datetime, '2020-06-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-26 00:00:00', 120), dt_upd = NULL
         , title = left('deselezionato mi aspetto di vederlo in verde', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('deselezionato mi aspetto di vederlo in verde', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,159 [11] DEBUG dn_lib.tools.log - aggiunto task al database: deselezionato mi aspetto di vederlo in verde
2021-03-06 16:18:58,160 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 298 and file_name = 'i.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 298, 'i.png', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 17:07:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 17:07:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 17:07:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,165 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\gestione cross\deselezionato mi aspetto di vederlo in verde.task\i.png
2021-03-06 16:18:58,166 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 298 and file_name = 'i2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 298, 'i2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 17:07:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 17:07:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 17:07:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,170 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\gestione cross\deselezionato mi aspetto di vederlo in verde.task\i2.png
2021-03-06 16:18:58,171 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 298 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 298, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 09:34:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-29 09:34:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 09:34:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,176 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\gestione cross\deselezionato mi aspetto di vederlo in verde.task\sql.sql
2021-03-06 16:18:58,181 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 616;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (616, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 09:34:18', 120));
2021-03-06 16:18:58,184 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\gestione cross\deselezionato mi aspetto di vederlo in verde.task\sql.sql
2021-03-06 16:18:58,185 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 298 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 298, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 08:37:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-29 08:37:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 08:37:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,189 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\gestione cross\deselezionato mi aspetto di vederlo in verde.task\Thumbs.db
2021-03-06 16:18:58,190 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 175) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:58,197 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 297 
        and folder_name = 'revisione colori rosso - verde.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 297, 'revisione colori rosso - verde.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,202 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\gestione cross\revisione colori rosso - verde.task
2021-03-06 16:18:58,206 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 299 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 299, null, left('revisione colori rosso - verde', 150)
            , 'molina', convert(datetime, '2020-06-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'ora', convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-30 00:00:00', 120), dt_upd = NULL
         , title = left('revisione colori rosso - verde', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione colori rosso - verde', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,212 [11] DEBUG dn_lib.tools.log - aggiunto task al database: revisione colori rosso - verde
2021-03-06 16:18:58,213 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 176) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:58,221 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 297 
        and folder_name = 'schede incrociate in verde non appaiono.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 297, 'schede incrociate in verde non appaiono.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,225 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\gestione cross\schede incrociate in verde non appaiono.task
2021-03-06 16:18:58,231 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 300 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 300, null, left('schede incrociate in verde non appaiono', 150)
            , 'molina', convert(datetime, '2020-06-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-26 00:00:00', 120), dt_upd = NULL
         , title = left('schede incrociate in verde non appaiono', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('schede incrociate in verde non appaiono', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,237 [11] DEBUG dn_lib.tools.log - aggiunto task al database: schede incrociate in verde non appaiono
2021-03-06 16:18:58,238 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 300 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 300, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 11:46:27', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 11:46:27', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 11:46:27', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,243 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\gestione cross\schede incrociate in verde non appaiono.task\i.txt
2021-03-06 16:18:58,247 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 618;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (618, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 11:46:27', 120));
2021-03-06 16:18:58,249 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\gestione cross\schede incrociate in verde non appaiono.task\i.txt
2021-03-06 16:18:58,250 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 177;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (177, 618, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 11:46:27', 120));
2021-03-06 16:18:58,253 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\scheda tecdoc\gestione cross\schede incrociate in verde non appaiono.task\i.txt
2021-03-06 16:18:58,254 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 300 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 300, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 11:45:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 11:45:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 11:45:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,259 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\gestione cross\schede incrociate in verde non appaiono.task\sql.sql
2021-03-06 16:18:58,264 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 619;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (619, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 11:45:21', 120));
2021-03-06 16:18:58,266 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\gestione cross\schede incrociate in verde non appaiono.task\sql.sql
2021-03-06 16:18:58,268 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 177) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:58,275 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'marca dei codici a volte non si aggiorna.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'marca dei codici a volte non si aggiorna.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,280 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\marca dei codici a volte non si aggiorna.task
2021-03-06 16:18:58,282 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 301 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 301, null, left('marca dei codici a volte non si aggiorna', 150)
            , 'molina', convert(datetime, '2020-08-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-17 00:00:00', 120), dt_upd = NULL
         , title = left('marca dei codici a volte non si aggiorna', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('marca dei codici a volte non si aggiorna', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,287 [11] DEBUG dn_lib.tools.log - aggiunto task al database: marca dei codici a volte non si aggiorna
2021-03-06 16:18:58,288 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 301 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 301, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 09:32:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-18 09:32:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 09:32:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,292 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\marca dei codici a volte non si aggiorna.task\i.txt
2021-03-06 16:18:58,298 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 620;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (620, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 09:32:38', 120));
2021-03-06 16:18:58,301 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\marca dei codici a volte non si aggiorna.task\i.txt
2021-03-06 16:18:58,302 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 178;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (178, 620, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 09:32:38', 120));
2021-03-06 16:18:58,304 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\scheda tecdoc\marca dei codici a volte non si aggiorna.task\i.txt
2021-03-06 16:18:58,306 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 301 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 301, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 09:30:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-18 09:30:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 09:30:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,311 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\marca dei codici a volte non si aggiorna.task\sql.sql
2021-03-06 16:18:58,315 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 621;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (621, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 09:30:48', 120));
2021-03-06 16:18:58,318 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\marca dei codici a volte non si aggiorna.task\sql.sql
2021-03-06 16:18:58,320 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 178) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:58,327 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 254 
        and folder_name = 'ottimizzazione caricamento pagina.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 254, 'ottimizzazione caricamento pagina.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:57', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,332 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\scheda tecdoc\ottimizzazione caricamento pagina.task
2021-03-06 16:18:58,336 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 302 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 302, null, left('ottimizzazione caricamento pagina', 150)
            , 'molina', convert(datetime, '2020-11-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-25 00:00:00', 120), dt_upd = NULL
         , title = left('ottimizzazione caricamento pagina', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:57', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ottimizzazione caricamento pagina', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,341 [11] DEBUG dn_lib.tools.log - aggiunto task al database: ottimizzazione caricamento pagina
2021-03-06 16:18:58,343 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 302 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 302, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-25 11:20:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-11-25 11:20:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-25 11:20:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,347 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\scheda tecdoc\ottimizzazione caricamento pagina.task\i.txt
2021-03-06 16:18:58,354 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 622;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (622, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-25 11:20:58', 120));
2021-03-06 16:18:58,357 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\scheda tecdoc\ottimizzazione caricamento pagina.task\i.txt
2021-03-06 16:18:58,358 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 179;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (179, 622, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-25 11:20:58', 120));
2021-03-06 16:18:58,360 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\scheda tecdoc\ottimizzazione caricamento pagina.task\i.txt
2021-03-06 16:18:58,361 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 179) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:58,368 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'sincronizzazioni';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'sincronizzazioni', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:08', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,374 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni
2021-03-06 16:18:58,374 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'alyante';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'alyante', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,379 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\alyante
2021-03-06 16:18:58,380 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 304 
        and folder_name = 'alyante - descrizioni articoli.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 304, 'alyante - descrizioni articoli.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,385 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\alyante\alyante - descrizioni articoli.task
2021-03-06 16:18:58,386 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 305 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 305, null, left('alyante - descrizioni articoli', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('alyante - descrizioni articoli', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('alyante - descrizioni articoli', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,392 [11] DEBUG dn_lib.tools.log - aggiunto task al database: alyante - descrizioni articoli
2021-03-06 16:18:58,393 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 305 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 305, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-05 17:21:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-05 17:21:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 17:21:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,397 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\alyante\alyante - descrizioni articoli.task\content.sql
2021-03-06 16:18:58,403 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 623;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (623, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-05 17:21:13', 120));
2021-03-06 16:18:58,407 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\alyante\alyante - descrizioni articoli.task\content.sql
2021-03-06 16:18:58,407 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 180) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:58,415 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 304 
        and folder_name = 'nota riep.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 304, 'nota riep.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,419 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\alyante\nota riep.task
2021-03-06 16:18:58,421 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 306 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 306, null, left('nota riep', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('nota riep', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nota riep', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,427 [11] DEBUG dn_lib.tools.log - aggiunto task al database: nota riep
2021-03-06 16:18:58,428 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 306 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 306, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 14:00:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 14:00:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 14:00:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,432 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\alyante\nota riep.task\content.sql
2021-03-06 16:18:58,436 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 624;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (624, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 14:00:40', 120));
2021-03-06 16:18:58,440 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\alyante\nota riep.task\content.sql
2021-03-06 16:18:58,441 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 181) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:58,448 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'buffer nasconde le options.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'buffer nasconde le options.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,452 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\buffer nasconde le options.task
2021-03-06 16:18:58,457 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 307 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 307, null, left('buffer nasconde le options', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', 'alta', NULL, NULL, convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('buffer nasconde le options', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('buffer nasconde le options', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,462 [11] DEBUG dn_lib.tools.log - aggiunto task al database: buffer nasconde le options
2021-03-06 16:18:58,463 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 307 and file_name = 'connector-2020-07-10.log';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 307, 'connector-2020-07-10.log', '.log', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-10 11:27:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-10 11:27:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-10 11:27:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,468 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\buffer nasconde le options.task\connector-2020-07-10.log
2021-03-06 16:18:58,469 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 307 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 307, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-10 09:00:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-10 09:00:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-10 09:00:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,473 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\buffer nasconde le options.task\i.txt
2021-03-06 16:18:58,480 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 626;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (626, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-10 09:00:16', 120));
2021-03-06 16:18:58,483 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\buffer nasconde le options.task\i.txt
2021-03-06 16:18:58,484 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 182;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (182, 626, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-10 09:00:16', 120));
2021-03-06 16:18:58,486 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\buffer nasconde le options.task\i.txt
2021-03-06 16:18:58,487 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 307 and file_name = 'magento-buffer-options.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 307, 'magento-buffer-options.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-10 14:10:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-10 14:10:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-10 14:10:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,491 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\buffer nasconde le options.task\magento-buffer-options.txt
2021-03-06 16:18:58,497 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 627;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (627, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-10 14:10:24', 120));
2021-03-06 16:18:58,500 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\buffer nasconde le options.task\magento-buffer-options.txt
2021-03-06 16:18:58,501 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 182) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:58,508 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'carica codici nascosti lenta.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'carica codici nascosti lenta.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,513 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\carica codici nascosti lenta.task
2021-03-06 16:18:58,519 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 308 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 308, null, left('carica codici nascosti lenta', 150)
            , 'molina', convert(datetime, '2020-09-01 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-01 00:00:00', 120), dt_upd = NULL
         , title = left('carica codici nascosti lenta', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-01 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('carica codici nascosti lenta', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,527 [11] DEBUG dn_lib.tools.log - aggiunto task al database: carica codici nascosti lenta
2021-03-06 16:18:58,528 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 308 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 308, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-01 10:12:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-09-01 10:12:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-01 10:12:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,533 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\carica codici nascosti lenta.task\i.txt
2021-03-06 16:18:58,540 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 628;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (628, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-01 10:12:50', 120));
2021-03-06 16:18:58,543 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\carica codici nascosti lenta.task\i.txt
2021-03-06 16:18:58,544 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 183;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (183, 628, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-01 10:12:50', 120));
2021-03-06 16:18:58,546 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\carica codici nascosti lenta.task\i.txt
2021-03-06 16:18:58,547 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 183) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:58,555 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'collegamento q';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'collegamento q', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,559 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\collegamento q
2021-03-06 16:18:58,560 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 309 
        and folder_name = 'aggiornamento tracciato invio dati gestionale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 309, 'aggiornamento tracciato invio dati gestionale.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,565 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\collegamento q\aggiornamento tracciato invio dati gestionale.task
2021-03-06 16:18:58,569 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 310 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 310, null, left('aggiornamento tracciato invio dati gestionale', 150)
            , 'molina', convert(datetime, '2020-06-22 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-22 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornamento tracciato invio dati gestionale', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-22 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornamento tracciato invio dati gestionale', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,574 [11] DEBUG dn_lib.tools.log - aggiunto task al database: aggiornamento tracciato invio dati gestionale
2021-03-06 16:18:58,576 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 310 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 310, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-22 09:54:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-22 09:54:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-22 09:54:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,581 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\collegamento q\aggiornamento tracciato invio dati gestionale.task\i.txt
2021-03-06 16:18:58,586 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 629;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (629, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-22 09:54:12', 120));
2021-03-06 16:18:58,588 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\collegamento q\aggiornamento tracciato invio dati gestionale.task\i.txt
2021-03-06 16:18:58,589 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 184;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (184, 629, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-22 09:54:12', 120));
2021-03-06 16:18:58,592 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\collegamento q\aggiornamento tracciato invio dati gestionale.task\i.txt
2021-03-06 16:18:58,593 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 184) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:58,601 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 309 
        and folder_name = 'invia dati a gestionale - via id_hash.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 309, 'invia dati a gestionale - via id_hash.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,605 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\collegamento q\invia dati a gestionale - via id_hash.task
2021-03-06 16:18:58,607 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 311 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 311, null, left('invia dati a gestionale - via id_hash', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('invia dati a gestionale - via id_hash', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('invia dati a gestionale - via id_hash', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,612 [11] DEBUG dn_lib.tools.log - aggiunto task al database: invia dati a gestionale - via id_hash
2021-03-06 16:18:58,613 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 311 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 311, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-23 09:17:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-23 09:17:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-23 09:17:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,617 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\collegamento q\invia dati a gestionale - via id_hash.task\content.sql
2021-03-06 16:18:58,622 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 630;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (630, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-23 09:17:09', 120));
2021-03-06 16:18:58,625 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\collegamento q\invia dati a gestionale - via id_hash.task\content.sql
2021-03-06 16:18:58,625 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 185) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:58,634 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 309 
        and folder_name = 'marchio nel q.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 309, 'marchio nel q.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,638 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\collegamento q\marchio nel q.task
2021-03-06 16:18:58,643 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 312 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 312, null, left('marchio nel q', 150)
            , 'molina', convert(datetime, '2020-06-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-17 00:00:00', 120), dt_upd = NULL
         , title = left('marchio nel q', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('marchio nel q', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,648 [11] DEBUG dn_lib.tools.log - aggiunto task al database: marchio nel q
2021-03-06 16:18:58,649 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 312 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 312, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 17:12:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-17 17:12:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-17 17:12:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,654 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\collegamento q\marchio nel q.task\content.sql
2021-03-06 16:18:58,658 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 631;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (631, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 17:12:20', 120));
2021-03-06 16:18:58,661 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\collegamento q\marchio nel q.task\content.sql
2021-03-06 16:18:58,662 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 186) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:58,669 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'duplica schede';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'duplica schede', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,673 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede
2021-03-06 16:18:58,675 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'avviso duplica schede prodotti senza scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'avviso duplica schede prodotti senza scheda.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,680 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\avviso duplica schede prodotti senza scheda.task
2021-03-06 16:18:58,683 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 314 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 314, null, left('avviso duplica schede prodotti senza scheda', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('avviso duplica schede prodotti senza scheda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('avviso duplica schede prodotti senza scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,688 [11] DEBUG dn_lib.tools.log - aggiunto task al database: avviso duplica schede prodotti senza scheda
2021-03-06 16:18:58,689 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 314 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 314, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 10:37:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-17 10:37:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-17 10:37:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,694 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\avviso duplica schede prodotti senza scheda.task\i.txt
2021-03-06 16:18:58,698 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 632;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (632, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 10:37:25', 120));
2021-03-06 16:18:58,701 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\avviso duplica schede prodotti senza scheda.task\i.txt
2021-03-06 16:18:58,702 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 187;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (187, 632, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 10:37:25', 120));
2021-03-06 16:18:58,705 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\avviso duplica schede prodotti senza scheda.task\i.txt
2021-03-06 16:18:58,705 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 187) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:58,713 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'duplica aggiornamento prezzi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'duplica aggiornamento prezzi.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,718 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica aggiornamento prezzi.task
2021-03-06 16:18:58,720 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 315 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 315, null, left('duplica aggiornamento prezzi', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('duplica aggiornamento prezzi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('duplica aggiornamento prezzi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,725 [11] DEBUG dn_lib.tools.log - aggiunto task al database: duplica aggiornamento prezzi
2021-03-06 16:18:58,727 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 315 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 315, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-08 09:12:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-08 09:12:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-08 09:12:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,731 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica aggiornamento prezzi.task\content.sql
2021-03-06 16:18:58,736 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 633;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (633, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-08 09:12:55', 120));
2021-03-06 16:18:58,739 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica aggiornamento prezzi.task\content.sql
2021-03-06 16:18:58,740 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 188) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:58,747 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'duplica attributi sbagliati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'duplica attributi sbagliati.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,751 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica attributi sbagliati.task
2021-03-06 16:18:58,753 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 316 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 316, null, left('duplica attributi sbagliati', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('duplica attributi sbagliati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('duplica attributi sbagliati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,758 [11] DEBUG dn_lib.tools.log - aggiunto task al database: duplica attributi sbagliati
2021-03-06 16:18:58,759 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 316 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 316, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-27 15:19:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-27 15:19:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-27 15:19:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,764 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica attributi sbagliati.task\i.txt
2021-03-06 16:18:58,768 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 634;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (634, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-27 15:19:55', 120));
2021-03-06 16:18:58,771 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica attributi sbagliati.task\i.txt
2021-03-06 16:18:58,772 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 189;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (189, 634, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-27 15:19:55', 120));
2021-03-06 16:18:58,774 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica attributi sbagliati.task\i.txt
2021-03-06 16:18:58,775 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 189) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:58,783 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'duplica schede - controllo campi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'duplica schede - controllo campi.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,788 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica schede - controllo campi.task
2021-03-06 16:18:58,792 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 317 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 317, null, left('duplica schede - controllo campi', 150)
            , 'molina', convert(datetime, '2020-06-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-23 00:00:00', 120), dt_upd = NULL
         , title = left('duplica schede - controllo campi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('duplica schede - controllo campi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,798 [11] DEBUG dn_lib.tools.log - aggiunto task al database: duplica schede - controllo campi
2021-03-06 16:18:58,798 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 317 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 317, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-23 11:10:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-23 11:10:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-23 11:10:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,803 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica schede - controllo campi.task\content.sql
2021-03-06 16:18:58,807 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 635;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (635, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-23 11:10:13', 120));
2021-03-06 16:18:58,811 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica schede - controllo campi.task\content.sql
2021-03-06 16:18:58,812 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 190) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:58,819 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'duplica schede prezzi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'duplica schede prezzi.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,823 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica schede prezzi.task
2021-03-06 16:18:58,825 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 318 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 318, null, left('duplica schede prezzi', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('duplica schede prezzi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('duplica schede prezzi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,830 [11] DEBUG dn_lib.tools.log - aggiunto task al database: duplica schede prezzi
2021-03-06 16:18:58,832 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 318 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 318, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-11 16:55:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-11 16:55:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-11 16:55:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,837 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica schede prezzi.task\content.sql
2021-03-06 16:18:58,841 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 636;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (636, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-11 16:55:17', 120));
2021-03-06 16:18:58,844 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica schede prezzi.task\content.sql
2021-03-06 16:18:58,845 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 191) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:58,852 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'duplica si inchioda sul buf_attrs.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'duplica si inchioda sul buf_attrs.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,856 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica si inchioda sul buf_attrs.task
2021-03-06 16:18:58,858 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 319 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 319, null, left('duplica si inchioda sul buf_attrs', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('duplica si inchioda sul buf_attrs', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('duplica si inchioda sul buf_attrs', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,864 [11] DEBUG dn_lib.tools.log - aggiunto task al database: duplica si inchioda sul buf_attrs
2021-03-06 16:18:58,865 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 319 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 319, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-25 17:16:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-25 17:16:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-25 17:16:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,869 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica si inchioda sul buf_attrs.task\content.sql
2021-03-06 16:18:58,874 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 637;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (637, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-25 17:16:22', 120));
2021-03-06 16:18:58,877 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\duplica si inchioda sul buf_attrs.task\content.sql
2021-03-06 16:18:58,878 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 192) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:58,885 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'problema nel duplica schede.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'problema nel duplica schede.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,890 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\problema nel duplica schede.task
2021-03-06 16:18:58,892 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 320 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 320, null, left('problema nel duplica schede', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('problema nel duplica schede', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('problema nel duplica schede', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,897 [11] DEBUG dn_lib.tools.log - aggiunto task al database: problema nel duplica schede
2021-03-06 16:18:58,898 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 320 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 320, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 10:04:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-17 10:04:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-17 10:04:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,903 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\problema nel duplica schede.task\content.sql
2021-03-06 16:18:58,907 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 638;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (638, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 10:04:28', 120));
2021-03-06 16:18:58,911 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\problema nel duplica schede.task\content.sql
2021-03-06 16:18:58,911 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 193) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:58,918 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 313 
        and folder_name = 'rivisitazione generale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 313, 'rivisitazione generale.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:04', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,924 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\rivisitazione generale.task
2021-03-06 16:18:58,931 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 321 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 321, null, left('rivisitazione generale', 150)
            , 'molina', convert(datetime, '2021-01-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:45:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-25 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione generale', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:04', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione generale', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,936 [11] DEBUG dn_lib.tools.log - aggiunto task al database: rivisitazione generale
2021-03-06 16:18:58,937 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 321 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 321, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-25 11:34:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-25 11:34:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-25 11:34:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,942 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\rivisitazione generale.task\i.txt
2021-03-06 16:18:58,947 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 639;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (639, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-25 11:34:49', 120));
2021-03-06 16:18:58,951 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\rivisitazione generale.task\i.txt
2021-03-06 16:18:58,952 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 194;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (194, 639, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-25 11:34:49', 120));
2021-03-06 16:18:58,955 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\duplica schede\rivisitazione generale.task\i.txt
2021-03-06 16:18:58,956 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 194) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:58,964 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'inserisco nel sito i codici nascosti dei N, R, AN.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'inserisco nel sito i codici nascosti dei N, R, AN.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:03', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,969 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\inserisco nel sito i codici nascosti dei N, R, AN.task
2021-03-06 16:18:58,973 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 322 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 322, null, left('inserisco nel sito i codici nascosti dei N, R, AN', 150)
            , 'molina', convert(datetime, '2020-08-31 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', 'ora', convert(datetime, '2021-03-02 22:45:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-31 00:00:00', 120), dt_upd = NULL
         , title = left('inserisco nel sito i codici nascosti dei N, R, AN', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:03', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-31 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('inserisco nel sito i codici nascosti dei N, R, AN', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,980 [11] DEBUG dn_lib.tools.log - aggiunto task al database: inserisco nel sito i codici nascosti dei N, R, AN
2021-03-06 16:18:58,980 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 322 and file_name = 'cross codici sito.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 322, 'cross codici sito.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-31 12:29:24', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-31 12:29:24', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-31 12:29:24', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:58,985 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\inserisco nel sito i codici nascosti dei N, R, AN.task\cross codici sito.sql
2021-03-06 16:18:58,993 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 640;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (640, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-31 12:29:24', 120));
2021-03-06 16:18:58,995 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\inserisco nel sito i codici nascosti dei N, R, AN.task\cross codici sito.sql
2021-03-06 16:18:58,997 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 322 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 322, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-31 12:32:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-31 12:32:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-31 12:32:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,001 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\inserisco nel sito i codici nascosti dei N, R, AN.task\i.txt
2021-03-06 16:18:59,007 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 641;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (641, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-31 12:32:09', 120));
2021-03-06 16:18:59,010 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\inserisco nel sito i codici nascosti dei N, R, AN.task\i.txt
2021-03-06 16:18:59,011 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 195;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (195, 641, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-31 12:32:09', 120));
2021-03-06 16:18:59,013 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\inserisco nel sito i codici nascosti dei N, R, AN.task\i.txt
2021-03-06 16:18:59,014 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 195) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:59,021 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'ml fortuna listino.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'ml fortuna listino.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:08', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,026 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\ml fortuna listino.task
2021-03-06 16:18:59,027 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 323 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 323, null, left('ml fortuna listino', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ml fortuna listino', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:08', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ml fortuna listino', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,032 [11] DEBUG dn_lib.tools.log - aggiunto task al database: ml fortuna listino
2021-03-06 16:18:59,034 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 323 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 323, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-19 11:02:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-19 11:02:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-19 11:02:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,038 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\ml fortuna listino.task\content.sql
2021-03-06 16:18:59,043 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 642;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (642, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-19 11:02:03', 120));
2021-03-06 16:18:59,047 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\ml fortuna listino.task\content.sql
2021-03-06 16:18:59,047 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 196) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:59,054 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'ogni tanto il magazzino si pianta o importa male ordini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'ogni tanto il magazzino si pianta o importa male ordini.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,059 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\ogni tanto il magazzino si pianta o importa male ordini.task
2021-03-06 16:18:59,064 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 324 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 324, null, left('ogni tanto il magazzino si pianta o importa male ordini', 150)
            , 'molina', convert(datetime, '2020-08-26 00:00:00', 120), NULL, 1
            , 'fatto', 'alta', 'facile', 'due_ore', convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-26 00:00:00', 120), dt_upd = NULL
         , title = left('ogni tanto il magazzino si pianta o importa male ordini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'facile', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ogni tanto il magazzino si pianta o importa male ordini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,070 [11] DEBUG dn_lib.tools.log - aggiunto task al database: ogni tanto il magazzino si pianta o importa male ordini
2021-03-06 16:18:59,071 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 324 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 324, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-26 17:00:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-26 17:00:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-26 17:00:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,075 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\ogni tanto il magazzino si pianta o importa male ordini.task\i.txt
2021-03-06 16:18:59,083 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 643;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (643, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-26 17:00:03', 120));
2021-03-06 16:18:59,086 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\ogni tanto il magazzino si pianta o importa male ordini.task\i.txt
2021-03-06 16:18:59,086 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 197;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (197, 643, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-26 17:00:03', 120));
2021-03-06 16:18:59,089 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\ogni tanto il magazzino si pianta o importa male ordini.task\i.txt
2021-03-06 16:18:59,090 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 197) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:59,099 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'per qualche motivo son state sparate sul sito tutte le quantit.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'per qualche motivo son state sparate sul sito tutte le quantit.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,103 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\per qualche motivo son state sparate sul sito tutte le quantit.task
2021-03-06 16:18:59,105 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 325 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 325, null, left('per qualche motivo son state sparate sul sito tutte le quantit', 150)
            , 'molina', convert(datetime, '2020-07-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-29 00:00:00', 120), dt_upd = NULL
         , title = left('per qualche motivo son state sparate sul sito tutte le quantit', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('per qualche motivo son state sparate sul sito tutte le quantit', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,110 [11] DEBUG dn_lib.tools.log - aggiunto task al database: per qualche motivo son state sparate sul sito tutte le quantit
2021-03-06 16:18:59,111 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 325 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 325, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 11:03:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-29 11:03:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 11:03:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,116 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\per qualche motivo son state sparate sul sito tutte le quantit.task\i.txt
2021-03-06 16:18:59,122 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 644;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (644, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 11:03:51', 120));
2021-03-06 16:18:59,125 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\per qualche motivo son state sparate sul sito tutte le quantit.task\i.txt
2021-03-06 16:18:59,126 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 198;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (198, 644, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 11:03:51', 120));
2021-03-06 16:18:59,128 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\per qualche motivo son state sparate sul sito tutte le quantit.task\i.txt
2021-03-06 16:18:59,129 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 325 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 325, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 10:56:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-29 10:56:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 10:56:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,133 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\per qualche motivo son state sparate sul sito tutte le quantit.task\sql.sql
2021-03-06 16:18:59,138 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 645;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (645, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 10:56:56', 120));
2021-03-06 16:18:59,141 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\per qualche motivo son state sparate sul sito tutte le quantit.task\sql.sql
2021-03-06 16:18:59,142 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 198) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:59,150 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'prodotti';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'prodotti', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,155 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti
2021-03-06 16:18:59,156 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'abs189n.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'abs189n.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,160 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\abs189n.task
2021-03-06 16:18:59,161 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 327 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 327, null, left('abs189n', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('abs189n', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('abs189n', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,166 [11] DEBUG dn_lib.tools.log - aggiunto task al database: abs189n
2021-03-06 16:18:59,169 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 327 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 327, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-12 09:50:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-12 09:50:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-12 09:50:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,174 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\abs189n.task\content.sql
2021-03-06 16:18:59,179 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 646;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (646, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-12 09:50:26', 120));
2021-03-06 16:18:59,182 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\abs189n.task\content.sql
2021-03-06 16:18:59,183 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 199) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:59,190 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'ABS452.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'ABS452.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,195 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\ABS452.task
2021-03-06 16:18:59,197 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 328 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 328, null, left('ABS452', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ABS452', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ABS452', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,202 [11] DEBUG dn_lib.tools.log - aggiunto task al database: ABS452
2021-03-06 16:18:59,203 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 328 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 328, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-04 15:30:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-04 15:30:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 15:30:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,207 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\ABS452.task\content.sql
2021-03-06 16:18:59,209 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 200) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:59,216 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'aggiornamento meta xml prodotti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'aggiornamento meta xml prodotti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,221 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\aggiornamento meta xml prodotti.task
2021-03-06 16:18:59,225 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 329 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 329, null, left('aggiornamento meta xml prodotti', 150)
            , 'molina', convert(datetime, '2020-06-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'facile', 'ora', convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-29 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornamento meta xml prodotti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornamento meta xml prodotti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,231 [11] DEBUG dn_lib.tools.log - aggiunto task al database: aggiornamento meta xml prodotti
2021-03-06 16:18:59,232 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 329 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 329, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 11:22:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-29 11:22:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 11:22:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,237 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\aggiornamento meta xml prodotti.task\i.txt
2021-03-06 16:18:59,242 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 648;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (648, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 11:22:28', 120));
2021-03-06 16:18:59,245 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\aggiornamento meta xml prodotti.task\i.txt
2021-03-06 16:18:59,246 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 201;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (201, 648, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-29 11:22:28', 120));
2021-03-06 16:18:59,248 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\aggiornamento meta xml prodotti.task\i.txt
2021-03-06 16:18:59,249 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 201) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:59,257 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'ARC163ELSR.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'ARC163ELSR.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,261 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\ARC163ELSR.task
2021-03-06 16:18:59,263 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 330 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 330, null, left('ARC163ELSR', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ARC163ELSR', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ARC163ELSR', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,268 [11] DEBUG dn_lib.tools.log - aggiunto task al database: ARC163ELSR
2021-03-06 16:18:59,269 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 330 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 330, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 10:43:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 10:43:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 10:43:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,274 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\ARC163ELSR.task\content.sql
2021-03-06 16:18:59,278 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 649;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (649, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 10:43:10', 120));
2021-03-06 16:18:59,281 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\ARC163ELSR.task\content.sql
2021-03-06 16:18:59,282 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 202) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:59,289 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'ARC164DLPN.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'ARC164DLPN.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,293 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\ARC164DLPN.task
2021-03-06 16:18:59,295 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 331 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 331, null, left('ARC164DLPN', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ARC164DLPN', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ARC164DLPN', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,302 [11] DEBUG dn_lib.tools.log - aggiunto task al database: ARC164DLPN
2021-03-06 16:18:59,304 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 331 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 331, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-04 15:21:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-04 15:21:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-04 15:21:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,308 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\ARC164DLPN.task\content.sql
2021-03-06 16:18:59,313 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 650;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (650, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-04 15:21:28', 120));
2021-03-06 16:18:59,316 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\ARC164DLPN.task\content.sql
2021-03-06 16:18:59,317 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 203) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:59,325 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'body035r - lav vs.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'body035r - lav vs.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,329 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\body035r - lav vs.task
2021-03-06 16:18:59,331 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 332 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 332, null, left('body035r - lav vs', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('body035r - lav vs', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('body035r - lav vs', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,336 [11] DEBUG dn_lib.tools.log - aggiunto task al database: body035r - lav vs
2021-03-06 16:18:59,337 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 332 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 332, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-12 14:43:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-12 14:43:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-12 14:43:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,342 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\body035r - lav vs.task\content.sql
2021-03-06 16:18:59,347 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 651;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (651, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-12 14:43:01', 120));
2021-03-06 16:18:59,351 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\body035r - lav vs.task\content.sql
2021-03-06 16:18:59,352 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 204) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:59,360 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'categoria in importazione articoli CA nel gestionale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'categoria in importazione articoli CA nel gestionale.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,364 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\categoria in importazione articoli CA nel gestionale.task
2021-03-06 16:18:59,366 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 333 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 333, null, left('categoria in importazione articoli CA nel gestionale', 150)
            , 'molina', convert(datetime, '2020-06-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-26 00:00:00', 120), dt_upd = NULL
         , title = left('categoria in importazione articoli CA nel gestionale', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('categoria in importazione articoli CA nel gestionale', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,372 [11] DEBUG dn_lib.tools.log - aggiunto task al database: categoria in importazione articoli CA nel gestionale
2021-03-06 16:18:59,373 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 333 and file_name = 'AL_EXPORT_ARTICOLI_DELTA.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 333, 'AL_EXPORT_ARTICOLI_DELTA.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 16:25:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 16:25:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 16:25:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,377 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\categoria in importazione articoli CA nel gestionale.task\AL_EXPORT_ARTICOLI_DELTA.sql
2021-03-06 16:18:59,383 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 652;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (652, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 16:25:30', 120));
2021-03-06 16:18:59,386 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\categoria in importazione articoli CA nel gestionale.task\AL_EXPORT_ARTICOLI_DELTA.sql
2021-03-06 16:18:59,387 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 333 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 333, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 16:47:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-26 16:47:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 16:47:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,391 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\categoria in importazione articoli CA nel gestionale.task\sql.sql
2021-03-06 16:18:59,396 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 653;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (653, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-26 16:47:01', 120));
2021-03-06 16:18:59,399 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\categoria in importazione articoli CA nel gestionale.task\sql.sql
2021-03-06 16:18:59,400 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 205) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:59,408 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'codici nascosti senza brand.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'codici nascosti senza brand.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,412 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\codici nascosti senza brand.task
2021-03-06 16:18:59,417 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 334 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 334, null, left('codici nascosti senza brand', 150)
            , 'molina', convert(datetime, '2020-09-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-14 00:00:00', 120), dt_upd = NULL
         , title = left('codici nascosti senza brand', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('codici nascosti senza brand', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,424 [11] DEBUG dn_lib.tools.log - aggiunto task al database: codici nascosti senza brand
2021-03-06 16:18:59,424 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 334 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 334, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-14 17:33:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-09-14 17:33:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-14 17:33:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,429 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\codici nascosti senza brand.task\i.txt
2021-03-06 16:18:59,435 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 654;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (654, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-14 17:33:34', 120));
2021-03-06 16:18:59,438 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\codici nascosti senza brand.task\i.txt
2021-03-06 16:18:59,439 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 206;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (206, 654, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-14 17:33:34', 120));
2021-03-06 16:18:59,442 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\codici nascosti senza brand.task\i.txt
2021-03-06 16:18:59,443 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 206) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:59,450 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'injb55run.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'injb55run.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,455 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\injb55run.task
2021-03-06 16:18:59,458 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 335 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 335, null, left('injb55run', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('injb55run', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('injb55run', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,464 [11] DEBUG dn_lib.tools.log - aggiunto task al database: injb55run
2021-03-06 16:18:59,465 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 335 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 335, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 09:05:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 09:05:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 09:05:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,469 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\injb55run.task\content.sql
2021-03-06 16:18:59,474 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 655;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (655, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 09:05:38', 120));
2021-03-06 16:18:59,477 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\injb55run.task\content.sql
2021-03-06 16:18:59,478 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 207) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:59,486 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'nuova categoria EMU.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'nuova categoria EMU.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,490 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\nuova categoria EMU.task
2021-03-06 16:18:59,492 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 336 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 336, null, left('nuova categoria EMU', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('nuova categoria EMU', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuova categoria EMU', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,497 [11] DEBUG dn_lib.tools.log - aggiunto task al database: nuova categoria EMU
2021-03-06 16:18:59,498 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 336 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 336, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-19 10:49:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-19 10:49:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-19 10:49:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,502 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\nuova categoria EMU.task\content.sql
2021-03-06 16:18:59,507 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 656;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (656, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-19 10:49:16', 120));
2021-03-06 16:18:59,511 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\nuova categoria EMU.task\content.sql
2021-03-06 16:18:59,511 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 208) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:59,518 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'nuova gestione scarico prodotti immagini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'nuova gestione scarico prodotti immagini.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,523 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\nuova gestione scarico prodotti immagini.task
2021-03-06 16:18:59,528 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 337 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 337, null, left('nuova gestione scarico prodotti immagini', 150)
            , 'molina', convert(datetime, '2020-09-18 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-18 00:00:00', 120), dt_upd = NULL
         , title = left('nuova gestione scarico prodotti immagini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuova gestione scarico prodotti immagini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,534 [11] DEBUG dn_lib.tools.log - aggiunto task al database: nuova gestione scarico prodotti immagini
2021-03-06 16:18:59,534 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 209) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:59,541 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'ottimizzazione scarico immagini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'ottimizzazione scarico immagini.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,546 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\ottimizzazione scarico immagini.task
2021-03-06 16:18:59,552 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 338 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 338, null, left('ottimizzazione scarico immagini', 150)
            , 'molina', convert(datetime, '2020-09-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-23 00:00:00', 120), dt_upd = NULL
         , title = left('ottimizzazione scarico immagini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ottimizzazione scarico immagini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,559 [11] DEBUG dn_lib.tools.log - aggiunto task al database: ottimizzazione scarico immagini
2021-03-06 16:18:59,560 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 338 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 338, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-23 12:40:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-09-23 12:40:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-23 12:40:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,564 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\ottimizzazione scarico immagini.task\i.txt
2021-03-06 16:18:59,571 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 657;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (657, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-23 12:40:51', 120));
2021-03-06 16:18:59,574 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\ottimizzazione scarico immagini.task\i.txt
2021-03-06 16:18:59,574 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 210;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (210, 657, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-23 12:40:51', 120));
2021-03-06 16:18:59,578 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\ottimizzazione scarico immagini.task\i.txt
2021-03-06 16:18:59,578 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 210) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:59,586 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = 'rinomina codice dip anche sulle ricerche targa.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, 'rinomina codice dip anche sulle ricerche targa.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,590 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\rinomina codice dip anche sulle ricerche targa.task
2021-03-06 16:18:59,595 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 339 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 339, null, left('rinomina codice dip anche sulle ricerche targa', 150)
            , 'molina', convert(datetime, '2020-08-11 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-11 00:00:00', 120), dt_upd = NULL
         , title = left('rinomina codice dip anche sulle ricerche targa', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-11 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rinomina codice dip anche sulle ricerche targa', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,601 [11] DEBUG dn_lib.tools.log - aggiunto task al database: rinomina codice dip anche sulle ricerche targa
2021-03-06 16:18:59,602 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 339 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 339, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-11 18:19:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-11 18:19:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-11 18:19:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,606 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\rinomina codice dip anche sulle ricerche targa.task\i.txt
2021-03-06 16:18:59,613 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 658;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (658, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-11 18:19:58', 120));
2021-03-06 16:18:59,616 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\rinomina codice dip anche sulle ricerche targa.task\i.txt
2021-03-06 16:18:59,616 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 211;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (211, 658, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-11 18:19:58', 120));
2021-03-06 16:18:59,619 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\rinomina codice dip anche sulle ricerche targa.task\i.txt
2021-03-06 16:18:59,620 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 211) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:59,627 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 326 
        and folder_name = ' capitato di avere il product_id della LISTINIPRODOTTI disallineato.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 326, ' capitato di avere il product_id della LISTINIPRODOTTI disallineato.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:05', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,631 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\prodotti\ capitato di avere il product_id della LISTINIPRODOTTI disallineato.task
2021-03-06 16:18:59,637 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 340 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 340, null, left(' capitato di avere il product_id della LISTINIPRODOTTI disallineato', 150)
            , 'molina', convert(datetime, '2020-07-20 00:00:00', 120), NULL, 1
            , NULL, NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:45:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-20 00:00:00', 120), dt_upd = NULL
         , title = left(' capitato di avere il product_id della LISTINIPRODOTTI disallineato', 150), [user] = 'molina'
         , stato = NULL, priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:05', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-20 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull(' capitato di avere il product_id della LISTINIPRODOTTI disallineato', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull(NULL, '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,643 [11] DEBUG dn_lib.tools.log - aggiunto task al database:  capitato di avere il product_id della LISTINIPRODOTTI disallineato
2021-03-06 16:18:59,644 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 212) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:59,651 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'scheduler';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'scheduler', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,655 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\scheduler
2021-03-06 16:18:59,657 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 341 
        and folder_name = 'invio mail cambio listini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 341, 'invio mail cambio listini.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,661 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\scheduler\invio mail cambio listini.task
2021-03-06 16:18:59,666 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 342 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 342, null, left('invio mail cambio listini', 150)
            , 'molina', convert(datetime, '2020-11-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-23 00:00:00', 120), dt_upd = NULL
         , title = left('invio mail cambio listini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:06', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('invio mail cambio listini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,672 [11] DEBUG dn_lib.tools.log - aggiunto task al database: invio mail cambio listini
2021-03-06 16:18:59,672 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 342 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 342, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-23 11:43:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-11-23 11:43:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-23 11:43:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,677 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\scheduler\invio mail cambio listini.task\i.txt
2021-03-06 16:18:59,683 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 659;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (659, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-23 11:43:45', 120));
2021-03-06 16:18:59,686 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\scheduler\invio mail cambio listini.task\i.txt
2021-03-06 16:18:59,687 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 213;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (213, 659, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-23 11:43:45', 120));
2021-03-06 16:18:59,690 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\scheduler\invio mail cambio listini.task\i.txt
2021-03-06 16:18:59,691 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 213) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:59,698 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 341 
        and folder_name = 'ottimizzare e gestire meglio errori scheduler .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 341, 'ottimizzare e gestire meglio errori scheduler .task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,702 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\scheduler\ottimizzare e gestire meglio errori scheduler .task
2021-03-06 16:18:59,707 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 343 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 343, null, left('ottimizzare e gestire meglio errori scheduler ', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ottimizzare e gestire meglio errori scheduler ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ottimizzare e gestire meglio errori scheduler ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,713 [11] DEBUG dn_lib.tools.log - aggiunto task al database: ottimizzare e gestire meglio errori scheduler 
2021-03-06 16:18:59,714 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 343 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 343, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-11 11:03:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-11-11 11:03:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-11 11:03:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,719 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\scheduler\ottimizzare e gestire meglio errori scheduler .task\content.sql
2021-03-06 16:18:59,725 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 660;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (660, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-11 11:03:52', 120));
2021-03-06 16:18:59,728 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\scheduler\ottimizzare e gestire meglio errori scheduler .task\content.sql
2021-03-06 16:18:59,730 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 343 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 343, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,734 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\scheduler\ottimizzare e gestire meglio errori scheduler .task\i.txt
2021-03-06 16:18:59,740 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 661;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (661, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
2021-03-06 16:18:59,744 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\scheduler\ottimizzare e gestire meglio errori scheduler .task\i.txt
2021-03-06 16:18:59,745 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 214;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (214, 661, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:06', 120));
2021-03-06 16:18:59,748 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\scheduler\ottimizzare e gestire meglio errori scheduler .task\i.txt
2021-03-06 16:18:59,749 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 214) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:59,757 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'sito web';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'sito web', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,763 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\sito web
2021-03-06 16:18:59,763 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 344 
        and folder_name = 'aggiornamento intelligente meta_description.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 344, 'aggiornamento intelligente meta_description.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,767 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\sito web\aggiornamento intelligente meta_description.task
2021-03-06 16:18:59,772 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 345 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 345, null, left('aggiornamento intelligente meta_description', 150)
            , 'molina', convert(datetime, '2020-10-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-29 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornamento intelligente meta_description', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornamento intelligente meta_description', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,779 [11] DEBUG dn_lib.tools.log - aggiunto task al database: aggiornamento intelligente meta_description
2021-03-06 16:18:59,780 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 345 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 345, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-29 17:01:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-29 17:01:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-29 17:01:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,784 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\sito web\aggiornamento intelligente meta_description.task\i.txt
2021-03-06 16:18:59,790 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 662;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (662, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-29 17:01:23', 120));
2021-03-06 16:18:59,793 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\aggiornamento intelligente meta_description.task\i.txt
2021-03-06 16:18:59,794 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 215;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (215, 662, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-29 17:01:23', 120));
2021-03-06 16:18:59,797 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\aggiornamento intelligente meta_description.task\i.txt
2021-03-06 16:18:59,797 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 215) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:59,804 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 344 
        and folder_name = 'aggiornamento macchine.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 344, 'aggiornamento macchine.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,809 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\sito web\aggiornamento macchine.task
2021-03-06 16:18:59,815 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 346 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 346, null, left('aggiornamento macchine', 150)
            , 'molina', convert(datetime, '2020-10-22 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-22 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornamento macchine', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-22 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornamento macchine', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,820 [11] DEBUG dn_lib.tools.log - aggiunto task al database: aggiornamento macchine
2021-03-06 16:18:59,821 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 346 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 346, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-22 12:24:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-22 12:24:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-22 12:24:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,826 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\sito web\aggiornamento macchine.task\i.txt
2021-03-06 16:18:59,831 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 663;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (663, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-22 12:24:07', 120));
2021-03-06 16:18:59,835 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\aggiornamento macchine.task\i.txt
2021-03-06 16:18:59,835 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 216;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (216, 663, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-22 12:24:07', 120));
2021-03-06 16:18:59,838 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\aggiornamento macchine.task\i.txt
2021-03-06 16:18:59,839 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 216) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:59,846 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 344 
        and folder_name = 'disponibilit sul sito non allineata.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 344, 'disponibilit sul sito non allineata.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,850 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\sito web\disponibilit sul sito non allineata.task
2021-03-06 16:18:59,855 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 347 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 347, null, left('disponibilit sul sito non allineata', 150)
            , 'molina', convert(datetime, '2020-07-27 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-27 00:00:00', 120), dt_upd = NULL
         , title = left('disponibilit sul sito non allineata', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('disponibilit sul sito non allineata', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,860 [11] DEBUG dn_lib.tools.log - aggiunto task al database: disponibilit sul sito non allineata
2021-03-06 16:18:59,862 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 347 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 347, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 09:04:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-28 09:04:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 09:04:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,866 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\sito web\disponibilit sul sito non allineata.task\i.txt
2021-03-06 16:18:59,873 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 664;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (664, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 09:04:01', 120));
2021-03-06 16:18:59,877 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\disponibilit sul sito non allineata.task\i.txt
2021-03-06 16:18:59,878 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 217;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (217, 664, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 09:04:01', 120));
2021-03-06 16:18:59,880 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\disponibilit sul sito non allineata.task\i.txt
2021-03-06 16:18:59,881 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 347 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 347, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-27 18:04:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-27 18:04:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 18:04:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,885 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\sito web\disponibilit sul sito non allineata.task\sql.sql
2021-03-06 16:18:59,890 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 665;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (665, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-27 18:04:10', 120));
2021-03-06 16:18:59,893 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\disponibilit sul sito non allineata.task\sql.sql
2021-03-06 16:18:59,895 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 217) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:59,903 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 344 
        and folder_name = 'esecuzione proc_day bloccata.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 344, 'esecuzione proc_day bloccata.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,907 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\sito web\esecuzione proc_day bloccata.task
2021-03-06 16:18:59,913 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 348 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 348, null, left('esecuzione proc_day bloccata', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', 'alta', 'controllo', NULL, convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('esecuzione proc_day bloccata', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('esecuzione proc_day bloccata', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,919 [11] DEBUG dn_lib.tools.log - aggiunto task al database: esecuzione proc_day bloccata
2021-03-06 16:18:59,920 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 348 and file_name = 'esecuzione proc_day bloccata.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 348, 'esecuzione proc_day bloccata.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 09:18:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-28 09:18:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 09:18:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,924 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\sito web\esecuzione proc_day bloccata.task\esecuzione proc_day bloccata.txt
2021-03-06 16:18:59,931 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 666;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (666, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 09:18:45', 120));
2021-03-06 16:18:59,934 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\esecuzione proc_day bloccata.task\esecuzione proc_day bloccata.txt
2021-03-06 16:18:59,935 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 348 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 348, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 09:21:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-28 09:21:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 09:21:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,940 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\sito web\esecuzione proc_day bloccata.task\i.txt
2021-03-06 16:18:59,946 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 667;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (667, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 09:21:49', 120));
2021-03-06 16:18:59,948 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\esecuzione proc_day bloccata.task\i.txt
2021-03-06 16:18:59,949 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 218;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (218, 667, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 09:21:49', 120));
2021-03-06 16:18:59,952 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\esecuzione proc_day bloccata.task\i.txt
2021-03-06 16:18:59,953 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 218) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:18:59,960 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 344 
        and folder_name = 'non si aggiornano correttamente prezzo e metas.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 344, 'non si aggiornano correttamente prezzo e metas.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,969 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\sito web\non si aggiornano correttamente prezzo e metas.task
2021-03-06 16:18:59,974 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 349 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 349, null, left('non si aggiornano correttamente prezzo e metas', 150)
            , 'molina', convert(datetime, '2020-10-13 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-13 00:00:00', 120), dt_upd = NULL
         , title = left('non si aggiornano correttamente prezzo e metas', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-13 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('non si aggiornano correttamente prezzo e metas', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,981 [11] DEBUG dn_lib.tools.log - aggiunto task al database: non si aggiornano correttamente prezzo e metas
2021-03-06 16:18:59,982 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 349 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 349, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-13 16:04:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-13 16:04:08', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-13 16:04:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:18:59,986 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\sito web\non si aggiornano correttamente prezzo e metas.task\i.txt
2021-03-06 16:18:59,991 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 668;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (668, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-13 16:04:08', 120));
2021-03-06 16:18:59,994 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\non si aggiornano correttamente prezzo e metas.task\i.txt
2021-03-06 16:18:59,995 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 219;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (219, 668, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-13 16:04:08', 120));
2021-03-06 16:18:59,999 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\non si aggiornano correttamente prezzo e metas.task\i.txt
2021-03-06 16:19:00,000 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 219) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:00,010 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 344 
        and folder_name = 'ogni tanto il buffer si inchioda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 344, 'ogni tanto il buffer si inchioda.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:07', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,015 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\sito web\ogni tanto il buffer si inchioda.task
2021-03-06 16:19:00,021 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 350 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 350, null, left('ogni tanto il buffer si inchioda', 150)
            , 'molina', convert(datetime, '2020-08-11 00:00:00', 120), NULL, 1
            , 'fatto', 'altissima', 'fix', NULL, convert(datetime, '2021-03-02 22:45:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-11 00:00:00', 120), dt_upd = NULL
         , title = left('ogni tanto il buffer si inchioda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'altissima'
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:07', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-11 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ogni tanto il buffer si inchioda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('altissima', '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,027 [11] DEBUG dn_lib.tools.log - aggiunto task al database: ogni tanto il buffer si inchioda
2021-03-06 16:19:00,028 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 350 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 350, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-17 08:40:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-17 08:40:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-17 08:40:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,032 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\sito web\ogni tanto il buffer si inchioda.task\i.txt
2021-03-06 16:19:00,040 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 669;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (669, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-17 08:40:40', 120));
2021-03-06 16:19:00,043 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\ogni tanto il buffer si inchioda.task\i.txt
2021-03-06 16:19:00,044 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 220;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (220, 669, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-17 08:40:40', 120));
2021-03-06 16:19:00,047 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\sito web\ogni tanto il buffer si inchioda.task\i.txt
2021-03-06 16:19:00,048 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 220) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:00,055 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 303 
        and folder_name = 'timeout - dipa scripts crm e recalc ordini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 303, 'timeout - dipa scripts crm e recalc ordini.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,060 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sincronizzazioni\timeout - dipa scripts crm e recalc ordini.task
2021-03-06 16:19:00,065 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 351 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 351, null, left('timeout - dipa scripts crm e recalc ordini', 150)
            , 'molina', convert(datetime, '2020-07-27 00:00:00', 120), NULL, 1
            , 'fatto', 'alta', 'controllo', NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-27 00:00:00', 120), dt_upd = NULL
         , title = left('timeout - dipa scripts crm e recalc ordini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('timeout - dipa scripts crm e recalc ordini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,071 [11] DEBUG dn_lib.tools.log - aggiunto task al database: timeout - dipa scripts crm e recalc ordini
2021-03-06 16:19:00,073 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 351 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 351, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 08:59:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-29 08:59:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 08:59:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,077 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\timeout - dipa scripts crm e recalc ordini.task\i.txt
2021-03-06 16:19:00,084 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 670;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (670, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 08:59:58', 120));
2021-03-06 16:19:00,086 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\timeout - dipa scripts crm e recalc ordini.task\i.txt
2021-03-06 16:19:00,088 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 221;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (221, 670, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 08:59:58', 120));
2021-03-06 16:19:00,091 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sincronizzazioni\timeout - dipa scripts crm e recalc ordini.task\i.txt
2021-03-06 16:19:00,092 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 351 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 351, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-27 11:02:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-27 11:02:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 11:02:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,097 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sincronizzazioni\timeout - dipa scripts crm e recalc ordini.task\sql.sql
2021-03-06 16:19:00,102 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 671;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (671, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-27 11:02:07', 120));
2021-03-06 16:19:00,104 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sincronizzazioni\timeout - dipa scripts crm e recalc ordini.task\sql.sql
2021-03-06 16:19:00,105 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 221) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:00,112 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'sistema';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'sistema', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,117 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sistema
2021-03-06 16:19:00,118 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 352 
        and folder_name = 'login applicazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 352, 'login applicazioni.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,123 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sistema\login applicazioni.task
2021-03-06 16:19:00,128 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 353 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 353, null, left('login applicazioni', 150)
            , 'molina', convert(datetime, '2020-10-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-09 00:00:00', 120), dt_upd = NULL
         , title = left('login applicazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('login applicazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,134 [11] DEBUG dn_lib.tools.log - aggiunto task al database: login applicazioni
2021-03-06 16:19:00,135 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 353 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 353, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-09 17:32:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-09 17:32:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-09 17:32:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,140 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sistema\login applicazioni.task\i.txt
2021-03-06 16:19:00,147 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 672;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (672, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-09 17:32:22', 120));
2021-03-06 16:19:00,150 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sistema\login applicazioni.task\i.txt
2021-03-06 16:19:00,151 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 222;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (222, 672, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-09 17:32:22', 120));
2021-03-06 16:19:00,153 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sistema\login applicazioni.task\i.txt
2021-03-06 16:19:00,154 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 222) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:00,161 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 352 
        and folder_name = 'nuova tabella LOG_SCHEDULER.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 352, 'nuova tabella LOG_SCHEDULER.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,166 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sistema\nuova tabella LOG_SCHEDULER.task
2021-03-06 16:19:00,173 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 354 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 354, null, left('nuova tabella LOG_SCHEDULER', 150)
            , 'molina', convert(datetime, '2020-07-31 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-31 00:00:00', 120), dt_upd = NULL
         , title = left('nuova tabella LOG_SCHEDULER', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-31 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuova tabella LOG_SCHEDULER', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,179 [11] DEBUG dn_lib.tools.log - aggiunto task al database: nuova tabella LOG_SCHEDULER
2021-03-06 16:19:00,179 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 354 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 354, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 16:54:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-31 16:54:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-31 16:54:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,184 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sistema\nuova tabella LOG_SCHEDULER.task\i.txt
2021-03-06 16:19:00,191 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 673;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (673, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 16:54:09', 120));
2021-03-06 16:19:00,193 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sistema\nuova tabella LOG_SCHEDULER.task\i.txt
2021-03-06 16:19:00,194 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 223;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (223, 673, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 16:54:09', 120));
2021-03-06 16:19:00,196 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sistema\nuova tabella LOG_SCHEDULER.task\i.txt
2021-03-06 16:19:00,197 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 354 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 354, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 12:33:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-31 12:33:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-31 12:33:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,202 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sistema\nuova tabella LOG_SCHEDULER.task\sql.sql
2021-03-06 16:19:00,207 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 674;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (674, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 12:33:19', 120));
2021-03-06 16:19:00,210 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sistema\nuova tabella LOG_SCHEDULER.task\sql.sql
2021-03-06 16:19:00,211 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 223) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:00,218 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 352 
        and folder_name = 'via tutte le tabelle e procedure ZZ_.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 352, 'via tutte le tabelle e procedure ZZ_.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,222 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sistema\via tutte le tabelle e procedure ZZ_.task
2021-03-06 16:19:00,227 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 355 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 355, null, left('via tutte le tabelle e procedure ZZ_', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('via tutte le tabelle e procedure ZZ_', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('via tutte le tabelle e procedure ZZ_', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,234 [11] DEBUG dn_lib.tools.log - aggiunto task al database: via tutte le tabelle e procedure ZZ_
2021-03-06 16:19:00,234 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 224) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:00,241 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'sito web';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'sito web', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,246 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sito web
2021-03-06 16:19:00,248 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'aggiunta campo collo,bancale ritiro.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'aggiunta campo collo,bancale ritiro.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:08', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,252 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sito web\aggiunta campo collo,bancale ritiro.task
2021-03-06 16:19:00,257 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 357 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 357, null, left('aggiunta campo collo,bancale ritiro', 150)
            , 'molina', convert(datetime, '2021-01-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-15 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta campo collo,bancale ritiro', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:08', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta campo collo,bancale ritiro', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,263 [11] DEBUG dn_lib.tools.log - aggiunto task al database: aggiunta campo collo,bancale ritiro
2021-03-06 16:19:00,264 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 357 and file_name = '1.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 357, '1.png', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-18 11:06:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-18 11:06:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-18 11:06:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,269 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\aggiunta campo collo,bancale ritiro.task\1.png
2021-03-06 16:19:00,270 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 357 and file_name = '2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 357, '2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-18 11:06:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-18 11:06:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-18 11:06:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,274 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\aggiunta campo collo,bancale ritiro.task\2.png
2021-03-06 16:19:00,276 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 357 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 357, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 18:19:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 18:19:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 18:19:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,280 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\aggiunta campo collo,bancale ritiro.task\i.txt
2021-03-06 16:19:00,289 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 677;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (677, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 18:19:56', 120));
2021-03-06 16:19:00,291 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\aggiunta campo collo,bancale ritiro.task\i.txt
2021-03-06 16:19:00,291 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 225;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (225, 677, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 18:19:56', 120));
2021-03-06 16:19:00,293 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sito web\aggiunta campo collo,bancale ritiro.task\i.txt
2021-03-06 16:19:00,294 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 225) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:00,302 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'carrello lavorazioni SINTRA.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'carrello lavorazioni SINTRA.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,306 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sito web\carrello lavorazioni SINTRA.task
2021-03-06 16:19:00,311 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 358 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 358, null, left('carrello lavorazioni SINTRA', 150)
            , 'molina', convert(datetime, '2020-08-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_giorni', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-21 00:00:00', 120), dt_upd = NULL
         , title = left('carrello lavorazioni SINTRA', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('carrello lavorazioni SINTRA', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,317 [11] DEBUG dn_lib.tools.log - aggiunto task al database: carrello lavorazioni SINTRA
2021-03-06 16:19:00,318 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 358 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 358, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 12:03:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-21 12:03:09', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-21 12:03:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,323 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\carrello lavorazioni SINTRA.task\i.txt
2021-03-06 16:19:00,330 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 678;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (678, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 12:03:09', 120));
2021-03-06 16:19:00,333 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\carrello lavorazioni SINTRA.task\i.txt
2021-03-06 16:19:00,334 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 226;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (226, 678, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 12:03:09', 120));
2021-03-06 16:19:00,337 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sito web\carrello lavorazioni SINTRA.task\i.txt
2021-03-06 16:19:00,338 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 358 and file_name = 'LAVS_IMPORT_SINTRA.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 358, 'LAVS_IMPORT_SINTRA.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 12:10:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-21 12:10:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-21 12:10:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,342 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\carrello lavorazioni SINTRA.task\LAVS_IMPORT_SINTRA.sql
2021-03-06 16:19:00,349 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 679;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (679, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 12:10:38', 120));
2021-03-06 16:19:00,353 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\carrello lavorazioni SINTRA.task\LAVS_IMPORT_SINTRA.sql
2021-03-06 16:19:00,353 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 358 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 358, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 12:19:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-21 12:19:53', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-21 12:19:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,357 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\carrello lavorazioni SINTRA.task\sql.sql
2021-03-06 16:19:00,363 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 680;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (680, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 12:19:53', 120));
2021-03-06 16:19:00,365 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\carrello lavorazioni SINTRA.task\sql.sql
2021-03-06 16:19:00,366 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 226) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:00,374 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'check utente ceabdue@libero.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'check utente ceabdue@libero.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,379 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sito web\check utente ceabdue@libero.task
2021-03-06 16:19:00,384 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 359 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 359, null, left('check utente ceabdue@libero', 150)
            , 'molina', convert(datetime, '2020-07-07 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:39:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-07 00:00:00', 120), dt_upd = NULL
         , title = left('check utente ceabdue@libero', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-07 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('check utente ceabdue@libero', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,390 [11] DEBUG dn_lib.tools.log - aggiunto task al database: check utente ceabdue@libero
2021-03-06 16:19:00,391 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 227) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:00,398 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'fatturati e premi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'fatturati e premi.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,402 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sito web\fatturati e premi.task
2021-03-06 16:19:00,407 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 360 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 360, null, left('fatturati e premi', 150)
            , 'molina', convert(datetime, '2020-12-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'settimana', convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-12-14 00:00:00', 120), dt_upd = NULL
         , title = left('fatturati e premi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'settimana', dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-12-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('fatturati e premi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('settimana', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,413 [11] DEBUG dn_lib.tools.log - aggiunto task al database: fatturati e premi
2021-03-06 16:19:00,414 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 360 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 360, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-19 09:22:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-19 09:22:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-19 09:22:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,419 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\fatturati e premi.task\i.txt
2021-03-06 16:19:00,425 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 681;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (681, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-19 09:22:06', 120));
2021-03-06 16:19:00,428 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\fatturati e premi.task\i.txt
2021-03-06 16:19:00,429 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 228;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (228, 681, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-19 09:22:06', 120));
2021-03-06 16:19:00,432 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sito web\fatturati e premi.task\i.txt
2021-03-06 16:19:00,432 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 228) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:00,440 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'listino da scaricare per i clienti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'listino da scaricare per i clienti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,444 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sito web\listino da scaricare per i clienti.task
2021-03-06 16:19:00,449 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 361 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 361, null, left('listino da scaricare per i clienti', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('listino da scaricare per i clienti', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('listino da scaricare per i clienti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,455 [11] DEBUG dn_lib.tools.log - aggiunto task al database: listino da scaricare per i clienti
2021-03-06 16:19:00,457 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 229) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:00,464 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'pagina php targhe.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'pagina php targhe.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:08', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,469 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sito web\pagina php targhe.task
2021-03-06 16:19:00,470 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 362 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 362, null, left('pagina php targhe', 150)
            , 'molina', convert(datetime, '2021-01-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-15 00:00:00', 120), dt_upd = NULL
         , title = left('pagina php targhe', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:08', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('pagina php targhe', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,476 [11] DEBUG dn_lib.tools.log - aggiunto task al database: pagina php targhe
2021-03-06 16:19:00,477 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 362 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 362, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 11:21:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 11:21:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 11:21:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,483 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\pagina php targhe.task\i.txt
2021-03-06 16:19:00,489 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 682;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (682, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 11:21:34', 120));
2021-03-06 16:19:00,491 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\pagina php targhe.task\i.txt
2021-03-06 16:19:00,492 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 230;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (230, 682, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 11:21:34', 120));
2021-03-06 16:19:00,495 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sito web\pagina php targhe.task\i.txt
2021-03-06 16:19:00,495 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 362 and file_name = 'rt.bat';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 362, 'rt.bat', '.bat', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 11:22:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 11:22:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 11:22:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,499 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\pagina php targhe.task\rt.bat
2021-03-06 16:19:00,501 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 230) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:00,508 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'pagine interne';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'pagine interne', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,512 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sito web\pagine interne
2021-03-06 16:19:00,513 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 363 
        and folder_name = '3a autoricambi snc appare due volte nella lista clienti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 363, '3a autoricambi snc appare due volte nella lista clienti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,517 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sito web\pagine interne\3a autoricambi snc appare due volte nella lista clienti.task
2021-03-06 16:19:00,522 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 364 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 364, null, left('3a autoricambi snc appare due volte nella lista clienti', 150)
            , 'molina', convert(datetime, '2020-07-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-09 00:00:00', 120), dt_upd = NULL
         , title = left('3a autoricambi snc appare due volte nella lista clienti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('3a autoricambi snc appare due volte nella lista clienti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,528 [11] DEBUG dn_lib.tools.log - aggiunto task al database: 3a autoricambi snc appare due volte nella lista clienti
2021-03-06 16:19:00,529 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 231) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:00,538 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 363 
        and folder_name = 'assegnazione agente cliente.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 363, 'assegnazione agente cliente.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,542 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sito web\pagine interne\assegnazione agente cliente.task
2021-03-06 16:19:00,544 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 365 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 365, null, left('assegnazione agente cliente', 150)
            , 'molina', convert(datetime, '2020-10-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-30 00:00:00', 120), dt_upd = NULL
         , title = left('assegnazione agente cliente', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('assegnazione agente cliente', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,550 [11] DEBUG dn_lib.tools.log - aggiunto task al database: assegnazione agente cliente
2021-03-06 16:19:00,551 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 365 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 365, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-30 14:35:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-30 14:35:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-30 14:35:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,555 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\pagine interne\assegnazione agente cliente.task\i.txt
2021-03-06 16:19:00,561 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 684;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (684, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-30 14:35:45', 120));
2021-03-06 16:19:00,564 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\pagine interne\assegnazione agente cliente.task\i.txt
2021-03-06 16:19:00,565 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 232;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (232, 684, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-30 14:35:45', 120));
2021-03-06 16:19:00,568 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sito web\pagine interne\assegnazione agente cliente.task\i.txt
2021-03-06 16:19:00,569 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 232) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:00,576 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 363 
        and folder_name = 'controllo associazione clienti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 363, 'controllo associazione clienti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,581 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sito web\pagine interne\controllo associazione clienti.task
2021-03-06 16:19:00,586 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 366 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 366, null, left('controllo associazione clienti', 150)
            , 'molina', convert(datetime, '2020-09-11 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'ora', convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-11 00:00:00', 120), dt_upd = NULL
         , title = left('controllo associazione clienti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-11 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('controllo associazione clienti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,592 [11] DEBUG dn_lib.tools.log - aggiunto task al database: controllo associazione clienti
2021-03-06 16:19:00,593 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 366 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 366, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-11 17:45:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-09-11 17:45:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-11 17:45:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,597 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\pagine interne\controllo associazione clienti.task\i.txt
2021-03-06 16:19:00,604 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 685;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (685, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-11 17:45:42', 120));
2021-03-06 16:19:00,607 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\pagine interne\controllo associazione clienti.task\i.txt
2021-03-06 16:19:00,608 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 233;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (233, 685, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-11 17:45:42', 120));
2021-03-06 16:19:00,611 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sito web\pagine interne\controllo associazione clienti.task\i.txt
2021-03-06 16:19:00,612 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 233) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:00,619 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 363 
        and folder_name = 'rinfrescata pagina prodotti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 363, 'rinfrescata pagina prodotti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,624 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sito web\pagine interne\rinfrescata pagina prodotti.task
2021-03-06 16:19:00,628 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 367 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 367, null, left('rinfrescata pagina prodotti', 150)
            , 'molina', convert(datetime, '2020-11-03 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-03 00:00:00', 120), dt_upd = NULL
         , title = left('rinfrescata pagina prodotti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-03 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rinfrescata pagina prodotti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,634 [11] DEBUG dn_lib.tools.log - aggiunto task al database: rinfrescata pagina prodotti
2021-03-06 16:19:00,635 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 367 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 367, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-03 12:01:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-11-03 12:01:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-03 12:01:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,640 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\pagine interne\rinfrescata pagina prodotti.task\i.txt
2021-03-06 16:19:00,647 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 686;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (686, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-03 12:01:21', 120));
2021-03-06 16:19:00,649 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\pagine interne\rinfrescata pagina prodotti.task\i.txt
2021-03-06 16:19:00,650 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 234;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (234, 686, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-11-03 12:01:21', 120));
2021-03-06 16:19:00,653 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sito web\pagine interne\rinfrescata pagina prodotti.task\i.txt
2021-03-06 16:19:00,654 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 234) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:00,661 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 363 
        and folder_name = 'storico assegnazione agenti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 363, 'storico assegnazione agenti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,666 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sito web\pagine interne\storico assegnazione agenti.task
2021-03-06 16:19:00,671 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 368 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 368, null, left('storico assegnazione agenti', 150)
            , 'molina', convert(datetime, '2020-10-22 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-22 00:00:00', 120), dt_upd = NULL
         , title = left('storico assegnazione agenti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-22 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('storico assegnazione agenti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,676 [11] DEBUG dn_lib.tools.log - aggiunto task al database: storico assegnazione agenti
2021-03-06 16:19:00,677 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 368 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 368, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-22 10:13:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-22 10:13:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-22 10:13:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,682 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\pagine interne\storico assegnazione agenti.task\i.txt
2021-03-06 16:19:00,691 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 687;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (687, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-22 10:13:05', 120));
2021-03-06 16:19:00,694 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\pagine interne\storico assegnazione agenti.task\i.txt
2021-03-06 16:19:00,695 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 235;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (235, 687, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-22 10:13:05', 120));
2021-03-06 16:19:00,697 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sito web\pagine interne\storico assegnazione agenti.task\i.txt
2021-03-06 16:19:00,698 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 235) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:00,705 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'premi cliente.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'premi cliente.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:08', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,709 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sito web\premi cliente.task
2021-03-06 16:19:00,715 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 369 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 369, null, left('premi cliente', 150)
            , 'molina', convert(datetime, '2021-01-14 00:00:00', 120), NULL, 1
            , 'fatto', 'alta', 'aggiunta', 'tre_giorni', convert(datetime, '2021-03-02 22:45:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-14 00:00:00', 120), dt_upd = NULL
         , title = left('premi cliente', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'aggiunta', stima = 'tre_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:08', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('premi cliente', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('tre_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,721 [11] DEBUG dn_lib.tools.log - aggiunto task al database: premi cliente
2021-03-06 16:19:00,722 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 369 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 369, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-22 10:02:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-22 10:02:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-22 10:02:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,726 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\premi cliente.task\i.txt
2021-03-06 16:19:00,733 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 688;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (688, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-22 10:02:16', 120));
2021-03-06 16:19:00,736 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\premi cliente.task\i.txt
2021-03-06 16:19:00,736 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 236;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (236, 688, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-22 10:02:16', 120));
2021-03-06 16:19:00,738 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sito web\premi cliente.task\i.txt
2021-03-06 16:19:00,739 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 236) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:00,747 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'ricerche targa';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'ricerche targa', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,751 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sito web\ricerche targa
2021-03-06 16:19:00,753 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 370 
        and folder_name = 'cancellazione virtuale ricerche.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 370, 'cancellazione virtuale ricerche.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,757 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sito web\ricerche targa\cancellazione virtuale ricerche.task
2021-03-06 16:19:00,763 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 371 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 371, null, left('cancellazione virtuale ricerche', 150)
            , 'molina', convert(datetime, '2020-09-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-30 00:00:00', 120), dt_upd = NULL
         , title = left('cancellazione virtuale ricerche', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('cancellazione virtuale ricerche', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,769 [11] DEBUG dn_lib.tools.log - aggiunto task al database: cancellazione virtuale ricerche
2021-03-06 16:19:00,770 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 371 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 371, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-30 18:14:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-09-30 18:14:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-30 18:14:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,774 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\ricerche targa\cancellazione virtuale ricerche.task\i.txt
2021-03-06 16:19:00,779 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 689;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (689, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-30 18:14:23', 120));
2021-03-06 16:19:00,782 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\ricerche targa\cancellazione virtuale ricerche.task\i.txt
2021-03-06 16:19:00,783 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 237;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (237, 689, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-09-30 18:14:23', 120));
2021-03-06 16:19:00,786 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sito web\ricerche targa\cancellazione virtuale ricerche.task\i.txt
2021-03-06 16:19:00,787 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 237) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:00,794 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'upload documenti alyante.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'upload documenti alyante.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,799 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sito web\upload documenti alyante.task
2021-03-06 16:19:00,803 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 372 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 372, null, left('upload documenti alyante', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', 'alta', 'aggiunta', 'tre_giorni', convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('upload documenti alyante', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = 'alta'
         , tipo = 'aggiunta', stima = 'tre_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('upload documenti alyante', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('tre_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,810 [11] DEBUG dn_lib.tools.log - aggiunto task al database: upload documenti alyante
2021-03-06 16:19:00,811 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 238) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:00,818 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 356 
        and folder_name = 'upload documenti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 356, 'upload documenti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,822 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\sito web\upload documenti.task
2021-03-06 16:19:00,826 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 373 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 373, null, left('upload documenti', 150)
            , 'molina', convert(datetime, '2021-02-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'tre_giorni', convert(datetime, '2021-03-02 22:45:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-02-23 00:00:00', 120), dt_upd = NULL
         , title = left('upload documenti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'tre_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-02-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('upload documenti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('tre_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,832 [11] DEBUG dn_lib.tools.log - aggiunto task al database: upload documenti
2021-03-06 16:19:00,833 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 373 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 373, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-26 17:27:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-02-26 17:27:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-26 17:27:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,838 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\upload documenti.task\i.txt
2021-03-06 16:19:00,847 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 690;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (690, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-26 17:27:03', 120));
2021-03-06 16:19:00,849 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\upload documenti.task\i.txt
2021-03-06 16:19:00,850 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 239;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (239, 690, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-26 17:27:03', 120));
2021-03-06 16:19:00,854 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\sito web\upload documenti.task\i.txt
2021-03-06 16:19:00,854 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 373 and file_name = 'synch docs.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 373, 'synch docs.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-26 17:27:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-02-26 17:27:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-26 17:27:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,859 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\sito web\upload documenti.task\synch docs.sql
2021-03-06 16:19:00,864 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 691;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (691, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-26 17:27:04', 120));
2021-03-06 16:19:00,867 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\sito web\upload documenti.task\synch docs.sql
2021-03-06 16:19:00,867 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 239) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:00,874 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'spedizioni corrieri';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'spedizioni corrieri', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,879 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\spedizioni corrieri
2021-03-06 16:19:00,880 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'bartolini';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'bartolini', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,884 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\spedizioni corrieri\bartolini
2021-03-06 16:19:00,885 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 375 
        and folder_name = 'Implementare i tracking number BRT.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 375, 'Implementare i tracking number BRT.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,889 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\spedizioni corrieri\bartolini\Implementare i tracking number BRT.task
2021-03-06 16:19:00,891 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 376 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 376, null, left('Implementare i tracking number BRT', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('Implementare i tracking number BRT', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:11', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('Implementare i tracking number BRT', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,898 [11] DEBUG dn_lib.tools.log - aggiunto task al database: Implementare i tracking number BRT
2021-03-06 16:19:00,899 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 376 and file_name = 'R Tracking BRT.msg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 376, 'R Tracking BRT.msg', '.msg', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-17 08:36:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-17 08:36:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-17 08:36:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,903 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\bartolini\Implementare i tracking number BRT.task\R Tracking BRT.msg
2021-03-06 16:19:00,904 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 376 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 376, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-18 17:55:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-18 17:55:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-18 17:55:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,909 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\bartolini\Implementare i tracking number BRT.task\sql.sql
2021-03-06 16:19:00,913 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 693;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (693, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-18 17:55:19', 120));
2021-03-06 16:19:00,916 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\bartolini\Implementare i tracking number BRT.task\sql.sql
2021-03-06 16:19:00,917 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 240) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:00,924 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 375 
        and folder_name = 'tre ordini bartolini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 375, 'tre ordini bartolini.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,928 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\spedizioni corrieri\bartolini\tre ordini bartolini.task
2021-03-06 16:19:00,930 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 377 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 377, null, left('tre ordini bartolini', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('tre ordini bartolini', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:11', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('tre ordini bartolini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,936 [11] DEBUG dn_lib.tools.log - aggiunto task al database: tre ordini bartolini
2021-03-06 16:19:00,937 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 377 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 377, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-11 09:23:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-11 09:23:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-11 09:23:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,941 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\bartolini\tre ordini bartolini.task\content.sql
2021-03-06 16:19:00,946 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 694;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (694, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-11 09:23:55', 120));
2021-03-06 16:19:00,949 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\bartolini\tre ordini bartolini.task\content.sql
2021-03-06 16:19:00,950 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 241) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:00,957 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'cambio dei cap in lombardia.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'cambio dei cap in lombardia.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:59', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,962 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\spedizioni corrieri\cambio dei cap in lombardia.task
2021-03-06 16:19:00,967 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 378 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 378, null, left('cambio dei cap in lombardia', 150)
            , 'molina', convert(datetime, '2020-07-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:39:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-28 00:00:00', 120), dt_upd = NULL
         , title = left('cambio dei cap in lombardia', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:59', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('cambio dei cap in lombardia', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,973 [11] DEBUG dn_lib.tools.log - aggiunto task al database: cambio dei cap in lombardia
2021-03-06 16:19:00,974 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 378 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 378, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 17:29:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-28 17:29:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-28 17:29:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,978 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\cambio dei cap in lombardia.task\i.txt
2021-03-06 16:19:00,985 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 695;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (695, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 17:29:34', 120));
2021-03-06 16:19:00,988 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\cambio dei cap in lombardia.task\i.txt
2021-03-06 16:19:00,989 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 242;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (242, 695, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-28 17:29:34', 120));
2021-03-06 16:19:00,992 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\spedizioni corrieri\cambio dei cap in lombardia.task\i.txt
2021-03-06 16:19:00,993 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 378 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 378, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 08:32:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-29 08:32:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 08:32:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:00,997 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\cambio dei cap in lombardia.task\sql.sql
2021-03-06 16:19:01,003 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 696;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (696, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 08:32:26', 120));
2021-03-06 16:19:01,006 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\cambio dei cap in lombardia.task\sql.sql
2021-03-06 16:19:01,007 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 242) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:01,014 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'check resi no rip spedizioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'check resi no rip spedizioni.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,019 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\spedizioni corrieri\check resi no rip spedizioni.task
2021-03-06 16:19:01,021 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 379 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 379, null, left('check resi no rip spedizioni', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('check resi no rip spedizioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:11', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('check resi no rip spedizioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,028 [11] DEBUG dn_lib.tools.log - aggiunto task al database: check resi no rip spedizioni
2021-03-06 16:19:01,028 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 379 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 379, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-02 11:04:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-02 11:04:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 11:04:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,033 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\check resi no rip spedizioni.task\content.sql
2021-03-06 16:19:01,037 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 697;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (697, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-02 11:04:46', 120));
2021-03-06 16:19:01,041 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\check resi no rip spedizioni.task\content.sql
2021-03-06 16:19:01,042 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 243) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:01,049 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'chiusura corrieri a volte rimangono dei WAIT.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'chiusura corrieri a volte rimangono dei WAIT.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,054 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\spedizioni corrieri\chiusura corrieri a volte rimangono dei WAIT.task
2021-03-06 16:19:01,059 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 380 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 380, null, left('chiusura corrieri a volte rimangono dei WAIT', 150)
            , 'molina', convert(datetime, '2020-07-31 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-31 00:00:00', 120), dt_upd = NULL
         , title = left('chiusura corrieri a volte rimangono dei WAIT', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-31 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('chiusura corrieri a volte rimangono dei WAIT', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,066 [11] DEBUG dn_lib.tools.log - aggiunto task al database: chiusura corrieri a volte rimangono dei WAIT
2021-03-06 16:19:01,066 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 380 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 380, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 10:54:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-31 10:54:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-31 10:54:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,071 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\chiusura corrieri a volte rimangono dei WAIT.task\i.txt
2021-03-06 16:19:01,079 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 698;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (698, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 10:54:48', 120));
2021-03-06 16:19:01,082 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\chiusura corrieri a volte rimangono dei WAIT.task\i.txt
2021-03-06 16:19:01,082 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 244;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (244, 698, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 10:54:48', 120));
2021-03-06 16:19:01,085 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\spedizioni corrieri\chiusura corrieri a volte rimangono dei WAIT.task\i.txt
2021-03-06 16:19:01,086 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 244) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:01,093 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'controlli spedizioni EDP.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'controlli spedizioni EDP.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,098 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\spedizioni corrieri\controlli spedizioni EDP.task
2021-03-06 16:19:01,102 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 381 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 381, null, left('controlli spedizioni EDP', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('controlli spedizioni EDP', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:11', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('controlli spedizioni EDP', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,107 [11] DEBUG dn_lib.tools.log - aggiunto task al database: controlli spedizioni EDP
2021-03-06 16:19:01,109 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 381 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 381, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-18 10:08:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-18 10:08:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-18 10:08:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,113 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\controlli spedizioni EDP.task\content.sql
2021-03-06 16:19:01,117 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 699;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (699, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-18 10:08:35', 120));
2021-03-06 16:19:01,120 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\controlli spedizioni EDP.task\content.sql
2021-03-06 16:19:01,121 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 245) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:01,128 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'corriere ctl domandina.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'corriere ctl domandina.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,133 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\spedizioni corrieri\corriere ctl domandina.task
2021-03-06 16:19:01,134 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 382 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 382, null, left('corriere ctl domandina', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('corriere ctl domandina', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('corriere ctl domandina', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,140 [11] DEBUG dn_lib.tools.log - aggiunto task al database: corriere ctl domandina
2021-03-06 16:19:01,141 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 382 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 382, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-11 15:20:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-11 15:20:37', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-11 15:20:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,145 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\corriere ctl domandina.task\content.sql
2021-03-06 16:19:01,150 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 700;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (700, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-11 15:20:37', 120));
2021-03-06 16:19:01,154 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\corriere ctl domandina.task\content.sql
2021-03-06 16:19:01,154 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 246) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:01,162 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'corrieri.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'corrieri.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,166 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\spedizioni corrieri\corrieri.task
2021-03-06 16:19:01,168 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 383 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 383, null, left('corrieri', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('corrieri', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('corrieri', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,175 [11] DEBUG dn_lib.tools.log - aggiunto task al database: corrieri
2021-03-06 16:19:01,177 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 383 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 383, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 09:34:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 09:34:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 09:34:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,181 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\corrieri.task\content.sql
2021-03-06 16:19:01,186 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 701;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (701, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 09:34:50', 120));
2021-03-06 16:19:01,189 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\corrieri.task\content.sql
2021-03-06 16:19:01,190 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 247) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:01,197 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'da un orario in poi cambio di corriere.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'da un orario in poi cambio di corriere.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,202 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\spedizioni corrieri\da un orario in poi cambio di corriere.task
2021-03-06 16:19:01,208 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 384 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 384, null, left('da un orario in poi cambio di corriere', 150)
            , 'molina', convert(datetime, '2020-06-23 00:00:00', 120), NULL, 1
            , 'fatto', 'alta', 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:39:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-23 00:00:00', 120), dt_upd = NULL
         , title = left('da un orario in poi cambio di corriere', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('da un orario in poi cambio di corriere', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,213 [11] DEBUG dn_lib.tools.log - aggiunto task al database: da un orario in poi cambio di corriere
2021-03-06 16:19:01,215 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 384 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 384, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-23 16:31:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-23 16:31:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-23 16:31:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,219 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\da un orario in poi cambio di corriere.task\sql.sql
2021-03-06 16:19:01,226 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 702;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (702, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-23 16:31:13', 120));
2021-03-06 16:19:01,229 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\da un orario in poi cambio di corriere.task\sql.sql
2021-03-06 16:19:01,230 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 248) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:01,238 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'gestione porto L.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'gestione porto L.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,243 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\spedizioni corrieri\gestione porto L.task
2021-03-06 16:19:01,245 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 385 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 385, null, left('gestione porto L', 150)
            , 'molina', convert(datetime, '2021-01-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-15 00:00:00', 120), dt_upd = NULL
         , title = left('gestione porto L', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione porto L', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,250 [11] DEBUG dn_lib.tools.log - aggiunto task al database: gestione porto L
2021-03-06 16:19:01,252 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 385 and file_name = '1.PNG';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 385, '1.PNG', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:04:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 16:04:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 16:04:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,256 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\gestione porto L.task\1.PNG
2021-03-06 16:19:01,257 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 385 and file_name = '2.PNG';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 385, '2.PNG', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:04:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 16:04:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 16:04:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,261 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\gestione porto L.task\2.PNG
2021-03-06 16:19:01,263 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 385 and file_name = '3.PNG';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 385, '3.PNG', '.png', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:04:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 16:04:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 16:04:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,267 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\gestione porto L.task\3.PNG
2021-03-06 16:19:01,268 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 385 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 385, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:04:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 16:04:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 16:04:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,273 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\gestione porto L.task\i.txt
2021-03-06 16:19:01,278 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 706;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (706, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:04:23', 120));
2021-03-06 16:19:01,282 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\gestione porto L.task\i.txt
2021-03-06 16:19:01,282 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 249;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (249, 706, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:04:23', 120));
2021-03-06 16:19:01,285 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\spedizioni corrieri\gestione porto L.task\i.txt
2021-03-06 16:19:01,285 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 385 and file_name = 'porto L.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 385, 'porto L.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:41:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-15 16:41:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 16:41:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,289 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\gestione porto L.task\porto L.sql
2021-03-06 16:19:01,296 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 707;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (707, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-15 16:41:23', 120));
2021-03-06 16:19:01,300 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\gestione porto L.task\porto L.sql
2021-03-06 16:19:01,301 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 249) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:01,308 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'i resi no rip non devono andare in multicollo.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'i resi no rip non devono andare in multicollo.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,313 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\spedizioni corrieri\i resi no rip non devono andare in multicollo.task
2021-03-06 16:19:01,315 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 386 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 386, null, left('i resi no rip non devono andare in multicollo', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('i resi no rip non devono andare in multicollo', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('i resi no rip non devono andare in multicollo', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,320 [11] DEBUG dn_lib.tools.log - aggiunto task al database: i resi no rip non devono andare in multicollo
2021-03-06 16:19:01,321 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 386 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 386, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-02 10:22:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-02 10:22:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 10:22:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,326 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\i resi no rip non devono andare in multicollo.task\content.sql
2021-03-06 16:19:01,329 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 708;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (708, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-02 10:22:23', 120));
2021-03-06 16:19:01,332 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\i resi no rip non devono andare in multicollo.task\content.sql
2021-03-06 16:19:01,333 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 250) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:01,341 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'indirizzi senza provincia.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'indirizzi senza provincia.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,345 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\spedizioni corrieri\indirizzi senza provincia.task
2021-03-06 16:19:01,347 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 387 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 387, null, left('indirizzi senza provincia', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('indirizzi senza provincia', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('indirizzi senza provincia', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,353 [11] DEBUG dn_lib.tools.log - aggiunto task al database: indirizzi senza provincia
2021-03-06 16:19:01,354 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 387 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 387, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-24 08:43:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-24 08:43:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-24 08:43:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,358 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\indirizzi senza provincia.task\content.sql
2021-03-06 16:19:01,363 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 709;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (709, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-24 08:43:02', 120));
2021-03-06 16:19:01,366 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\indirizzi senza provincia.task\content.sql
2021-03-06 16:19:01,368 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 251) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:01,375 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'indirizzo spedizione bazzolo.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'indirizzo spedizione bazzolo.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,379 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\spedizioni corrieri\indirizzo spedizione bazzolo.task
2021-03-06 16:19:01,383 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 388 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 388, null, left('indirizzo spedizione bazzolo', 150)
            , 'molina', convert(datetime, '2020-07-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-29 00:00:00', 120), dt_upd = NULL
         , title = left('indirizzo spedizione bazzolo', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('indirizzo spedizione bazzolo', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,389 [11] DEBUG dn_lib.tools.log - aggiunto task al database: indirizzo spedizione bazzolo
2021-03-06 16:19:01,389 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 388 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 388, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 15:42:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-29 15:42:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 15:42:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,394 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\indirizzo spedizione bazzolo.task\i.txt
2021-03-06 16:19:01,400 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 710;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (710, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 15:42:39', 120));
2021-03-06 16:19:01,403 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\indirizzo spedizione bazzolo.task\i.txt
2021-03-06 16:19:01,404 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 252;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (252, 710, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 15:42:39', 120));
2021-03-06 16:19:01,406 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\spedizioni corrieri\indirizzo spedizione bazzolo.task\i.txt
2021-03-06 16:19:01,408 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 388 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 388, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 15:36:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-29 15:36:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 15:36:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,413 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\indirizzo spedizione bazzolo.task\sql.sql
2021-03-06 16:19:01,418 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 711;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (711, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-29 15:36:25', 120));
2021-03-06 16:19:01,421 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\indirizzo spedizione bazzolo.task\sql.sql
2021-03-06 16:19:01,421 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 252) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:01,428 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'mail di riepilogo spedizioni per ECOMMERCEPARTS .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'mail di riepilogo spedizioni per ECOMMERCEPARTS .task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,434 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\spedizioni corrieri\mail di riepilogo spedizioni per ECOMMERCEPARTS .task
2021-03-06 16:19:01,438 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 389 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 389, null, left('mail di riepilogo spedizioni per ECOMMERCEPARTS ', 150)
            , 'molina', convert(datetime, '2020-07-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', NULL, convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-30 00:00:00', 120), dt_upd = NULL
         , title = left('mail di riepilogo spedizioni per ECOMMERCEPARTS ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('mail di riepilogo spedizioni per ECOMMERCEPARTS ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,444 [11] DEBUG dn_lib.tools.log - aggiunto task al database: mail di riepilogo spedizioni per ECOMMERCEPARTS 
2021-03-06 16:19:01,445 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 389 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 389, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-30 15:41:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-30 15:41:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 15:41:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,449 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\mail di riepilogo spedizioni per ECOMMERCEPARTS .task\i.txt
2021-03-06 16:19:01,456 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 712;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (712, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-30 15:41:35', 120));
2021-03-06 16:19:01,459 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\mail di riepilogo spedizioni per ECOMMERCEPARTS .task\i.txt
2021-03-06 16:19:01,459 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 253;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (253, 712, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-30 15:41:35', 120));
2021-03-06 16:19:01,462 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\spedizioni corrieri\mail di riepilogo spedizioni per ECOMMERCEPARTS .task\i.txt
2021-03-06 16:19:01,463 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 389 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 389, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 12:33:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-31 12:33:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-31 12:33:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,468 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\mail di riepilogo spedizioni per ECOMMERCEPARTS .task\sql.sql
2021-03-06 16:19:01,473 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 713;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (713, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-31 12:33:04', 120));
2021-03-06 16:19:01,476 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\mail di riepilogo spedizioni per ECOMMERCEPARTS .task\sql.sql
2021-03-06 16:19:01,477 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 253) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:01,484 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'margine su tutti i corrieri.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'margine su tutti i corrieri.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,488 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\spedizioni corrieri\margine su tutti i corrieri.task
2021-03-06 16:19:01,490 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 390 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 390, null, left('margine su tutti i corrieri', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('margine su tutti i corrieri', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('margine su tutti i corrieri', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,496 [11] DEBUG dn_lib.tools.log - aggiunto task al database: margine su tutti i corrieri
2021-03-06 16:19:01,497 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 390 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 390, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-29 10:33:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-05-29 10:33:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-29 10:33:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,502 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\margine su tutti i corrieri.task\content.sql
2021-03-06 16:19:01,506 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 714;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (714, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-05-29 10:33:25', 120));
2021-03-06 16:19:01,509 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\margine su tutti i corrieri.task\content.sql
2021-03-06 16:19:01,510 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 254) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:01,517 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'NO e VB mettere il corriere da EPD a CTL.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'NO e VB mettere il corriere da EPD a CTL.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,523 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\spedizioni corrieri\NO e VB mettere il corriere da EPD a CTL.task
2021-03-06 16:19:01,524 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 391 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 391, null, left('NO e VB mettere il corriere da EPD a CTL', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('NO e VB mettere il corriere da EPD a CTL', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('NO e VB mettere il corriere da EPD a CTL', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,530 [11] DEBUG dn_lib.tools.log - aggiunto task al database: NO e VB mettere il corriere da EPD a CTL
2021-03-06 16:19:01,531 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 391 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 391, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 09:58:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-03 09:58:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-03 09:58:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,536 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\NO e VB mettere il corriere da EPD a CTL.task\content.sql
2021-03-06 16:19:01,541 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 715;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (715, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-03 09:58:14', 120));
2021-03-06 16:19:01,543 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\NO e VB mettere il corriere da EPD a CTL.task\content.sql
2021-03-06 16:19:01,545 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 255) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:01,553 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'risolvi errori.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'risolvi errori.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,557 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\spedizioni corrieri\risolvi errori.task
2021-03-06 16:19:01,562 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 392 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 392, null, left('risolvi errori', 150)
            , 'molina', convert(datetime, '2020-10-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-08 00:00:00', 120), dt_upd = NULL
         , title = left('risolvi errori', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('risolvi errori', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,568 [11] DEBUG dn_lib.tools.log - aggiunto task al database: risolvi errori
2021-03-06 16:19:01,571 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 392 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 392, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-08 15:58:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-08 15:58:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-08 15:58:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,575 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\risolvi errori.task\i.txt
2021-03-06 16:19:01,581 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 716;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (716, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-08 15:58:12', 120));
2021-03-06 16:19:01,584 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\risolvi errori.task\i.txt
2021-03-06 16:19:01,584 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 256;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (256, 716, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-08 15:58:12', 120));
2021-03-06 16:19:01,587 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\spedizioni corrieri\risolvi errori.task\i.txt
2021-03-06 16:19:01,588 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 256) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:01,595 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'spedizioni da annullare e rifare.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'spedizioni da annullare e rifare.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,600 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\spedizioni corrieri\spedizioni da annullare e rifare.task
2021-03-06 16:19:01,605 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 393 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 393, null, left('spedizioni da annullare e rifare', 150)
            , 'molina', convert(datetime, '2020-07-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-30 00:00:00', 120), dt_upd = NULL
         , title = left('spedizioni da annullare e rifare', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('spedizioni da annullare e rifare', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,610 [11] DEBUG dn_lib.tools.log - aggiunto task al database: spedizioni da annullare e rifare
2021-03-06 16:19:01,612 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 393 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 393, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-30 14:53:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-30 14:53:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 14:53:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,616 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\spedizioni da annullare e rifare.task\i.txt
2021-03-06 16:19:01,622 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 717;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (717, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-30 14:53:14', 120));
2021-03-06 16:19:01,626 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\spedizioni corrieri\spedizioni da annullare e rifare.task\i.txt
2021-03-06 16:19:01,626 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 257;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (257, 717, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-30 14:53:14', 120));
2021-03-06 16:19:01,629 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\spedizioni corrieri\spedizioni da annullare e rifare.task\i.txt
2021-03-06 16:19:01,629 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 257) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:01,636 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 374 
        and folder_name = 'stampa bolle di pi pagine.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 374, 'stampa bolle di pi pagine.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,641 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\spedizioni corrieri\stampa bolle di pi pagine.task
2021-03-06 16:19:01,644 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 394 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 394, null, left('stampa bolle di pi pagine', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('stampa bolle di pi pagine', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('stampa bolle di pi pagine', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,652 [11] DEBUG dn_lib.tools.log - aggiunto task al database: stampa bolle di pi pagine
2021-03-06 16:19:01,652 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 394 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 394, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-06-12 18:24:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-06-12 18:24:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-12 18:24:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,656 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\spedizioni corrieri\stampa bolle di pi pagine.task\i.txt
2021-03-06 16:19:01,657 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 258) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:01,665 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'statistiche';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'statistiche', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,669 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\statistiche
2021-03-06 16:19:01,670 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'aggiornamento mail venduto del giorno.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'aggiornamento mail venduto del giorno.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,674 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\statistiche\aggiornamento mail venduto del giorno.task
2021-03-06 16:19:01,679 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 396 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 396, null, left('aggiornamento mail venduto del giorno', 150)
            , 'molina', convert(datetime, '2020-10-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezza', convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-23 00:00:00', 120), dt_upd = NULL
         , title = left('aggiornamento mail venduto del giorno', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:14', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiornamento mail venduto del giorno', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,685 [11] DEBUG dn_lib.tools.log - aggiunto task al database: aggiornamento mail venduto del giorno
2021-03-06 16:19:01,686 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 396 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 396, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-23 16:23:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-23 16:23:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-23 16:23:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,691 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\aggiornamento mail venduto del giorno.task\i.txt
2021-03-06 16:19:01,697 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 719;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (719, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-23 16:23:35', 120));
2021-03-06 16:19:01,699 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\aggiornamento mail venduto del giorno.task\i.txt
2021-03-06 16:19:01,700 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 259;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (259, 719, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-23 16:23:35', 120));
2021-03-06 16:19:01,702 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\aggiornamento mail venduto del giorno.task\i.txt
2021-03-06 16:19:01,703 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 259) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:01,710 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'aggiunta colonne fatturato.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'aggiunta colonne fatturato.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,715 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\statistiche\aggiunta colonne fatturato.task
2021-03-06 16:19:01,722 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 397 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 397, null, left('aggiunta colonne fatturato', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, 'mezza', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunta colonne fatturato', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunta colonne fatturato', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,728 [11] DEBUG dn_lib.tools.log - aggiunto task al database: aggiunta colonne fatturato
2021-03-06 16:19:01,729 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 397 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 397, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 11:12:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-21 11:12:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-21 11:12:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,733 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\aggiunta colonne fatturato.task\i.txt
2021-03-06 16:19:01,740 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 720;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (720, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 11:12:07', 120));
2021-03-06 16:19:01,743 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\aggiunta colonne fatturato.task\i.txt
2021-03-06 16:19:01,744 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 260;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (260, 720, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 11:12:07', 120));
2021-03-06 16:19:01,746 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\aggiunta colonne fatturato.task\i.txt
2021-03-06 16:19:01,748 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 397 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 397, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 08:34:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-21 08:34:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-21 08:34:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,752 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\aggiunta colonne fatturato.task\sql.sql
2021-03-06 16:19:01,757 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 721;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (721, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-21 08:34:03', 120));
2021-03-06 16:19:01,761 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\aggiunta colonne fatturato.task\sql.sql
2021-03-06 16:19:01,762 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 260) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:01,769 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'carcasse mail riepilogo vendite.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'carcasse mail riepilogo vendite.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,773 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\statistiche\carcasse mail riepilogo vendite.task
2021-03-06 16:19:01,780 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 398 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 398, null, left('carcasse mail riepilogo vendite', 150)
            , 'molina', convert(datetime, '2021-01-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-25 00:00:00', 120), dt_upd = NULL
         , title = left('carcasse mail riepilogo vendite', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:14', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('carcasse mail riepilogo vendite', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,786 [11] DEBUG dn_lib.tools.log - aggiunto task al database: carcasse mail riepilogo vendite
2021-03-06 16:19:01,787 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 398 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 398, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-26 14:18:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-26 14:18:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-26 14:18:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,792 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\carcasse mail riepilogo vendite.task\i.txt
2021-03-06 16:19:01,798 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 722;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (722, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-26 14:18:21', 120));
2021-03-06 16:19:01,801 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\carcasse mail riepilogo vendite.task\i.txt
2021-03-06 16:19:01,802 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 261;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (261, 722, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-26 14:18:21', 120));
2021-03-06 16:19:01,805 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\carcasse mail riepilogo vendite.task\i.txt
2021-03-06 16:19:01,805 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 261) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:01,813 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'col019r non appare dopo il riordino dei pezzi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'col019r non appare dopo il riordino dei pezzi.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,820 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\statistiche\col019r non appare dopo il riordino dei pezzi.task
2021-03-06 16:19:01,826 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 399 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 399, null, left('col019r non appare dopo il riordino dei pezzi', 150)
            , 'molina', convert(datetime, '2020-08-18 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-18 00:00:00', 120), dt_upd = NULL
         , title = left('col019r non appare dopo il riordino dei pezzi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('col019r non appare dopo il riordino dei pezzi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,831 [11] DEBUG dn_lib.tools.log - aggiunto task al database: col019r non appare dopo il riordino dei pezzi
2021-03-06 16:19:01,832 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 399 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 399, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 12:16:44', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-18 12:16:44', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 12:16:44', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,836 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\col019r non appare dopo il riordino dei pezzi.task\i.txt
2021-03-06 16:19:01,844 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 723;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (723, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 12:16:44', 120));
2021-03-06 16:19:01,847 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\col019r non appare dopo il riordino dei pezzi.task\i.txt
2021-03-06 16:19:01,847 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 262;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (262, 723, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 12:16:44', 120));
2021-03-06 16:19:01,850 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\col019r non appare dopo il riordino dei pezzi.task\i.txt
2021-03-06 16:19:01,852 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 262) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:01,860 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'considerare le spese nella mail vendite.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'considerare le spese nella mail vendite.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:10', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,864 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\statistiche\considerare le spese nella mail vendite.task
2021-03-06 16:19:01,869 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 400 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 400, null, left('considerare le spese nella mail vendite', 150)
            , 'molina', convert(datetime, '2020-08-12 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', NULL, convert(datetime, '2021-03-02 22:40:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-12 00:00:00', 120), dt_upd = NULL
         , title = left('considerare le spese nella mail vendite', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:10', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-12 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('considerare le spese nella mail vendite', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,876 [11] DEBUG dn_lib.tools.log - aggiunto task al database: considerare le spese nella mail vendite
2021-03-06 16:19:01,877 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 400 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 400, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 14:21:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-13 14:21:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-13 14:21:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,881 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\considerare le spese nella mail vendite.task\i.txt
2021-03-06 16:19:01,887 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 724;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (724, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 14:21:23', 120));
2021-03-06 16:19:01,891 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\considerare le spese nella mail vendite.task\i.txt
2021-03-06 16:19:01,891 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 263;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (263, 724, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 14:21:23', 120));
2021-03-06 16:19:01,893 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\considerare le spese nella mail vendite.task\i.txt
2021-03-06 16:19:01,894 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 400 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 400, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 14:16:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-13 14:16:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-13 14:16:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,898 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\considerare le spese nella mail vendite.task\sql.sql
2021-03-06 16:19:01,904 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 725;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (725, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 14:16:21', 120));
2021-03-06 16:19:01,907 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\considerare le spese nella mail vendite.task\sql.sql
2021-03-06 16:19:01,908 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 263) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:01,916 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'fatturati manager non vanno per codice dipa.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'fatturati manager non vanno per codice dipa.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,921 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\statistiche\fatturati manager non vanno per codice dipa.task
2021-03-06 16:19:01,927 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 401 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 401, null, left('fatturati manager non vanno per codice dipa', 150)
            , 'molina', convert(datetime, '2020-08-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezzora', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-25 00:00:00', 120), dt_upd = NULL
         , title = left('fatturati manager non vanno per codice dipa', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('fatturati manager non vanno per codice dipa', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,933 [11] DEBUG dn_lib.tools.log - aggiunto task al database: fatturati manager non vanno per codice dipa
2021-03-06 16:19:01,933 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 264) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:01,941 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'fatturato manager - rivisitazione.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'fatturato manager - rivisitazione.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,945 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\statistiche\fatturato manager - rivisitazione.task
2021-03-06 16:19:01,950 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 402 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 402, null, left('fatturato manager - rivisitazione', 150)
            , 'molina', convert(datetime, '2020-08-12 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_giorni', convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-12 00:00:00', 120), dt_upd = NULL
         , title = left('fatturato manager - rivisitazione', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-12 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('fatturato manager - rivisitazione', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,956 [11] DEBUG dn_lib.tools.log - aggiunto task al database: fatturato manager - rivisitazione
2021-03-06 16:19:01,957 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 402 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 402, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 12:21:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-18 12:21:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-18 12:21:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,961 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\fatturato manager - rivisitazione.task\i.txt
2021-03-06 16:19:01,967 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 726;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (726, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 12:21:25', 120));
2021-03-06 16:19:01,970 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\fatturato manager - rivisitazione.task\i.txt
2021-03-06 16:19:01,970 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 265;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (265, 726, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-18 12:21:25', 120));
2021-03-06 16:19:01,973 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\fatturato manager - rivisitazione.task\i.txt
2021-03-06 16:19:01,974 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 265) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:01,982 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'grafico a torta.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'grafico a torta.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,988 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\statistiche\grafico a torta.task
2021-03-06 16:19:01,992 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 403 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 403, null, left('grafico a torta', 150)
            , 'molina', convert(datetime, '2020-08-18 00:00:00', 120), NULL, 1
            , 'sospeso', NULL, 'aggiunta', 'tre_giorni', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-18 00:00:00', 120), dt_upd = NULL
         , title = left('grafico a torta', 150), [user] = 'molina'
         , stato = 'sospeso', priorita = NULL
         , tipo = 'aggiunta', stima = 'tre_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-18 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('grafico a torta', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('sospeso', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('tre_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:01,998 [11] DEBUG dn_lib.tools.log - aggiunto task al database: grafico a torta
2021-03-06 16:19:01,999 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 403 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 403, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-19 09:07:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-19 09:07:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 09:07:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,003 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\grafico a torta.task\i.txt
2021-03-06 16:19:02,009 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 727;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (727, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-19 09:07:22', 120));
2021-03-06 16:19:02,012 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\grafico a torta.task\i.txt
2021-03-06 16:19:02,015 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 266;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (266, 727, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-19 09:07:22', 120));
2021-03-06 16:19:02,018 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\grafico a torta.task\i.txt
2021-03-06 16:19:02,019 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 403 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 403, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-29 15:57:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-01-29 15:57:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:57:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,024 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\grafico a torta.task\sql.sql
2021-03-06 16:19:02,029 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 728;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (728, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-01-29 15:57:34', 120));
2021-03-06 16:19:02,033 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\grafico a torta.task\sql.sql
2021-03-06 16:19:02,034 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 266) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:02,041 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'i codici MIX non sono inclusi nel fatturato.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'i codici MIX non sono inclusi nel fatturato.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,046 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\statistiche\i codici MIX non sono inclusi nel fatturato.task
2021-03-06 16:19:02,050 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 404 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 404, null, left('i codici MIX non sono inclusi nel fatturato', 150)
            , 'molina', convert(datetime, '2020-08-12 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-12 00:00:00', 120), dt_upd = NULL
         , title = left('i codici MIX non sono inclusi nel fatturato', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-12 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('i codici MIX non sono inclusi nel fatturato', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,055 [11] DEBUG dn_lib.tools.log - aggiunto task al database: i codici MIX non sono inclusi nel fatturato
2021-03-06 16:19:02,056 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 404 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 404, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 15:08:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-13 15:08:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-13 15:08:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,061 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\i codici MIX non sono inclusi nel fatturato.task\i.txt
2021-03-06 16:19:02,067 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 729;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (729, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 15:08:59', 120));
2021-03-06 16:19:02,071 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\i codici MIX non sono inclusi nel fatturato.task\i.txt
2021-03-06 16:19:02,072 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 267;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (267, 729, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 15:08:59', 120));
2021-03-06 16:19:02,074 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\i codici MIX non sono inclusi nel fatturato.task\i.txt
2021-03-06 16:19:02,075 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 404 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 404, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 17:34:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-13 17:34:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-13 17:34:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,080 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\i codici MIX non sono inclusi nel fatturato.task\sql.sql
2021-03-06 16:19:02,085 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 730;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (730, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-13 17:34:04', 120));
2021-03-06 16:19:02,088 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\i codici MIX non sono inclusi nel fatturato.task\sql.sql
2021-03-06 16:19:02,089 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 267) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:02,096 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'personale - vendite - categorie.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'personale - vendite - categorie.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:59', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,101 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\statistiche\personale - vendite - categorie.task
2021-03-06 16:19:02,105 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 405 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 405, null, left('personale - vendite - categorie', 150)
            , 'molina', convert(datetime, '2020-08-10 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:39:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-10 00:00:00', 120), dt_upd = NULL
         , title = left('personale - vendite - categorie', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:39:59', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-10 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('personale - vendite - categorie', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,111 [11] DEBUG dn_lib.tools.log - aggiunto task al database: personale - vendite - categorie
2021-03-06 16:19:02,112 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 405 and file_name = 'calcolo_media.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 405, 'calcolo_media.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-12 09:51:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-12 09:51:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-12 09:51:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,117 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\personale - vendite - categorie.task\calcolo_media.sql
2021-03-06 16:19:02,122 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 731;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (731, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-12 09:51:49', 120));
2021-03-06 16:19:02,125 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\personale - vendite - categorie.task\calcolo_media.sql
2021-03-06 16:19:02,125 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 405 and file_name = 'fatturati.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 405, 'fatturati.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-14 15:30:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-14 15:30:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-14 15:30:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,130 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\personale - vendite - categorie.task\fatturati.sql
2021-03-06 16:19:02,135 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 732;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (732, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-14 15:30:21', 120));
2021-03-06 16:19:02,139 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\personale - vendite - categorie.task\fatturati.sql
2021-03-06 16:19:02,140 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 405 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 405, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-12 11:38:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-12 11:38:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-12 11:38:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,144 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\personale - vendite - categorie.task\i.txt
2021-03-06 16:19:02,150 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 733;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (733, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-12 11:38:40', 120));
2021-03-06 16:19:02,154 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\personale - vendite - categorie.task\i.txt
2021-03-06 16:19:02,155 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 268;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (268, 733, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-12 11:38:40', 120));
2021-03-06 16:19:02,157 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\personale - vendite - categorie.task\i.txt
2021-03-06 16:19:02,158 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 405 and file_name = 'personale.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 405, 'personale.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-10 10:34:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-10 10:34:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-10 10:34:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,162 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\personale - vendite - categorie.task\personale.sql
2021-03-06 16:19:02,167 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 734;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (734, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-10 10:34:40', 120));
2021-03-06 16:19:02,170 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\personale - vendite - categorie.task\personale.sql
2021-03-06 16:19:02,171 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 405 and file_name = 'personale.xlsx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 405, 'personale.xlsx', '.xlsx', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-12 10:59:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-12 10:59:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-12 10:59:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,176 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\personale - vendite - categorie.task\personale.xlsx
2021-03-06 16:19:02,178 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 405 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 405, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-11 16:39:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-11 16:39:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-11 16:39:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,182 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\personale - vendite - categorie.task\sql.sql
2021-03-06 16:19:02,190 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 736;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (736, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-11 16:39:21', 120));
2021-03-06 16:19:02,192 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\personale - vendite - categorie.task\sql.sql
2021-03-06 16:19:02,193 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 268) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:02,200 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'report categorie magazzino da chiudere.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'report categorie magazzino da chiudere.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,205 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\statistiche\report categorie magazzino da chiudere.task
2021-03-06 16:19:02,210 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 406 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 406, null, left('report categorie magazzino da chiudere', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('report categorie magazzino da chiudere', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('report categorie magazzino da chiudere', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,215 [11] DEBUG dn_lib.tools.log - aggiunto task al database: report categorie magazzino da chiudere
2021-03-06 16:19:02,217 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 406 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 406, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-19 16:16:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-19 16:16:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 16:16:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,220 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\report categorie magazzino da chiudere.task\sql.sql
2021-03-06 16:19:02,225 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 737;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (737, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-19 16:16:05', 120));
2021-03-06 16:19:02,228 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\report categorie magazzino da chiudere.task\sql.sql
2021-03-06 16:19:02,229 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 269) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:02,237 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'revisione mail venduto.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'revisione mail venduto.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,242 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\statistiche\revisione mail venduto.task
2021-03-06 16:19:02,247 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 407 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 407, null, left('revisione mail venduto', 150)
            , 'molina', convert(datetime, '2020-10-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-15 00:00:00', 120), dt_upd = NULL
         , title = left('revisione mail venduto', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione mail venduto', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,253 [11] DEBUG dn_lib.tools.log - aggiunto task al database: revisione mail venduto
2021-03-06 16:19:02,253 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 407 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 407, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-19 10:15:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-19 10:15:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-19 10:15:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,257 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\revisione mail venduto.task\i.txt
2021-03-06 16:19:02,265 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 738;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (738, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-19 10:15:40', 120));
2021-03-06 16:19:02,269 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\revisione mail venduto.task\i.txt
2021-03-06 16:19:02,269 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 270;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (270, 738, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-19 10:15:40', 120));
2021-03-06 16:19:02,272 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\revisione mail venduto.task\i.txt
2021-03-06 16:19:02,272 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 270) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:02,280 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'riepilogo e somme spese finali sulla mail del venduto.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'riepilogo e somme spese finali sulla mail del venduto.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,284 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\statistiche\riepilogo e somme spese finali sulla mail del venduto.task
2021-03-06 16:19:02,290 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 408 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 408, null, left('riepilogo e somme spese finali sulla mail del venduto', 150)
            , 'molina', convert(datetime, '2020-08-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', NULL, convert(datetime, '2021-03-02 22:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-14 00:00:00', 120), dt_upd = NULL
         , title = left('riepilogo e somme spese finali sulla mail del venduto', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:45:12', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('riepilogo e somme spese finali sulla mail del venduto', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,295 [11] DEBUG dn_lib.tools.log - aggiunto task al database: riepilogo e somme spese finali sulla mail del venduto
2021-03-06 16:19:02,296 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 408 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 408, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-14 17:47:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-14 17:47:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-14 17:47:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,300 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\riepilogo e somme spese finali sulla mail del venduto.task\i.txt
2021-03-06 16:19:02,306 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 739;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (739, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-14 17:47:49', 120));
2021-03-06 16:19:02,310 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\riepilogo e somme spese finali sulla mail del venduto.task\i.txt
2021-03-06 16:19:02,310 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 271;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (271, 739, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-14 17:47:49', 120));
2021-03-06 16:19:02,313 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\riepilogo e somme spese finali sulla mail del venduto.task\i.txt
2021-03-06 16:19:02,314 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 271) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:02,321 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'rimanenze di magazzino nei fatturati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'rimanenze di magazzino nei fatturati.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,325 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\statistiche\rimanenze di magazzino nei fatturati.task
2021-03-06 16:19:02,331 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 409 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 409, null, left('rimanenze di magazzino nei fatturati', 150)
            , 'molina', convert(datetime, '2020-08-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'ora', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-26 00:00:00', 120), dt_upd = NULL
         , title = left('rimanenze di magazzino nei fatturati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rimanenze di magazzino nei fatturati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,337 [11] DEBUG dn_lib.tools.log - aggiunto task al database: rimanenze di magazzino nei fatturati
2021-03-06 16:19:02,339 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 409 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 409, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-26 14:26:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-26 14:26:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-26 14:26:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,343 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\rimanenze di magazzino nei fatturati.task\i.txt
2021-03-06 16:19:02,349 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 740;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (740, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-26 14:26:14', 120));
2021-03-06 16:19:02,352 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\rimanenze di magazzino nei fatturati.task\i.txt
2021-03-06 16:19:02,353 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 272;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (272, 740, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-26 14:26:14', 120));
2021-03-06 16:19:02,356 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\rimanenze di magazzino nei fatturati.task\i.txt
2021-03-06 16:19:02,357 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 272) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:02,364 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'segnalazione prodotti invenduti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'segnalazione prodotti invenduti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,368 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\statistiche\segnalazione prodotti invenduti.task
2021-03-06 16:19:02,373 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 410 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 410, null, left('segnalazione prodotti invenduti', 150)
            , 'molina', convert(datetime, '2020-08-25 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'ora', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-25 00:00:00', 120), dt_upd = NULL
         , title = left('segnalazione prodotti invenduti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-25 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('segnalazione prodotti invenduti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,378 [11] DEBUG dn_lib.tools.log - aggiunto task al database: segnalazione prodotti invenduti
2021-03-06 16:19:02,379 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 410 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 410, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-26 16:42:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-26 16:42:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-26 16:42:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,384 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\segnalazione prodotti invenduti.task\i.txt
2021-03-06 16:19:02,390 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 741;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (741, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-26 16:42:31', 120));
2021-03-06 16:19:02,394 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\segnalazione prodotti invenduti.task\i.txt
2021-03-06 16:19:02,396 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 273;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (273, 741, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-26 16:42:31', 120));
2021-03-06 16:19:02,399 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\segnalazione prodotti invenduti.task\i.txt
2021-03-06 16:19:02,400 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 410 and file_name = 'prodotti invenduti.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 410, 'prodotti invenduti.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-25 12:22:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-08-25 12:22:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-25 12:22:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,405 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\segnalazione prodotti invenduti.task\prodotti invenduti.sql
2021-03-06 16:19:02,409 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 742;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (742, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-08-25 12:22:59', 120));
2021-03-06 16:19:02,412 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\segnalazione prodotti invenduti.task\prodotti invenduti.sql
2021-03-06 16:19:02,413 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 273) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:02,420 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'sistemata mail venduto.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'sistemata mail venduto.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,424 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\statistiche\sistemata mail venduto.task
2021-03-06 16:19:02,430 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 411 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 411, null, left('sistemata mail venduto', 150)
            , 'molina', convert(datetime, '2020-10-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-09 00:00:00', 120), dt_upd = NULL
         , title = left('sistemata mail venduto', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('sistemata mail venduto', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,435 [11] DEBUG dn_lib.tools.log - aggiunto task al database: sistemata mail venduto
2021-03-06 16:19:02,437 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 411 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 411, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-09 12:38:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-09 12:38:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-09 12:38:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,442 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\sistemata mail venduto.task\i.txt
2021-03-06 16:19:02,448 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 743;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (743, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-09 12:38:12', 120));
2021-03-06 16:19:02,451 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\sistemata mail venduto.task\i.txt
2021-03-06 16:19:02,452 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 274;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (274, 743, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-09 12:38:12', 120));
2021-03-06 16:19:02,455 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\sistemata mail venduto.task\i.txt
2021-03-06 16:19:02,457 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 274) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:02,464 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'statistiche articoli duplicati fornitori.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'statistiche articoli duplicati fornitori.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:13', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,468 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\statistiche\statistiche articoli duplicati fornitori.task
2021-03-06 16:19:02,474 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 412 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 412, null, left('statistiche articoli duplicati fornitori', 150)
            , 'molina', convert(datetime, '2020-10-02 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:45:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-02 00:00:00', 120), dt_upd = NULL
         , title = left('statistiche articoli duplicati fornitori', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:45:13', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('statistiche articoli duplicati fornitori', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,479 [11] DEBUG dn_lib.tools.log - aggiunto task al database: statistiche articoli duplicati fornitori
2021-03-06 16:19:02,480 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 412 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 412, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-05 09:39:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-05 09:39:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-05 09:39:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,484 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\statistiche articoli duplicati fornitori.task\i.txt
2021-03-06 16:19:02,491 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 744;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (744, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-05 09:39:43', 120));
2021-03-06 16:19:02,495 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\statistiche articoli duplicati fornitori.task\i.txt
2021-03-06 16:19:02,495 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 275;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (275, 744, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-05 09:39:43', 120));
2021-03-06 16:19:02,497 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\statistiche articoli duplicati fornitori.task\i.txt
2021-03-06 16:19:02,498 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 412 and file_name = 'task.statistiche schede duplicate.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 412, 'task.statistiche schede duplicate.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-05 09:38:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-10-05 09:38:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-05 09:38:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,503 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\statistiche articoli duplicati fornitori.task\task.statistiche schede duplicate.sql
2021-03-06 16:19:02,508 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 745;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (745, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-10-05 09:38:12', 120));
2021-03-06 16:19:02,512 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\statistiche articoli duplicati fornitori.task\task.statistiche schede duplicate.sql
2021-03-06 16:19:02,512 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 275) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:02,520 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'statistiche ricerca codici.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'statistiche ricerca codici.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,525 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\statistiche\statistiche ricerca codici.task
2021-03-06 16:19:02,529 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 413 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 413, null, left('statistiche ricerca codici', 150)
            , 'molina', convert(datetime, '2021-02-02 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'giornata', convert(datetime, '2021-03-02 22:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-02-02 00:00:00', 120), dt_upd = NULL
         , title = left('statistiche ricerca codici', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:45:14', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-02-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('statistiche ricerca codici', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,535 [11] DEBUG dn_lib.tools.log - aggiunto task al database: statistiche ricerca codici
2021-03-06 16:19:02,536 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 413 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 413, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-02-02 10:34:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-02 10:34:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,540 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\statistiche ricerca codici.task\i.txt
2021-03-06 16:19:02,548 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 746;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (746, '.txt', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:43', 120));
2021-03-06 16:19:02,550 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\statistiche ricerca codici.task\i.txt
2021-03-06 16:19:02,551 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_tasks_notes where task_id = 276;
      insert into dn_tasks_notes (task_id, file_id, content, dt_ins, dt_lwt)
        values (276, 746, @content
          , convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:43', 120));
2021-03-06 16:19:02,553 [11] DEBUG dn_lib.tools.log - salvate le note del task nel database: C:\root\todd\_test\dn\statistiche\statistiche ricerca codici.task\i.txt
2021-03-06 16:19:02,554 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 413 and file_name = 'my-search.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 413, 'my-search.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-02-02 10:34:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-02 10:34:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,559 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\statistiche ricerca codici.task\my-search.sql
2021-03-06 16:19:02,564 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 747;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (747, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:50', 120));
2021-03-06 16:19:02,567 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\statistiche ricerca codici.task\my-search.sql
2021-03-06 16:19:02,567 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 413 and file_name = 'search-procs.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 413, 'search-procs.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-02-02 10:34:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-02 10:34:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,572 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\statistiche ricerca codici.task\search-procs.sql
2021-03-06 16:19:02,580 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 748;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (748, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:56', 120));
2021-03-06 16:19:02,583 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\statistiche ricerca codici.task\search-procs.sql
2021-03-06 16:19:02,584 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 413 and file_name = 'search.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 413, 'search.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-02-02 10:34:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-02 10:34:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,588 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\statistiche ricerca codici.task\search.sql
2021-03-06 16:19:02,595 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 749;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (749, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-02-02 10:34:55', 120));
2021-03-06 16:19:02,598 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\statistiche ricerca codici.task\search.sql
2021-03-06 16:19:02,599 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 276) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:02,606 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 395 
        and folder_name = 'suffissi SN non gestiti.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 395, 'suffissi SN non gestiti.task', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2021-03-02 22:39:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,611 [11] DEBUG dn_lib.tools.log - aggiunto folder al database: C:\root\todd\_test\dn\statistiche\suffissi SN non gestiti.task
2021-03-06 16:19:02,616 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 414 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 414, null, left('suffissi SN non gestiti', 150)
            , 'molina', convert(datetime, '2020-07-02 00:00:00', 120), NULL, 1
            , 'fatto', 'alta', 'fix', NULL, convert(datetime, '2021-03-02 22:39:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-02 00:00:00', 120), dt_upd = NULL
         , title = left('suffissi SN non gestiti', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('suffissi SN non gestiti', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,622 [11] DEBUG dn_lib.tools.log - aggiunto task al database: suffissi SN non gestiti
2021-03-06 16:19:02,623 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 414 and file_name = 'sn.jpg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 414, 'sn.jpg', '.jpg', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-02 08:34:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-02 08:34:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 08:34:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,627 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\suffissi SN non gestiti.task\sn.jpg
2021-03-06 16:19:02,627 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 414 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 414, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-09 15:27:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-09 15:27:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-09 15:27:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,632 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\suffissi SN non gestiti.task\sql.sql
2021-03-06 16:19:02,637 [11] DEBUG dn_lib.tools.log - SQL: delete from dn_files_contents where file_id = 751;
        insert into dn_files_contents (file_id, extension, content, dt_ins, dt_lwt)
          values (751, '.sql', @content, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-09 15:27:14', 120));
2021-03-06 16:19:02,640 [11] DEBUG dn_lib.tools.log - salvato contenuto file nel database: C:\root\todd\_test\dn\statistiche\suffissi SN non gestiti.task\sql.sql
2021-03-06 16:19:02,641 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 414 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 414, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-08 10:16:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-08 10:16:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-08 10:16:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,645 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\suffissi SN non gestiti.task\Thumbs.db
2021-03-06 16:19:02,647 [11] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 414 and file_name = 'vendite.html';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 414, 'vendite.html', '.html', 1, convert(datetime, '2021-03-06 16:17:47', 120), convert(datetime, '2020-07-01 19:32:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:47', 120), dt_lwt = convert(datetime, '2020-07-01 19:32:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:47', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-01 19:32:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:02,652 [11] DEBUG dn_lib.tools.log - aggiunto file al database: C:\root\todd\_test\dn\statistiche\suffissi SN non gestiti.task\vendite.html
2021-03-06 16:19:02,653 [11] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 277) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:02,661 [11] DEBUG dn_lib.tools.log - SQL: declare @cc_files int; declare @cc_folders int;
      select @cc_files = (select count(*) from dn_files where readed is null) 
      select @cc_folders = (select count(*) from dn_folders where readed is null)
      
      delete from dn_folders where readed is null;
      delete from dn_files where readed is null;
      delete fc from dn_files_contents fc
       where not exists (select top 1 1 from dn_files where file_id = fc.file_id);
      delete from dn_tasks where readed is null;
      delete tn from dn_tasks_notes tn
       where not exists (select top 1 1 from dn_tasks where task_id = tn.task_id);
      select @cc_files, @cc_folders;
2021-03-06 16:19:02,676 [11] DEBUG dn_lib.tools.log - cancellati dal database: 1 files
2021-03-06 16:19:02,677 [11] DEBUG dn_lib.tools.log - cancellati dal database: 1 folders
2021-03-06 16:19:02,679 [11] DEBUG dn_lib.tools.log - SQL: if not exists (select top 1 1 from users_cache where [user_id] = -1 and var_name = 'synch-files')
        insert into users_cache ([user_id], var_name, var_value)
          values (-1, 'synch-files', '1028')
        else update users_cache set var_value = substring('1028', 1, 500), dt_upd = getdate()
          where [user_id] = -1 and var_name = 'synch-files'
2021-03-06 16:19:02,684 [11] DEBUG dn_lib.tools.log - SQL: if not exists (select top 1 1 from users_cache where [user_id] = -1 and var_name = 'synch-folders')
        insert into users_cache ([user_id], var_name, var_value)
          values (-1, 'synch-folders', '413')
        else update users_cache set var_value = substring('413', 1, 500), dt_upd = getdate()
          where [user_id] = -1 and var_name = 'synch-folders'
2021-03-06 16:19:02,687 [11] DEBUG dn_lib.tools.log - SQL: if not exists (select top 1 1 from users_cache where [user_id] = -1 and var_name = 'synch-lwt')
        insert into users_cache ([user_id], var_name, var_value)
          values (-1, 'synch-lwt', '2021/03/04 15:22:27')
        else update users_cache set var_value = substring('2021/03/04 15:22:27', 1, 500), dt_upd = getdate()
          where [user_id] = -1 and var_name = 'synch-lwt'
2021-03-06 16:19:02,690 [11] DEBUG dn_lib.tools.log - SQL: if not exists (select top 1 1 from users_cache where [user_id] = -1 and var_name = 'synch-last')
        insert into users_cache ([user_id], var_name, var_value)
          values (-1, 'synch-last', '2021/03/06 16:19:02')
        else update users_cache set var_value = substring('2021/03/06 16:19:02', 1, 500), dt_upd = getdate()
          where [user_id] = -1 and var_name = 'synch-last'
2021-03-06 16:19:11,660 [14] INFO dn_lib.tools.log - reload config docs
2021-03-06 16:19:11,661 [14] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:19:11,662 [14] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:19:11,663 [14] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:19:11,663 [14] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:19:11,664 [14] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:19:11,665 [14] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:19:11,665 [14] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:19:11,666 [14] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:19:11,667 [14] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:19:11,667 [14] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:19:11,668 [14] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:19:11,668 [14] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:19:11,669 [14] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:19:11,669 [14] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:19:11,670 [14] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:19:11,670 [14] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:19:11,671 [14] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:19:11,671 [14] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:19:11,672 [14] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:19:11,672 [14] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:19:11,673 [14] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:19:11,674 [14] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:19:11,675 [14] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:19:11,676 [14] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:19:11,677 [14] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-06 16:19:12,240 [15] INFO dn_lib.tools.log - reload config docs
2021-03-06 16:19:12,242 [15] INFO dn_lib.tools.log - load xml config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:19:12,243 [15] INFO dn_lib.tools.log - load xml config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:19:12,245 [15] INFO dn_lib.tools.log - load xml config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:19:12,246 [15] INFO dn_lib.tools.log - load xml config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:19:12,247 [15] INFO dn_lib.tools.log - load xml config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:19:12,249 [15] INFO dn_lib.tools.log - load xml config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:19:12,249 [15] INFO dn_lib.tools.log - load xml config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:19:12,250 [15] INFO dn_lib.tools.log - load xml config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:19:12,250 [15] INFO dn_lib.tools.log - load vars doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:19:12,251 [15] INFO dn_lib.tools.log - load vars doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:19:12,252 [15] INFO dn_lib.tools.log - load vars doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:19:12,252 [15] INFO dn_lib.tools.log - load vars doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:19:12,253 [15] INFO dn_lib.tools.log - load vars doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:19:12,253 [15] INFO dn_lib.tools.log - load vars doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:19:12,254 [15] INFO dn_lib.tools.log - load vars doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:19:12,254 [15] INFO dn_lib.tools.log - load vars doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:19:12,255 [15] INFO dn_lib.tools.log - load config doc: \defs\blocks.xml - C:\root\todd\git\dn\deepanotes\defs\blocks.xml
2021-03-06 16:19:12,255 [15] INFO dn_lib.tools.log - load config doc: \defs\cmds.xml - C:\root\todd\git\dn\deepanotes\defs\cmds.xml
2021-03-06 16:19:12,256 [15] INFO dn_lib.tools.log - load config doc: \defs\lib-base.xml - C:\root\todd\git\dn\deepanotes\defs\lib-base.xml
2021-03-06 16:19:12,256 [15] INFO dn_lib.tools.log - load config doc: \defs\lib-conns.xml - C:\root\todd\git\dn\deepanotes\defs\lib-conns.xml
2021-03-06 16:19:12,257 [15] INFO dn_lib.tools.log - load config doc: \defs\lib-notes.xml - C:\root\todd\git\dn\deepanotes\defs\lib-notes.xml
2021-03-06 16:19:12,257 [15] INFO dn_lib.tools.log - load config doc: \defs\lib-synch.xml - C:\root\todd\git\dn\deepanotes\defs\lib-synch.xml
2021-03-06 16:19:12,258 [15] INFO dn_lib.tools.log - load config doc: \defs\lib-vars.xml - C:\root\todd\git\dn\deepanotes\defs\lib-vars.xml
2021-03-06 16:19:12,259 [15] INFO dn_lib.tools.log - load config doc: \defs\users.xml - C:\root\todd\git\dn\deepanotes\defs\users.xml
2021-03-06 16:19:12,259 [15] DEBUG dn_lib.tools.log - SQL: open conn 'Data Source=localhost;Initial Catalog=deepanotes;User ID=sa;Password=Molina32!'
2021-03-06 16:19:12,267 [15] DEBUG dn_lib.tools.log - SQL: select distinct lower(nome) as nome from users
2021-03-06 16:19:12,269 [15] DEBUG dn_lib.tools.log - SQL: select free_txt, stato, priorita, tipo, stima, (case when [default] = 1 then '1' else '0' end) as [default]
        from dn_task_free_labels 
2021-03-06 16:19:12,270 [15] DEBUG dn_lib.tools.log - SQL: select file_name, type_info from dn_files_info
2021-03-06 16:19:12,270 [15] DEBUG dn_lib.tools.log - SQL: select extension, des_extension, open_comment, close_comment, type_content from dn_files_types
2021-03-06 16:19:12,271 [15] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = -1 and var_name in ('synch-files')
2021-03-06 16:19:12,272 [15] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = -1 and var_name in ('synch-folders')
2021-03-06 16:19:12,273 [15] DEBUG dn_lib.tools.log - SQL: select var_name, var_value 
          from users_cache where [user_id] = -1 and var_name in ('synch-lwt')
2021-03-06 16:19:12,273 [15] DEBUG dn_lib.tools.log - SQL: select sf.synch_folder_id, sf.pc_name, sf.[title], sf.[des], sf.local_path, sf.http_path, sf.[user], sf.[password]
        from synch_folders sf where sf.pc_name = 'MOLINOVO' order by sf.[title]
2021-03-06 16:19:12,338 [15] DEBUG dn_lib.tools.log - elenco cartelle da sincronizzare
2021-03-06 16:19:12,339 [15] DEBUG dn_lib.tools.log - SQL: select sf.synch_folder_id, sf.pc_name, sf.[title], sf.[des], sf.local_path, sf.http_path, sf.[user], sf.[password]
        from synch_folders sf where sf.pc_name = 'MOLINOVO' order by sf.[title]
2021-03-06 16:19:12,340 [15] DEBUG dn_lib.tools.log -    - cartella di sincronizzazione 'dipa notess' - Deepa Notes, path: C:\root\todd\_test\dn
2021-03-06 16:19:12,341 [15] DEBUG dn_lib.tools.log - SQL: update dn_folders set readed = null;
      update dn_files set readed = null;
      update dn_tasks set readed = null;
2021-03-06 16:19:12,350 [15] DEBUG dn_lib.tools.log - elaboro la cartella C:\root\todd\_test\dn...
2021-03-06 16:19:12,351 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'aggiornamento dati';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'aggiornamento dati', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,354 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 2 
        and folder_name = 'via i prezzi custom di mapfre.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 2, 'via i prezzi custom di mapfre.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,358 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 3 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 3, null, left('via i prezzi custom di mapfre', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('via i prezzi custom di mapfre', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:35', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('via i prezzi custom di mapfre', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,360 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 3 and file_name = 'via i prezzi mapfre custom.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 3, 'via i prezzi mapfre custom.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-26 16:00:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-26 16:00:11', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-26 16:00:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,363 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 2) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,373 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'cauzioni';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'cauzioni', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,377 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'condizione particolare tecnodue .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'condizione particolare tecnodue .task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,380 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 5 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 5, null, left('condizione particolare tecnodue ', 150)
            , 'molina', convert(datetime, '2020-07-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', NULL, convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-30 00:00:00', 120), dt_upd = NULL
         , title = left('condizione particolare tecnodue ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('condizione particolare tecnodue ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,382 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 5 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 5, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 10:08:51', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-30 10:08:51', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 10:08:51', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,385 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 5 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 5, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 11:50:49', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-30 11:50:49', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 11:50:49', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,388 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 3) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,395 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'elimina note interne dopo invio mail.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'elimina note interne dopo invio mail.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,399 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 6 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 6, null, left('elimina note interne dopo invio mail', 150)
            , 'molina', convert(datetime, '2020-07-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-29 00:00:00', 120), dt_upd = NULL
         , title = left('elimina note interne dopo invio mail', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('elimina note interne dopo invio mail', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,400 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 6 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 6, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 16:10:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-29 16:10:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 16:10:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,404 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 4) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,411 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'errore - riferimento a un oggetto non impostato sul rientro.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'errore - riferimento a un oggetto non impostato sul rientro.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,414 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 7 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 7, null, left('errore - riferimento a un oggetto non impostato sul rientro', 150)
            , 'molina', convert(datetime, '2020-07-27 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-27 00:00:00', 120), dt_upd = NULL
         , title = left('errore - riferimento a un oggetto non impostato sul rientro', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('errore - riferimento a un oggetto non impostato sul rientro', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,416 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 7 and file_name = 'dipa-20200727.log';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 7, 'dipa-20200727.log', '.log', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 12:18:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-27 12:18:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 12:18:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,418 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 7 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 7, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 15:33:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-27 15:33:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 15:33:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,422 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 7 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 7, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-27 15:30:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-27 15:30:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-27 15:30:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,425 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 5) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,432 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'etichette automatiche arrivi resi.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'etichette automatiche arrivi resi.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,435 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 8 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 8, null, left('etichette automatiche arrivi resi', 150)
            , 'molina', convert(datetime, '2020-09-23 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-23 00:00:00', 120), dt_upd = NULL
         , title = left('etichette automatiche arrivi resi', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-23 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('etichette automatiche arrivi resi', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,437 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 8 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 8, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-23 14:50:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-23 14:50:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-23 14:50:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,440 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 6) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,447 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'filtro anno e altre cosette.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'filtro anno e altre cosette.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,450 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 9 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 9, null, left('filtro anno e altre cosette', 150)
            , 'molina', convert(datetime, '2020-11-16 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-16 00:00:00', 120), dt_upd = NULL
         , title = left('filtro anno e altre cosette', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-16 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('filtro anno e altre cosette', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,452 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 9 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 9, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-16 08:43:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-16 08:43:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-16 08:43:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,455 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 7) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,463 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'mail in automatico al cliente per le garanzie anticipate.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'mail in automatico al cliente per le garanzie anticipate.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:35', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,466 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 10 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 10, null, left('mail in automatico al cliente per le garanzie anticipate', 150)
            , 'molina', convert(datetime, '2020-07-07 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:39:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-07 00:00:00', 120), dt_upd = NULL
         , title = left('mail in automatico al cliente per le garanzie anticipate', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:35', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-07 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('mail in automatico al cliente per le garanzie anticipate', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,468 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 10 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 10, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-07 09:55:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-07 09:55:47', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-07 09:55:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,471 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 8) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,479 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'non voglio pi vedere la pratica.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'non voglio pi vedere la pratica.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,482 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 11 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 11, null, left('non voglio pi vedere la pratica', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('non voglio pi vedere la pratica', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('non voglio pi vedere la pratica', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,484 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 11 and file_name = 'i.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 11, 'i.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-26 16:30:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-26 16:30:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 16:30:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,488 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 11 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 11, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-29 08:37:26', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-29 08:37:26', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-29 08:37:26', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,490 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 9) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,497 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'pagina magento reso carcassa.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'pagina magento reso carcassa.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,500 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 12 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 12, null, left('pagina magento reso carcassa', 150)
            , 'molina', convert(datetime, '2020-09-24 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'settimana', convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-24 00:00:00', 120), dt_upd = NULL
         , title = left('pagina magento reso carcassa', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'settimana', dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('pagina magento reso carcassa', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('settimana', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,502 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 12 
        and folder_name = 'bck';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 12, 'bck', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,505 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 13 and file_name = 'mysql.bck.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 13, 'mysql.bck.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-24 12:33:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-24 12:33:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-24 12:33:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,508 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 13 and file_name = 'rpc-index.bck.php';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 13, 'rpc-index.bck.php', '.php', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-24 11:00:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-24 11:00:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-24 11:00:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,511 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 13 and file_name = 'scheduler.bck.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 13, 'scheduler.bck.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-24 10:57:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-24 10:57:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-24 10:57:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,514 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 10) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,521 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 12 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 12, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-19 11:12:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-19 11:12:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-19 11:12:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,525 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 12 and file_name = 'mysql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 12, 'mysql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-25 14:33:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-25 14:33:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-25 14:33:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,527 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 12 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 12, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-08 14:54:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-08 14:54:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-08 14:54:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,530 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 10) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,532 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'revisione cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'revisione cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,535 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 14 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 14, null, left('revisione cauzioni', 150)
            , 'molina', convert(datetime, '2020-09-04 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'giornata', convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-04 00:00:00', 120), dt_upd = NULL
         , title = left('revisione cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-04 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,537 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 14 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 14, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-11 16:52:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-11 16:52:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-11 16:52:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,540 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 14 and file_name = 'lavs_resi.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 14, 'lavs_resi.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-08 17:20:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-08 17:20:41', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-08 17:20:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,543 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 11) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,552 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'revisione colonne griglia cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'revisione colonne griglia cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:38', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,555 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 15 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 15, null, left('revisione colonne griglia cauzioni', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('revisione colonne griglia cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:38', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione colonne griglia cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,556 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 15 and file_name = 'img.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 15, 'img.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-26 11:53:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-26 11:53:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-26 11:53:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,559 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 12) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,566 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'ricerca lavorazioni e gestione note.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'ricerca lavorazioni e gestione note.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,569 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 16 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 16, null, left('ricerca lavorazioni e gestione note', 150)
            , 'molina', convert(datetime, '2020-09-17 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'giornata', convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-17 00:00:00', 120), dt_upd = NULL
         , title = left('ricerca lavorazioni e gestione note', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'giornata', dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-17 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ricerca lavorazioni e gestione note', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('giornata', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,571 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 13) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,579 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'ritocchi cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'ritocchi cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,582 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 17 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 17, null, left('ritocchi cauzioni', 150)
            , 'molina', convert(datetime, '2020-09-21 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-21 00:00:00', 120), dt_upd = NULL
         , title = left('ritocchi cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-21 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ritocchi cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,584 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 17 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 17, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-21 09:13:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-21 09:13:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-21 09:13:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,588 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 14) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,595 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 4 
        and folder_name = 'SI-NO-URGENTE nella griglia cauzioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 4, 'SI-NO-URGENTE nella griglia cauzioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:37', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,598 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 18 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 18, null, left('SI-NO-URGENTE nella griglia cauzioni', 150)
            , 'molina', convert(datetime, '2020-09-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-14 00:00:00', 120), dt_upd = NULL
         , title = left('SI-NO-URGENTE nella griglia cauzioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:37', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('SI-NO-URGENTE nella griglia cauzioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,600 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 18 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 18, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-15 14:12:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-15 14:12:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-15 14:12:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,603 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 15) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,610 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'crm';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'crm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,614 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 19 
        and folder_name = 'gestione codici pi ricercati.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 19, 'gestione codici pi ricercati.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,616 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 20 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 20, null, left('gestione codici pi ricercati', 150)
            , 'molina', convert(datetime, '2020-11-02 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-11-02 00:00:00', 120), dt_upd = NULL
         , title = left('gestione codici pi ricercati', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-11-02 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione codici pi ricercati', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,618 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 20 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 20, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-11-02 16:32:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-11-02 16:32:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-11-02 16:32:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,621 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 16) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,629 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 19 
        and folder_name = 'pulizia crm.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 19, 'pulizia crm.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,633 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 21 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 21, null, left('pulizia crm', 150)
            , 'molina', convert(datetime, '2020-05-26 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-05-26 00:00:00', 120), dt_upd = NULL
         , title = left('pulizia crm', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-05-26 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('pulizia crm', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,635 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 21 
        and folder_name = '_oldies';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 21, '_oldies', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,643 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'App_Code';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'App_Code', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,645 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 23 and file_name = 'backup.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 23, 'backup.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-12-13 15:11:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-12-13 15:11:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-12-13 15:11:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,648 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 23 and file_name = 'db_utilities.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 23, 'db_utilities.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-26 10:47:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-26 10:47:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-26 10:47:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,651 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,659 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'pages';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'pages', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,662 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'recovery.aspx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'recovery.aspx', '.aspx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-10-20 17:46:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-10-20 17:46:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-20 17:46:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,665 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'recovery.aspx.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'recovery.aspx.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-26 10:46:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-26 10:46:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-26 10:46:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,668 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'rifs.aspx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'rifs.aspx', '.aspx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-05-08 14:05:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-05-08 14:05:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-05-08 14:05:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,670 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'rifs.aspx.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'rifs.aspx.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-09-16 17:25:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-09-16 17:25:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-09-16 17:25:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,673 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'sys.css';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'sys.css', '.css', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,676 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'tables.aspx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'tables.aspx', '.aspx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-05-08 14:05:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-05-08 14:05:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-05-08 14:05:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,680 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 24 and file_name = 'tables.aspx.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 24, 'tables.aspx.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2018-09-21 17:44:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2018-09-21 17:44:37', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-09-21 17:44:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,682 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,684 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'pages_xml';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'pages_xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:11', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,687 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 25 and file_name = 'pageBackup.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 25, 'pageBackup.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,690 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 25 and file_name = 'pageBackupImport.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 25, 'pageBackupImport.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,693 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 25 and file_name = 'pageBackups.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 25, 'pageBackups.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-25 17:12:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-25 17:12:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-25 17:12:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,696 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 25 and file_name = 'pageImport.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 25, 'pageImport.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-10-16 14:49:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-10-16 14:49:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-10-16 14:49:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,699 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,700 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'schemas';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'schemas', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,703 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td19_metaq1.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td19_metaq1.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-06-27 17:35:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-06-27 17:35:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-06-27 17:35:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,707 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td19_schemaq1.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td19_schemaq1.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-06-27 17:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-06-27 17:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-06-27 17:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,710 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'tdsql_metaq3.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'tdsql_metaq3.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-05-13 07:49:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-05-13 07:49:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-05-13 07:49:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,713 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'tdsql_schemaq3.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'tdsql_schemaq3.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2017-05-13 08:52:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2017-05-13 08:52:35', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2017-05-13 08:52:35', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,716 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_metaq1.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_metaq1.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:05:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:05:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:05:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,719 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_metaq2.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_metaq2.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:05:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:05:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:05:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,722 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_metaq3.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_metaq3.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:05:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:05:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:05:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,725 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_schemaq1.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_schemaq1.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:04:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:04:57', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:04:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,728 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_schemaq2.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_schemaq2.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-10 21:06:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-10 21:06:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-10 21:06:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,731 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'td_schemaq3.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'td_schemaq3.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-10-07 16:41:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-10-07 16:41:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-10-07 16:41:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,733 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'web_meta2016.05.01.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'web_meta2016.05.01.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-10-04 10:03:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-10-04 10:03:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-10-04 10:03:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,736 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 26 and file_name = 'web_schema2016.05.01.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 26, 'web_schema2016.05.01.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-08 10:20:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-08 10:20:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-08 10:20:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,739 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,740 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 22 
        and folder_name = 'scripts';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 22, 'scripts', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:12', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,744 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'clean_all.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'clean_all.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,746 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'clean_cache.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'clean_cache.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,749 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'clean_zz.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'clean_zz.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,752 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'initweb.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'initweb.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,755 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_codici_attivo.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_codici_attivo.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-22 10:16:33', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-22 10:16:33', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-22 10:16:33', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,758 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_enums.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_enums.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2018-09-21 15:17:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2018-09-21 15:17:36', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2018-09-21 15:17:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,761 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_ricerche.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_ricerche.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-11-09 16:11:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-11-09 16:11:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-11-09 16:11:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,764 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_tpusers.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_tpusers.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,767 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'init_users.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'init_users.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,769 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 27 and file_name = 'resetdb.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 27, 'resetdb.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2016-06-20 11:30:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2016-06-20 11:30:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2016-06-20 11:30:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,772 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,773 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,775 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 17) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,777 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'ditex';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'ditex', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,780 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 28 
        and folder_name = 'struttura base, pagine web, tabelle.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 28, 'struttura base, pagine web, tabelle.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,783 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 29 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 29, null, left('struttura base, pagine web, tabelle', 150)
            , 'molina', convert(datetime, '2020-12-04 00:00:00', 120), NULL, 1
            , 'sospeso', NULL, 'aggiunta', 'settimana', convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-12-04 00:00:00', 120), dt_upd = NULL
         , title = left('struttura base, pagine web, tabelle', 150), [user] = 'molina'
         , stato = 'sospeso', priorita = NULL
         , tipo = 'aggiunta', stima = 'settimana', dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-12-04 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('struttura base, pagine web, tabelle', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('sospeso', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('settimana', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,785 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 29 and file_name = 'Circolare 4E Agenzia Entrate Iperammortamento 30-03-2017.pdf';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 29, 'Circolare 4E Agenzia Entrate Iperammortamento 30-03-2017.pdf', '.pdf', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-20 16:01:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-20 16:01:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-20 16:01:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,787 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 29 and file_name = 'ditex.msg';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 29, 'ditex.msg', '.msg', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-20 16:01:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-20 16:01:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-20 16:01:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,790 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 29 and file_name = 'ERAGON-COMMESSE.doc';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 29, 'ERAGON-COMMESSE.doc', '.doc', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-20 16:01:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-20 16:01:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-20 16:01:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,792 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 29 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 29, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-12-14 11:06:05', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-12-14 11:06:05', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-12-14 11:06:05', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,794 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 18) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,802 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'estrazioni';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'estrazioni', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,805 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 30 
        and folder_name = 'estrazione dati kromeda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 30, 'estrazione dati kromeda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,808 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 31 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 31, null, left('estrazione dati kromeda', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('estrazione dati kromeda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('estrazione dati kromeda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,810 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 31 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 31, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 12:24:23', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 12:24:23', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 12:24:23', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,813 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 19) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,820 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'lavorazioni';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'lavorazioni', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:45:44', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:45:44', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:45:44', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,823 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'accetta lavorazione senza invio mail.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'accetta lavorazione senza invio mail.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,826 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 33 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 33, null, left('accetta lavorazione senza invio mail', 150)
            , 'molina', convert(datetime, '2020-07-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-08 00:00:00', 120), dt_upd = NULL
         , title = left('accetta lavorazione senza invio mail', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('accetta lavorazione senza invio mail', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,828 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 33 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 33, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-09 10:09:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-09 10:09:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-09 10:09:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,831 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 20) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,838 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'aggiunto passaggio da ritirare.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'aggiunto passaggio da ritirare.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,842 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 34 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 34, null, left('aggiunto passaggio da ritirare', 150)
            , 'molina', convert(datetime, '2020-09-01 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezzora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-01 00:00:00', 120), dt_upd = NULL
         , title = left('aggiunto passaggio da ritirare', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-01 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('aggiunto passaggio da ritirare', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,844 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 34 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 34, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-01 11:06:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-01 11:06:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-01 11:06:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,847 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 34 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 34, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-01 11:07:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-01 11:07:18', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-01 11:07:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,850 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 21) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,857 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'controlli uploat sito.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'controlli uploat sito.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,860 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 35 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 35, null, left('controlli uploat sito', 150)
            , 'molina', convert(datetime, '2020-10-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-09 00:00:00', 120), dt_upd = NULL
         , title = left('controlli uploat sito', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('controlli uploat sito', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,863 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 35 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 35, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-09 16:42:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-09 16:42:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-09 16:42:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,865 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 22) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,872 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'data aggiornamento lavorazioni sul sito.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'data aggiornamento lavorazioni sul sito.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,876 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 36 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 36, null, left('data aggiornamento lavorazioni sul sito', 150)
            , 'molina', convert(datetime, '2020-09-03 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezzora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-03 00:00:00', 120), dt_upd = NULL
         , title = left('data aggiornamento lavorazioni sul sito', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-03 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('data aggiornamento lavorazioni sul sito', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,878 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 36 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 36, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-03 10:37:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-03 10:37:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-03 10:37:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,880 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 23) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,889 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'facilitare l''uso del reso no rip.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'facilitare l''uso del reso no rip.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,892 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 37 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 37, null, left('facilitare l''uso del reso no rip', 150)
            , 'molina', convert(datetime, '2020-07-01 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', 'mezza', convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-01 00:00:00', 120), dt_upd = NULL
         , title = left('facilitare l''uso del reso no rip', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:40:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-01 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('facilitare l''uso del reso no rip', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,894 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 37 and file_name = '1.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 37, '1.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-01 16:41:08', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-01 16:41:08', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-01 16:41:08', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,898 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 37 and file_name = '2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 37, '2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-01 16:41:19', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-01 16:41:19', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-01 16:41:19', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,900 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 37 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 37, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-02 14:27:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-02 14:27:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-02 14:27:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,903 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 24) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,911 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'gestione porta lui.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'gestione porta lui.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,914 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 38 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 38, null, left('gestione porta lui', 150)
            , 'molina', convert(datetime, '2020-09-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'facile', 'ora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-15 00:00:00', 120), dt_upd = NULL
         , title = left('gestione porta lui', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione porta lui', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,917 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 25) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,924 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'gestione tasto INVIO note cliente.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'gestione tasto INVIO note cliente.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,927 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 39 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 39, null, left('gestione tasto INVIO note cliente', 150)
            , 'molina', convert(datetime, '2020-09-14 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-14 00:00:00', 120), dt_upd = NULL
         , title = left('gestione tasto INVIO note cliente', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-14 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione tasto INVIO note cliente', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,929 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 39 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 39, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-14 15:58:02', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-14 15:58:02', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-14 15:58:02', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,932 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 26) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,940 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'lavorazioni - mail inchiodata.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'lavorazioni - mail inchiodata.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,944 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 40 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 40, null, left('lavorazioni - mail inchiodata', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('lavorazioni - mail inchiodata', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('lavorazioni - mail inchiodata', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,946 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 40 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 40, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-27 10:27:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-27 10:27:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-27 10:27:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,948 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 27) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,955 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'ma i numeri di telefono da dove arrivano.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'ma i numeri di telefono da dove arrivano.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:41', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,959 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 41 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 41, null, left('ma i numeri di telefono da dove arrivano', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('ma i numeri di telefono da dove arrivano', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:41', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ma i numeri di telefono da dove arrivano', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,961 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 41 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 41, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 09:24:12', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 09:24:12', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 09:24:12', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,964 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 41 and file_name = 'tel lav.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 41, 'tel lav.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-09 17:47:43', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-09 17:47:43', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-09 17:47:43', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,967 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 41 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 41, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-20 15:06:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-20 15:06:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-20 15:06:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,970 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 28) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,977 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'mail - prenota ritiri errata.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'mail - prenota ritiri errata.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,980 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 42 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 42, null, left('mail - prenota ritiri errata', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'fix', NULL, convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('mail - prenota ritiri errata', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('mail - prenota ritiri errata', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,982 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 42 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 42, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-05 09:29:44', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-05 09:29:44', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-05 09:29:44', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,985 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 29) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:12,993 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'modifica codici scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'modifica codici scheda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,996 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 43 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 43, null, left('modifica codici scheda', 150)
            , 'molina', convert(datetime, '2020-09-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'due_ore', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-29 00:00:00', 120), dt_upd = NULL
         , title = left('modifica codici scheda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('modifica codici scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,997 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 43 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 43, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-29 17:55:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-29 17:55:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-29 17:55:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:12,999 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 30) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,008 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'nuova scheda - aggiungere anche il reso.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'nuova scheda - aggiungere anche il reso.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,011 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 44 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 44, null, left('nuova scheda - aggiungere anche il reso', 150)
            , 'molina', convert(datetime, '2020-07-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'due_ore', convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-08 00:00:00', 120), dt_upd = NULL
         , title = left('nuova scheda - aggiungere anche il reso', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuova scheda - aggiungere anche il reso', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,013 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 31) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,020 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'nuovo campo no spese.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'nuovo campo no spese.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,024 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 45 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 45, null, left('nuovo campo no spese', 150)
            , 'molina', convert(datetime, '2021-01-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezzora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-01-15 00:00:00', 120), dt_upd = NULL
         , title = left('nuovo campo no spese', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-01-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuovo campo no spese', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,026 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 45 and file_name = '1.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 45, '1.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 17:35:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-15 17:35:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 17:35:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,029 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 45 and file_name = '2.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 45, '2.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 17:35:03', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-15 17:35:03', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 17:35:03', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,032 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 45 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 45, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 17:34:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-15 17:34:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 17:34:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,034 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 32) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,041 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'nuovo ordine RESO NON ACCETTATO.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'nuovo ordine RESO NON ACCETTATO.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,045 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 46 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 46, null, left('nuovo ordine RESO NON ACCETTATO', 150)
            , 'molina', convert(datetime, '2020-09-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-28 00:00:00', 120), dt_upd = NULL
         , title = left('nuovo ordine RESO NON ACCETTATO', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuovo ordine RESO NON ACCETTATO', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,046 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 46 and file_name = 'task.spese di gestione.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 46, 'task.spese di gestione.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-28 15:16:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-28 15:16:15', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-28 15:16:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,049 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 33) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,056 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'nuovo tipo di lavorazione RESO DA CLIENTE.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'nuovo tipo di lavorazione RESO DA CLIENTE.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,059 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 47 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 47, null, left('nuovo tipo di lavorazione RESO DA CLIENTE', 150)
            , 'molina', convert(datetime, '2020-07-08 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', NULL, convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-08 00:00:00', 120), dt_upd = NULL
         , title = left('nuovo tipo di lavorazione RESO DA CLIENTE', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-08 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('nuovo tipo di lavorazione RESO DA CLIENTE', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,062 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 47 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 47, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-08 15:29:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-08 15:29:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-08 15:29:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,065 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 34) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,071 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'pdf lavorazione senza intestazione cliente.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'pdf lavorazione senza intestazione cliente.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,074 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 48 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 48, null, left('pdf lavorazione senza intestazione cliente', 150)
            , 'molina', convert(datetime, '2020-06-24 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'facile', NULL, convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-24 00:00:00', 120), dt_upd = NULL
         , title = left('pdf lavorazione senza intestazione cliente', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'facile', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('pdf lavorazione senza intestazione cliente', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('facile', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,077 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 35) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,084 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'poter cambiare una lavorazione da GAR a LAV.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'poter cambiare una lavorazione da GAR a LAV.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,087 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 49 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 49, null, left('poter cambiare una lavorazione da GAR a LAV', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('poter cambiare una lavorazione da GAR a LAV', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('poter cambiare una lavorazione da GAR a LAV', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,090 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 49 and file_name = 'content.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 49, 'content.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-24 15:46:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-24 15:46:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-24 15:46:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,092 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 49 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 49, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,095 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 36) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,102 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'poter inserire anche files pdf o altro oltre alle immagini.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'poter inserire anche files pdf o altro oltre alle immagini.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:41', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,105 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 50 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 50, null, left('poter inserire anche files pdf o altro oltre alle immagini', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('poter inserire anche files pdf o altro oltre alle immagini', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:41', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('poter inserire anche files pdf o altro oltre alle immagini', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,107 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 37) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,114 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'poter scaricare le immagini dalla scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'poter scaricare le immagini dalla scheda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:41', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,118 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 51 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 51, null, left('poter scaricare le immagini dalla scheda', 150)
            , 'molina', NULL, NULL, 1
            , 'da_fare', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('poter scaricare le immagini dalla scheda', 150), [user] = 'molina'
         , stato = 'da_fare', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:41', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('poter scaricare le immagini dalla scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('da_fare', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,120 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 38) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,127 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'revisione ritiri in rosso.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'revisione ritiri in rosso.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,130 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 52 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 52, null, left('revisione ritiri in rosso', 150)
            , 'molina', convert(datetime, '2020-09-09 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezzora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-09 00:00:00', 120), dt_upd = NULL
         , title = left('revisione ritiri in rosso', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezzora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-09 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('revisione ritiri in rosso', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezzora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,132 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 52 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 52, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-09 09:52:07', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-09 09:52:07', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-09 09:52:07', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,135 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 39) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,143 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rinomina DIP.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rinomina DIP.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:41', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:41', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,147 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 53 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 53, null, left('rinomina DIP', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:41', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('rinomina DIP', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:41', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rinomina DIP', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,149 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 53 and file_name = '1.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 53, '1.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-03 17:42:57', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-03 17:42:57', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-03 17:42:57', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,152 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 53 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 53, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-03 18:06:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-03 18:06:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-03 18:06:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,154 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 53 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 53, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-05 23:11:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-05 23:11:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-05 23:11:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,157 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 40) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,164 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'ritiri rossi in errore.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'ritiri rossi in errore.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,168 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 54 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 54, null, left('ritiri rossi in errore', 150)
            , 'molina', convert(datetime, '2020-07-29 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-29 00:00:00', 120), dt_upd = NULL
         , title = left('ritiri rossi in errore', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-29 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('ritiri rossi in errore', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,170 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 54 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 54, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 17:13:45', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-29 17:13:45', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 17:13:45', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,172 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 54 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 54, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 17:11:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-29 17:11:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 17:11:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,176 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 41) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,183 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rivisitazione colonna lavorazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rivisitazione colonna lavorazioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,186 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 55 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 55, null, left('rivisitazione colonna lavorazioni', 150)
            , 'molina', convert(datetime, '2021-02-04 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'mezza', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2021-02-04 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione colonna lavorazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-02-04 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione colonna lavorazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,188 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 55 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 55, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-05 14:29:21', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-05 14:29:21', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-05 14:29:21', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,191 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 55 and file_name = 'lavs.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 55, 'lavs.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-02-04 15:24:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-02-04 15:24:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-02-04 15:24:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,194 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 42) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,201 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rivisitazione flusso schede.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rivisitazione flusso schede.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,204 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 56 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 56, null, left('rivisitazione flusso schede', 150)
            , 'molina', convert(datetime, '2020-08-28 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', NULL, convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-28 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione flusso schede', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-28 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione flusso schede', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,206 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 56 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 56, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-31 08:20:30', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-31 08:20:30', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-31 08:20:30', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,209 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 43) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,216 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rivisitazione lavorazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rivisitazione lavorazioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,220 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 57 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 57, null, left('rivisitazione lavorazioni', 150)
            , 'molina', convert(datetime, '2020-08-27 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'fix', 'mezza', convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-27 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione lavorazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'fix', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-27 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione lavorazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,222 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 57 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 57, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-28 10:57:53', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-28 10:57:53', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-28 10:57:53', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,224 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 44) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,231 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'rivisitazione telefoni scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'rivisitazione telefoni scheda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,235 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 58 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 58, null, left('rivisitazione telefoni scheda', 150)
            , 'molina', convert(datetime, '2020-10-01 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'revisione', 'ora', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-10-01 00:00:00', 120), dt_upd = NULL
         , title = left('rivisitazione telefoni scheda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'revisione', stima = 'ora', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-10-01 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('rivisitazione telefoni scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('revisione', '') or isnull(stima, '') <> isnull('ora', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,236 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 58 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 58, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-10-01 16:25:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-10-01 16:25:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-10-01 16:25:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,239 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 45) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,246 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'selezione da sito dell''indirizzo ritiro lavorazioni.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'selezione da sito dell''indirizzo ritiro lavorazioni.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,250 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 59 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 59, null, left('selezione da sito dell''indirizzo ritiro lavorazioni', 150)
            , 'molina', convert(datetime, '2020-06-15 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-06-15 00:00:00', 120), dt_upd = NULL
         , title = left('selezione da sito dell''indirizzo ritiro lavorazioni', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:39:36', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-06-15 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('selezione da sito dell''indirizzo ritiro lavorazioni', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,252 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 59 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 59, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-29 17:49:28', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-29 17:49:28', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-29 17:49:28', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,255 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 59 and file_name = 'img.png';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 59, 'img.png', '.png', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-15 08:31:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-15 08:31:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-15 08:31:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,258 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 59 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 59, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-08 14:51:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-08 14:51:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-08 14:51:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,261 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 59 and file_name = 'Thumbs.db';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 59, 'Thumbs.db', '.db', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-06-15 08:34:01', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-06-15 08:34:01', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-06-15 08:34:01', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,264 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 46) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,271 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'stampa etichette codice scheda.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'stampa etichette codice scheda.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:40', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,275 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 60 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 60, null, left('stampa etichette codice scheda', 150)
            , 'molina', convert(datetime, '2020-09-16 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'aggiunta', 'mezza', convert(datetime, '2021-03-02 22:44:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-09-16 00:00:00', 120), dt_upd = NULL
         , title = left('stampa etichette codice scheda', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'mezza', dt_lwt_index = convert(datetime, '2021-03-02 22:44:40', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-09-16 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('stampa etichette codice scheda', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('mezza', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,277 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 60 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 60, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-09-16 16:51:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-09-16 16:51:39', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-09-16 16:51:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,280 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 47) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,287 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 32 
        and folder_name = 'visualizzare telefono - mail nelle domande.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 32, 'visualizzare telefono - mail nelle domande.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:39', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:39', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,290 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 61 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 61, null, left('visualizzare telefono - mail nelle domande', 150)
            , 'molina', convert(datetime, '2020-08-19 00:00:00', 120), NULL, 1
            , 'fatto', NULL, NULL, NULL, convert(datetime, '2021-03-02 22:44:39', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-08-19 00:00:00', 120), dt_upd = NULL
         , title = left('visualizzare telefono - mail nelle domande', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = NULL, stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:44:39', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-08-19 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('visualizzare telefono - mail nelle domande', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull(NULL, '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,292 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 61 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 61, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 11:26:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 11:26:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 11:26:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,296 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 61 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 61, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-08-19 11:26:20', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-08-19 11:26:20', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-08-19 11:26:20', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,298 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 48) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,305 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id is null 
        and folder_name = 'magazzino';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, null, 'magazzino', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,308 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'bertello - melo refresci.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'bertello - melo refresci.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:47', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:47', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,311 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 63 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 63, null, left('bertello - melo refresci', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', 'alta', 'fix', 'due_ore', convert(datetime, '2021-03-02 22:44:47', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('bertello - melo refresci', 150), [user] = 'molina'
         , stato = 'fatto', priorita = 'alta'
         , tipo = 'fix', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:44:47', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('bertello - melo refresci', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull('alta', '') 
          or isnull(tipo, '') <> isnull('fix', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,313 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 63 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 63, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-15 08:39:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-15 08:39:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-15 08:39:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,316 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 49) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,324 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'carico dei codici DIP nel pedonale.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'carico dei codici DIP nel pedonale.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:40:09', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:40:09', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,327 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 64 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 64, null, left('carico dei codici DIP nel pedonale', 150)
            , 'molina', convert(datetime, '2020-07-30 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'controllo', NULL, convert(datetime, '2021-03-02 22:40:09', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-30 00:00:00', 120), dt_upd = NULL
         , title = left('carico dei codici DIP nel pedonale', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'controllo', stima = NULL, dt_lwt_index = convert(datetime, '2021-03-02 22:40:09', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-30 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('carico dei codici DIP nel pedonale', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('controllo', '') or isnull(stima, '') <> isnull(NULL, ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,329 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 64 and file_name = 'i.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 64, 'i.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-30 14:22:55', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-30 14:22:55', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-30 14:22:55', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,332 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 50) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,340 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'gestione nuovo magazzino pallets.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'gestione nuovo magazzino pallets.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:44:42', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:44:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,343 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 65 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 65, null, left('gestione nuovo magazzino pallets', 150)
            , 'molina', NULL, NULL, 1
            , 'fatto', NULL, 'aggiunta', 'tre_giorni', convert(datetime, '2021-03-02 22:44:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = NULL, dt_upd = NULL
         , title = left('gestione nuovo magazzino pallets', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'aggiunta', stima = 'tre_giorni', dt_lwt_index = convert(datetime, '2021-03-02 22:44:42', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(NULL, getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gestione nuovo magazzino pallets', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('tre_giorni', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,345 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 65 and file_name = 'dipaQuoteXY_trl2.xlsx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 65, 'dipaQuoteXY_trl2.xlsx', '.xlsx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-05-07 16:34:25', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-05-07 16:34:25', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-05-07 16:34:25', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,348 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 65 and file_name = 'patch.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 65, 'patch.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-08 09:26:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-08 09:26:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-08 09:26:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,351 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 65 and file_name = 'script_bck.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 65, 'script_bck.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-07 12:22:22', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-07 12:22:22', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-07 12:22:22', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,353 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 65 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 65, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-08 09:25:31', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-08 09:25:31', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-08 09:25:31', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,356 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 51) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,364 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'gli ordini in viola li deve processare nino .task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'gli ordini in viola li deve processare nino .task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:58', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,368 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 66 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 66, null, left('gli ordini in viola li deve processare nino ', 150)
            , 'molina', convert(datetime, '2020-07-06 00:00:00', 120), NULL, 1
            , 'fatto', NULL, 'modifica', 'due_ore', convert(datetime, '2021-03-02 22:39:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-07-06 00:00:00', 120), dt_upd = NULL
         , title = left('gli ordini in viola li deve processare nino ', 150), [user] = 'molina'
         , stato = 'fatto', priorita = NULL
         , tipo = 'modifica', stima = 'due_ore', dt_lwt_index = convert(datetime, '2021-03-02 22:39:58', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-07-06 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(NULL, getdate())
          or isnull(title, '') <> isnull('gli ordini in viola li deve processare nino ', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('fatto', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('modifica', '') or isnull(stima, '') <> isnull('due_ore', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,370 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 66 and file_name = 'sql.sql';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 66, 'sql.sql', '.sql', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-07-06 09:30:11', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-07-06 09:30:11', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-07-06 09:30:11', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,373 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 52) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,380 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 62 
        and folder_name = 'leds magazzino elettronico.task';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 62, 'leds magazzino elettronico.task', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-03-02 22:39:36', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-03-02 22:39:36', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-03-02 22:39:36', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,383 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = task_id from dn_tasks where isnull(folder_id, 0) = 67 and isnull(file_id, 0) = 0;
      if(@id is null)
      begin
        insert into dn_tasks (synch_folder_id, folder_id, file_id, title, [user], dt_ins, dt_upd, readed, stato, priorita, tipo, stima, dt_lwt_index)
          values (1, 67, null, left('leds magazzino elettronico', 150)
            , 'molina', convert(datetime, '2020-01-24 00:00:00', 120), convert(datetime, '2021-03-03 14:40:35', 120), 1
            , 'in_corso', NULL, 'aggiunta', 'settimana', convert(datetime, '2021-03-03 14:40:35', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_tasks set readed = 1 where task_id = @id;
       set ROWCOUNT 0;
       update dn_tasks set dt_ins = convert(datetime, '2020-01-24 00:00:00', 120), dt_upd = convert(datetime, '2021-03-03 14:40:35', 120)
         , title = left('leds magazzino elettronico', 150), [user] = 'molina'
         , stato = 'in_corso', priorita = NULL
         , tipo = 'aggiunta', stima = 'settimana', dt_lwt_index = convert(datetime, '2021-03-03 14:40:35', 120)
        where task_id = @id
         and (isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2020-01-24 00:00:00', 120), getdate()) 
          or isnull(dt_upd, getdate()) < isnull(convert(datetime, '2021-03-03 14:40:35', 120), getdate())
          or isnull(title, '') <> isnull('leds magazzino elettronico', '') or isnull([user], '') <> isnull('molina', '') 
          or isnull(stato, '') <> isnull('in_corso', '') or isnull(priorita, '') <> isnull(NULL, '') 
          or isnull(tipo, '') <> isnull('aggiunta', '') or isnull(stima, '') <> isnull('settimana', ''))
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,385 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 67 
        and folder_name = 'PickToLight';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 67, 'PickToLight', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:18', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:18', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:18', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,388 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 68 
        and folder_name = 'cs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 68, 'cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,391 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 69 
        and folder_name = 'LsSample1a';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 69, 'LsSample1a', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,393 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 70 
        and folder_name = '.vs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 70, '.vs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,396 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 71 
        and folder_name = 'LsSample1a';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 71, 'LsSample1a', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,399 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 72 
        and folder_name = 'v15';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 72, 'v15', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,402 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 73 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 73, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,404 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 74 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 74, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,407 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 75 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 75, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,409 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 75 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 75, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,412 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 75 and file_name = 'storage.ide-shm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 75, 'storage.ide-shm', '.ide-shm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,416 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 75 and file_name = 'storage.ide-wal';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 75, 'storage.ide-wal', '.ide-wal', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:59', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:59', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:59', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,417 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,425 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,426 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 73 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 73, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:00:37', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:00:37', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:00:37', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,430 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,431 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 72 
        and folder_name = 'v16';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 72, 'v16', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,434 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 76 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 76, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,436 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 77 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 77, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,439 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 78 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 78, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:38', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:38', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:38', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,442 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 78 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 78, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:04:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:04:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:04:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,445 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,446 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,448 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 76 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 76, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:04:04', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:04:04', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:04:04', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,451 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,453 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,454 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,455 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 70 
        and folder_name = 'Backup';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 70, 'Backup', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,458 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 79 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 79, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,460 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 80 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 80, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,463 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 80 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 80, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,465 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 80 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 80, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,469 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 80 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 80, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,472 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 80 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 80, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,474 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,475 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 79 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 79, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:38:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:38:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:38:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,479 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 79 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 79, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:38:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:38:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:38:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,481 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 79 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 79, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:38:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:38:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:38:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,484 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 79 and file_name = 'LsSample1a.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 79, 'LsSample1a.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-11 16:03:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-11 16:03:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-11 16:03:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,487 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 79 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 79, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,489 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,491 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 70 
        and folder_name = 'bin';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 70, 'bin', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,494 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 81 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 81, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,497 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 82 and file_name = 'AioiSystems.Lightstep.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 82, 'AioiSystems.Lightstep.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-22 16:39:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-22 16:39:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-22 16:39:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,500 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 82 and file_name = 'AioiSystems.Lightstep.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 82, 'AioiSystems.Lightstep.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2012-06-29 10:53:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2012-06-29 10:53:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2012-06-29 10:53:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,503 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 82 and file_name = 'LsSample1a.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 82, 'LsSample1a.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,505 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 82 and file_name = 'LsSample1a.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 82, 'LsSample1a.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,508 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,510 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,511 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 70 
        and folder_name = 'obj';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 70, 'obj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,514 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 83 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 83, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,517 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 84 
        and folder_name = 'TempPE';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 84, 'TempPE', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,521 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 85 and file_name = 'Properties.Resources.Designer.cs.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 85, 'Properties.Resources.Designer.cs.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,522 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,524 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'DesignTimeResolveAssemblyReferences.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'DesignTimeResolveAssemblyReferences.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 17:39:56', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 17:39:56', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 17:39:56', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,527 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'DesignTimeResolveAssemblyReferencesInput.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'DesignTimeResolveAssemblyReferencesInput.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:33:46', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:33:46', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:33:46', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,529 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.csproj.CopyComplete';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.csproj.CopyComplete', '.copycomplete', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,533 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.csproj.CoreCompileInputs.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.csproj.CoreCompileInputs.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,535 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.csproj.FileListAbsolute.txt';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.csproj.FileListAbsolute.txt', '.txt', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:50', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:50', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:50', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,538 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.csproj.GenerateResource.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.csproj.GenerateResource.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,541 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.csprojAssemblyReference.cache';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.csprojAssemblyReference.cache', '.cache', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 16:25:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 16:25:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 16:25:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,544 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,546 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.Form1.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.Form1.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,549 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,553 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 84 and file_name = 'LsSample1a.Properties.Resources.resources';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 84, 'LsSample1a.Properties.Resources.resources', '.resources', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:48', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:48', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:48', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,556 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,557 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,558 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 70 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 70, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:14', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,561 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 86 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 86, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,564 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 86 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 86, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,568 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 86 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 86, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,570 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 86 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 86, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,573 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 86 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 86, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,576 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,577 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 11:03:10', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 11:03:10', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 11:03:10', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,580 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,583 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-23 10:58:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-23 10:58:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-23 10:58:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,586 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'LsSample1a.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'LsSample1a.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,588 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'LsSample1a.sln';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'LsSample1a.sln', '.sln', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,591 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,593 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 70 and file_name = 'UpgradeLog.htm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 70, 'UpgradeLog.htm', '.htm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:39:34', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:39:34', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:39:34', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,597 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,598 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 69 
        and folder_name = 'LsSample1b';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 69, 'LsSample1b', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,600 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 87 
        and folder_name = '.vs';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 87, '.vs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,604 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 88 
        and folder_name = 'LsSample1b';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 88, 'LsSample1b', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,607 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 89 
        and folder_name = 'v15';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 89, 'v15', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,609 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 90 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 90, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,612 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 91 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 91, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,616 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 92 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 92, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:13', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:13', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:13', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,618 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 92 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 92, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,621 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 92 and file_name = 'storage.ide-shm';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 92, 'storage.ide-shm', '.ide-shm', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,623 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 92 and file_name = 'storage.ide-wal';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 92, 'storage.ide-wal', '.ide-wal', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:14', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:14', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:14', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,626 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,628 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,629 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 90 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 90, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:02:29', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:02:29', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:02:29', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,632 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,633 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 89 
        and folder_name = 'v16';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 89, 'v16', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,636 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 93 
        and folder_name = 'Server';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 93, 'Server', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,639 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 94 
        and folder_name = 'sqlite3';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 94, 'sqlite3', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,642 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 95 and file_name = 'db.lock';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 95, 'db.lock', '.lock', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:40', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:40', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:40', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,645 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 95 and file_name = 'storage.ide';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 95, 'storage.ide', '.ide', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 16:41:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 16:41:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 16:41:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,647 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,648 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,650 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 93 and file_name = '.suo';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 93, '.suo', '.suo', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2019-11-27 18:15:32', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2019-11-27 18:15:32', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2019-11-27 18:15:32', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,653 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,655 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,657 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,658 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 87 
        and folder_name = 'Backup';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 87, 'Backup', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,661 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 96 
        and folder_name = 'Properties';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 96, 'Properties', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,664 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 97 and file_name = 'AssemblyInfo.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 97, 'AssemblyInfo.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,667 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 97 and file_name = 'Resources.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 97, 'Resources.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 17:35:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 17:35:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 17:35:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,670 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 97 and file_name = 'Resources.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 97, 'Resources.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:30:00', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:30:00', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:30:00', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,673 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 97 and file_name = 'Settings.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 97, 'Settings.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 17:35:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 17:35:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 17:35:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,675 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 97 and file_name = 'Settings.settings';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 97, 'Settings.settings', '.settings', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 16:29:58', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 16:29:58', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 16:29:58', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,677 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,680 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 96 and file_name = 'Form1.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 96, 'Form1.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,682 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 96 and file_name = 'Form1.Designer.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 96, 'Form1.Designer.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,685 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 96 and file_name = 'Form1.resx';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 96, 'Form1.resx', '.resx', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-10-04 11:40:52', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-10-04 11:40:52', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-10-04 11:40:52', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,688 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 96 and file_name = 'LsSample1b.csproj';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 96, 'LsSample1b.csproj', '.csproj', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-11 16:04:16', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-11 16:04:16', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-11 16:04:16', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,691 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 96 and file_name = 'Program.cs';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 96, 'Program.cs', '.cs', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2011-08-03 17:35:06', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2011-08-03 17:35:06', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2011-08-03 17:35:06', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,694 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,695 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 87 
        and folder_name = 'bin';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 87, 'bin', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,698 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int;
      select top 1 @id = folder_id from dn_folders 
       where synch_folder_id = 1 and parent_id = 98 
        and folder_name = 'Debug';
      if(@id is null)
      begin
        insert into dn_folders (synch_folder_id, parent_id, folder_name, readed, dt_ins, dt_lwt)
          values (1, 98, 'Debug', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2021-01-29 15:45:15', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else
      begin
       update dn_folders set readed = 1 where folder_id = @id;
       set ROWCOUNT 0;
       update dn_folders set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2021-01-29 15:45:15', 120) 
        where folder_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2021-01-29 15:45:15', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,701 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 99 and file_name = 'AioiSystems.Lightstep.dll';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 99, 'AioiSystems.Lightstep.dll', '.dll', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2015-12-22 16:39:54', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2015-12-22 16:39:54', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2015-12-22 16:39:54', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,704 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 99 and file_name = 'AioiSystems.Lightstep.xml';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 99, 'AioiSystems.Lightstep.xml', '.xml', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2012-06-29 10:53:42', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2012-06-29 10:53:42', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2012-06-29 10:53:42', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,707 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 99 and file_name = 'LsSample1b.exe';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 99, 'LsSample1b.exe', '.exe', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,710 [15] DEBUG dn_lib.tools.log - SQL: declare @id bigint; declare @tp varchar(10); declare @cc int; 
      select top 1 @id = file_id from dn_files where synch_folder_id = 1 and folder_id = 99 and file_name = 'LsSample1b.pdb';
      if(@id is null)
      begin
        insert into dn_files (synch_folder_id, folder_id, file_name, extension, readed, dt_ins, dt_lwt)
          values (1, 99, 'LsSample1b.pdb', '.pdb', 1, convert(datetime, '2021-03-06 16:17:44', 120), convert(datetime, '2020-01-24 17:01:17', 120));
        select @id = @@IDENTITY, @tp = 'insert', @cc = 1;  
      end
      else 
      begin
       update dn_files set readed = 1 where file_id = @id;
       set ROWCOUNT 0;
       update dn_files set dt_ins = convert(datetime, '2021-03-06 16:17:44', 120), dt_lwt = convert(datetime, '2020-01-24 17:01:17', 120) 
        where file_id = @id and ( isnull(dt_ins, getdate()) <> isnull(convert(datetime, '2021-03-06 16:17:44', 120), getdate())
         or isnull(dt_lwt, getdate()) <> isnull(convert(datetime, '2020-01-24 17:01:17', 120), getdate()));
       select @tp = 'update', @cc = @@ROWCOUNT;       
      end
      select @id, @tp, @cc;
2021-03-06 16:19:13,713 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
2021-03-06 16:19:13,714 [15] DEBUG dn_lib.tools.log - SQL: update tt set tt.dt_lwt = t2.max_dt
         from dn_tasks tt
         join ( select t.*
          from (select dt.task_id, dt.folder_id, dt.dt_lwt
            , (select max(dt_lwt) from dn_files where folder_id = dt.folder_id) as max_dt
          from dn_tasks dt where dt.folder_id is not null and dt.task_id = 53) t
          where t.max_dt is not null and t.dt_lwt < t.max_dt ) t2 on t2.task_id = tt.task_id
         where isnull(tt.dt_lwt, 0) <> t2.max_dt;
        select @@ROWCOUNT;
